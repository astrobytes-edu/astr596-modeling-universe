{"version":2,"kind":"Article","sha256":"a8fa1d98fbc61fcc755cd1b0db059342e3ee52d2cced4dc3e63b4a33aff2141b","slug":"chapter6-oop-fundamentals","location":"/03-scientific-computing-with-python/01-python-fundamentals/chapter6-oop-fundamentals.md","dependencies":[],"frontmatter":{"title":"Chapter 6: Object-Oriented Programming Fundamentals - Organizing Scientific Code","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Anna Rosen","given":"Anna","family":"Rosen"},"name":"Anna Rosen","orcid":"0000-0003-4423-0660","email":"alrosen@sdsu.edu","affiliations":["San Diego State University"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/astrobytes-edu/astr596-modeling-universe","subject":"Modeling the Universe","venue":{"title":"ASTR 596 - Fall 2025","url":"https://www.anna-rosen.com"},"keywords":["computational astrophysics","python","numerical methods","machine learning","monte carlo","neural networks","radiative transfer","bayesian inference","JAX"],"affiliations":[{"id":"San Diego State University","name":"San Diego State University"}],"numbering":{"title":{"offset":2}},"edit_url":"https://github.com/astrobytes-edu/astr596-modeling-universe/blob/main/03-scientific-computing-with-python/01-python-fundamentals/chapter6-oop-fundamentals.md","exports":[{"format":"md","filename":"chapter6-oop-fundamentals.md","url":"/chapter6-oop-fundame-303912573a1515572851e8060f7a075e.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Learning Objectives","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XwEhxwWu4n"}],"identifier":"learning-objectives","label":"Learning Objectives","html_id":"learning-objectives","implicit":true,"key":"F5roYUS89r"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"By the end of this chapter, you will be able to:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"B0xSA21QhO"}],"key":"Nyo2L1KVLY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Transform functions and data into cohesive classes that model scientific concepts","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"BIDEal3Xj0"}],"key":"PpYZHdwDjv"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Distinguish between instance and class attributes and choose appropriately for scientific data","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"q8RJRYWCMb"}],"key":"Cmfqg7t9q1"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Create methods that operate on object state while understanding the role of ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Hq2XjgFUix"},{"type":"inlineCode","value":"self","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"kdogols2Wp"}],"key":"oxjWLHvtgm"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Implement properties to compute derived values and validate scientific constraints","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"WdPvNdLy5T"}],"key":"YqCs3KHTqQ"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Write special methods (","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"uf049eQOcS"},{"type":"inlineCode","value":"__init__","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"eWSQhgijHw"},{"type":"text","value":", ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"CFCUQty85x"},{"type":"inlineCode","value":"__str__","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"UOgNQaTxKt"},{"type":"text","value":", ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"siAdWKbhLj"},{"type":"inlineCode","value":"__repr__","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ptMmyn3ioQ"},{"type":"text","value":") to make objects Pythonic","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"pE9C1qysh7"}],"key":"yqfMAvpBz5"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Debug common OOP errors using introspection tools and error messages","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"FJYozEtszs"}],"key":"mjanbKjIaD"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Recognize when OOP improves code organization versus when functions suffice","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"QhoGKOA5u3"}],"key":"o6JR21i9oY"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Connect the transition from procedural to object-oriented thinking in scientific computing","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"loZFnl5Hkf"}],"key":"yn3z5dSPpq"}],"key":"OXQ4dBjaCv"},{"type":"heading","depth":2,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Prerequisites Check","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"brTLEpLmpH"}],"identifier":"prerequisites-check","label":"Prerequisites Check","html_id":"prerequisites-check","implicit":true,"key":"GzHFU5cKgX"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Before starting this chapter, verify you can:","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"Y9VoicdMiA"}],"key":"rOiUSsH77S"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":18,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"✓ Define and call functions with various parameter types (Chapter 5)","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"PKcUjR73TS"}],"key":"bgv059l4Nm"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"✓ Understand scope and namespaces (Chapter 5)","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"XvQsrBcptR"}],"key":"mOwH6GBPrV"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"✓ Work with dictionaries and their methods (Chapter 4)","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"DaRkM0eN7B"}],"key":"N0hFhWu2uD"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"✓ Create and import modules (Chapter 5)","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"djveqLN1GH"}],"key":"fSrjPlFa2a"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"✓ Handle mutable vs immutable objects (Chapter 4)","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"t4LdlKtb2P"}],"key":"T8lMub06Je"}],"key":"uSzIyUE7pG"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Quick diagnostic:","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"ux8lT5NTnh"}],"key":"SmYkjR0X6z"}],"key":"d50jRKWllz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Can you predict what this prints?\ndef modify(data):\n    data['value'] = data['value'] * 2\n    return data\n\nmeasurement = {'value': 100, 'unit': 'K'}\nresult = modify(measurement)\nprint(f\"Original: {measurement['value']}\")  # What value?\nprint(f\"Result: {result['value']}\")         # What value?","key":"UvAjJhBNEQ"},{"type":"output","id":"AUOuDZEmFjqFvdGI5tBEE","data":[],"key":"Cr6qA7KoSy"}],"key":"WYq2AvqStU"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"If you said both print “200”, you’re ready! Objects work similarly - they’re mutable and passed by reference, which becomes crucial when methods modify object state.","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"rCIJQoi8mP"}],"key":"Foo7lokIkJ"},{"type":"heading","depth":2,"position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"Chapter Overview","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"FljWAlTKYj"}],"identifier":"chapter-overview","label":"Chapter Overview","html_id":"chapter-overview","implicit":true,"key":"CHJrm6fn7T"},{"type":"paragraph","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"You’ve mastered functions to organize behavior and modules to organize related functions. But what happens when data and the functions that operate on it are inseparable? When tracking particles in a simulation, each particle has position, velocity, and mass, along with methods to update position, calculate kinetic energy, and check collisions. Passing all this data between separate functions becomes error-prone and verbose. This is where Object-Oriented Programming transforms your code from a collection of functions to a model of your problem domain.","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"GRO9v2OgUs"}],"key":"z6dID42919"},{"type":"paragraph","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"Object-Oriented Programming (OOP) isn’t just another way to organize code - it’s a fundamental shift in how we think about programs. Instead of viewing code as a sequence of operations on data, we model it as interactions between objects that combine data and behavior. A thermometer knows its temperature and how to convert units. A dataset knows its values and how to calculate statistics. A simulation particle knows its state and how to evolve. This paradigm mirrors how we naturally think about scientific systems, making complex programs more intuitive and maintainable.","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"CucwzyS0rD"}],"key":"tjmosJVRvH"},{"type":"paragraph","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"This chapter introduces OOP’s essential concepts through practical scientific examples. You’ll learn to create classes (blueprints for objects), instantiate objects (specific instances), and define methods (functions attached to objects). We’ll explore how properties provide computed attributes and validation, ensuring your scientific constraints are always satisfied. Most importantly, you’ll develop judgment about when OOP clarifies code (managing stateful systems, modeling entities) versus when it adds unnecessary complexity (simple calculations, stateless transformations). By the end, you’ll understand why NumPy arrays are objects with methods, setting the foundation for leveraging Python’s scientific ecosystem.","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"UmivQy4U1z"}],"key":"QEAviCxMTO"},{"type":"heading","depth":2,"position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"6.1 From Functions to Objects: The Conceptual Leap","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"HfVjsJmns6"}],"identifier":"id-6-1-from-functions-to-objects-the-conceptual-leap","label":"6.1 From Functions to Objects: The Conceptual Leap","html_id":"id-6-1-from-functions-to-objects-the-conceptual-leap","implicit":true,"key":"OiTvRCpCFD"},{"type":"paragraph","position":{"start":{"line":49,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"{margin} ","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"qXdHW55pcP"},{"type":"strong","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"text","value":"Object-Oriented Programming","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"PdafwdF7jE"}],"key":"blLjIucdzt"},{"type":"text","value":"\nA programming paradigm that organizes code around objects (data) and methods (behavior) rather than functions and logic.","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"KdHWh6jkXx"}],"key":"EkGCW9bUlM"},{"type":"paragraph","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"Let’s start with a problem you’ve already solved with functions, then transform it into objects to see the difference. In Python, everything is actually an object - even functions and modules! But some objects are more complex than others, and creating your own classes lets you model your specific problem domain.","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"j9IYWSk8uV"}],"key":"KgyVMuqW8s"}],"key":"fUiUQGC67J"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Approach 1: Functions with dictionaries (what you know)\ndef create_particle(mass, x, y, vx, vy):\n    \"\"\"Create a particle dictionary.\"\"\"\n    return {\n        'mass': mass,  # grams\n        'x': x, 'y': y,  # cm\n        'vx': vx, 'vy': vy  # cm/s\n    }\n\ndef kinetic_energy(particle):\n    \"\"\"Calculate kinetic energy in ergs.\"\"\"\n    v_squared = particle['vx']**2 + particle['vy']**2\n    return 0.5 * particle['mass'] * v_squared\n\ndef update_position(particle, dt):\n    \"\"\"Update position based on velocity.\"\"\"\n    particle['x'] += particle['vx'] * dt\n    particle['y'] += particle['vy'] * dt\n    return particle\n\n# Using functions\np1 = create_particle(1.0, 0, 0, 10, 5)\nenergy = kinetic_energy(p1)\np1 = update_position(p1, 0.1)\nprint(f\"Energy: {energy:.1f} ergs\")","key":"Vq3IMkARah"},{"type":"output","id":"j0i9y7Y3s0M0f1IH2t0yL","data":[],"key":"hrfBRG68d5"}],"key":"GizMmhYpp6"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"children":[{"type":"text","value":"Now let’s see the same problem with OOP:","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"FK2P3pypzq"}],"key":"TePsrrsYsS"}],"key":"ATHBS4VZ9g"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Approach 2: Object-Oriented (what you're learning)\nclass Particle:\n    \"\"\"A particle with position and velocity.\"\"\"\n    \n    def __init__(self, mass, x, y, vx, vy):\n        \"\"\"Initialize particle state.\"\"\"\n        self.mass = mass  # grams\n        self.x = x        # cm\n        self.y = y        # cm\n        self.vx = vx      # cm/s\n        self.vy = vy      # cm/s\n    \n    def kinetic_energy(self):\n        \"\"\"Calculate kinetic energy in ergs.\"\"\"\n        v_squared = self.vx**2 + self.vy**2\n        return 0.5 * self.mass * v_squared\n    \n    def update_position(self, dt):\n        \"\"\"Update position based on velocity.\"\"\"\n        self.x += self.vx * dt\n        self.y += self.vy * dt\n\n# Using objects\np2 = Particle(1.0, 0, 0, 10, 5)\nenergy = p2.kinetic_energy()\np2.update_position(0.1)\nprint(f\"Energy: {energy:.1f} ergs\")","key":"EcW2soeHTb"},{"type":"output","id":"CCYlyC3XZhkJ3E3p2-KCD","data":[],"key":"vp6ZmiQCx1"}],"key":"uuV5CRc5si"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"text","value":"Both approaches solve the problem, but notice the differences:","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"k2trnKOftW"}],"key":"EeuNBQpUQE"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":115,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"strong","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"Organization","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"NQUo2VDTz5"}],"key":"BceBLQv62e"},{"type":"text","value":": Data and methods stay together in the class","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"tKIs08ugnt"}],"key":"HHI5WPl7Kv"},{"type":"listItem","spread":true,"position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"children":[{"type":"strong","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"children":[{"type":"text","value":"Syntax","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"r8mFFgjYzq"}],"key":"m19LKyKLQd"},{"type":"text","value":": Methods are called on objects (","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"sMf92d3HfT"},{"type":"inlineCode","value":"p2.kinetic_energy()","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"Akbbk9d82S"},{"type":"text","value":")","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"eXcZ6ayeWv"}],"key":"sn9JmkI1On"},{"type":"listItem","spread":true,"position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"strong","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"text","value":"State","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"ZlCMCEvIv8"}],"key":"koM8aEewf2"},{"type":"text","value":": The object maintains its own state between method calls","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"BrJiMX8RhJ"}],"key":"aNtNRXWhIO"},{"type":"listItem","spread":true,"position":{"start":{"line":118,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"strong","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"text","value":"Clarity","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"aVlyzDSjeq"}],"key":"qANKiqqGFX"},{"type":"text","value":": The object-oriented version reads more naturally","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"M7ciLrB3bX"}],"key":"lcKwRvjIJ9"}],"key":"YwpVPvTZCx"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🎭 The More You Know: How Objects Saved the Mars Rover","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"yQT9ksG7mO"}],"key":"RnSMnIo79d"},{"type":"paragraph","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"In 2004, NASA’s Spirit rover suddenly stopped responding, 18 days into its mission. The cause? Procedural code managing 250+ hardware components through global variables and scattered functions. When flash memory filled up, the initialization functions couldn’t track which subsystems were already started, causing an infinite reboot loop.","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"zfxbeUMwz7"}],"key":"A1z30z5Rq0"},{"type":"paragraph","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"The fix came from JPL engineer Jennifer Trosper, who had warned about this exact scenario. The team remotely patched the rover’s software to use object-oriented design. Each hardware component became an object tracking its own state:","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"Jm7j7g1TIt"}],"key":"rgUJcEUX9N"},{"type":"code","lang":"python","value":"class RoverComponent:\n    def __init__(self, name):\n        self.name = name\n        self.initialized = False\n        self.error_count = 0\n    \n    def initialize(self):\n        if not self.initialized:\n            # Safe initialization\n            self.initialized = True","position":{"start":{"line":127,"column":1},"end":{"line":138,"column":1}},"key":"LMru0NEvqo"},{"type":"paragraph","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"children":[{"type":"text","value":"This simple change - objects knowing their own state - saved a $400 million mission. Spirit went on to operate for 6 years instead of the planned 90 days. When Curiosity launched in 2011, its entire control system used OOP from the start. Each instrument is an object, each motor is an object, even each wheel is an object with its own wear tracking.","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"key":"K6CdNenQNw"}],"key":"hnLENuDqYI"},{"type":"paragraph","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"children":[{"type":"text","value":"You’re learning the same pattern that keeps billion-dollar spacecraft alive on other planets!","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"WjAFMLxFE4"}],"key":"FNx8MTXAaS"}],"class":"note, story","key":"qccyTgOx3C"},{"type":"heading","depth":2,"position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"text","value":"6.2 Classes and Objects: Building Blocks","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"NvoaSPAVev"}],"identifier":"id-6-2-classes-and-objects-building-blocks","label":"6.2 Classes and Objects: Building Blocks","html_id":"id-6-2-classes-and-objects-building-blocks","implicit":true,"key":"bveWUNiR2c"},{"type":"paragraph","position":{"start":{"line":147,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"text","value":"{margin} ","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"rfZqPYKGs3"},{"type":"strong","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"Class","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"zPwf4yp6Wq"}],"key":"AhWrDdXeDv"},{"type":"text","value":"\nA blueprint or template for creating objects that defines attributes and methods.","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"D8Kpj6rKP8"}],"key":"tsrVgLsZNb"},{"type":"paragraph","position":{"start":{"line":150,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"{margin} ","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"ARqUtGplHh"},{"type":"strong","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"text","value":"Object","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"ubBxrr2EQ8"}],"key":"lCY84Z990v"},{"type":"text","value":"\nA specific instance of a class containing data (attributes) and behavior (methods).","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"eqAXxAwP9a"}],"key":"hWkdCDc8fu"},{"type":"paragraph","position":{"start":{"line":153,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"text","value":"{margin} ","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"pTVN6Ilgaa"},{"type":"strong","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"text","value":"Constructor","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"ekQO3XMeFj"}],"key":"tirvOJojx7"},{"type":"text","value":"\nThe ","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"g4FHIuU4FD"},{"type":"inlineCode","value":"__init__","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"TOycwNYNFY"},{"type":"text","value":" method that initializes new objects when they’re created.","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"K5Hw5Jn28W"}],"key":"Hs9mk2diBs"},{"type":"paragraph","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"text","value":"Before we dive into creating classes, let’s understand why we need them beyond the simple example we just saw. As your programs grow, you face several challenges that classes elegantly solve:","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"NHHA54BAd4"}],"key":"cIBD7YFudl"},{"type":"paragraph","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"children":[{"type":"strong","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"children":[{"type":"text","value":"Namespace pollution","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"OetLXw8QDt"}],"key":"xU3twpW60N"},{"type":"text","value":": Without classes, you might have functions like ","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"Y5VVyBM0M8"},{"type":"inlineCode","value":"calculate_star_luminosity()","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"Ut9L20c17b"},{"type":"text","value":", ","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"Jnnn2oFJhG"},{"type":"inlineCode","value":"calculate_planet_mass()","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"yzsofnmZ9y"},{"type":"text","value":", ","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"IyrNKL2hc9"},{"type":"inlineCode","value":"calculate_galaxy_distance()","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"CLI3537Zkl"},{"type":"text","value":" - your namespace becomes cluttered with hundreds of related functions.","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"eUJ4wT367W"}],"key":"MVOHEiY2c0"},{"type":"paragraph","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"strong","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"text","value":"Data consistency","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"waB7b0NEVC"}],"key":"tzOACotpgI"},{"type":"text","value":": When data and functions are separate, nothing prevents you from passing a galaxy’s data to a star’s calculation function, potentially causing silent errors or crashes.","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"ZCkuT1wngn"}],"key":"NiiDrNTY6G"},{"type":"paragraph","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"strong","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"Code reusability","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"KWHwiyCnkt"}],"key":"UVWTt860fj"},{"type":"text","value":": With functions alone, similar behaviors must be duplicated. Every object type needs its own set of functions even when the logic is similar.","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"vdkEjNY2rL"}],"key":"aFXD25ifSR"},{"type":"paragraph","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"children":[{"type":"strong","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"children":[{"type":"text","value":"Conceptual clarity","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"figIrhk2Pi"}],"key":"E5IQ1P2rM3"},{"type":"text","value":": We naturally think of stars, planets, and galaxies as entities with properties and behaviors. Classes let us model this intuition directly in code.","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"OtuDJa0Chv"}],"key":"Pm8TOUf0U8"},{"type":"paragraph","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"text","value":"A ","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"HkkhvuAINy"},{"type":"strong","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"text","value":"class","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"CT8hsBJP4b"}],"key":"vxeOfdD3TD"},{"type":"text","value":" is a blueprint for creating objects. An ","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"HEsydqKXvx"},{"type":"strong","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"text","value":"object","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"cJAmUNPWlk"}],"key":"FXYSYvZ4Gf"},{"type":"text","value":" (or instance) is a specific realization of that blueprint. Think of a class as the concept “thermometer” and objects as specific thermometers in your lab.","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"KcywtqMJbF"}],"key":"R9ouMBlkmS"}],"key":"Ya09hoBIzb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Define a class (blueprint)\nclass Measurement:\n    \"\"\"A scientific measurement with uncertainty.\"\"\"\n    \n    def __init__(self, value, error):\n        \"\"\"Initialize measurement with value and error.\"\"\"\n        self.value = value\n        self.error = error\n    \n    def relative_error(self):\n        \"\"\"Calculate relative error as percentage.\"\"\"\n        if self.value == 0:\n            return float('inf')\n        return abs(self.error / self.value) * 100\n\n# Create objects (instances)\ntemp = Measurement(273.15, 0.1)  # Temperature in Kelvin\n# Pressure in dyne/cm² (CGS unit for pressure)\npressure = Measurement(1.01325e6, 500)  # 1 atm = 1.01325e6 dyne/cm²\n\nprint(f\"Temperature: {temp.value} ± {temp.error} K\")\nprint(f\"Pressure: {pressure.value:.2e} ± {pressure.error} dyne/cm²\")\nprint(f\"Pressure relative error: {pressure.relative_error():.3f}%\")","key":"MX5x5tLydc"},{"type":"output","id":"3C4oNMKosRFSKD9Idk4zE","data":[],"key":"mUEfIrqyc8"}],"key":"szJKBodwNI"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"children":[{"type":"text","value":"Understanding ","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"uz6QsPBuPt"},{"type":"inlineCode","value":"self","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"KaJxbxDgG1"}],"identifier":"understanding-self","label":"Understanding self","html_id":"understanding-self","implicit":true,"key":"zLqJfCL7d3"},{"type":"paragraph","position":{"start":{"line":196,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"text","value":"{margin} ","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"oi8iS3KoRP"},{"type":"strong","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"children":[{"type":"text","value":"self","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"bh2aBQxe0z"}],"key":"MfPYqxXQi3"},{"type":"text","value":"\nThe first parameter of instance methods, referring to the specific object being operated on.","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"cx48SDXMZz"}],"key":"RzfomNkkg7"},{"type":"paragraph","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"Hu8BdWzqJ5"},{"type":"inlineCode","value":"self","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"tGM17K6X4P"},{"type":"text","value":" parameter is how each object keeps track of its own data. When you call ","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"oXzIqJyQmA"},{"type":"inlineCode","value":"temp.relative_error()","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"pnl4IEX4BP"},{"type":"text","value":", Python automatically passes ","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"AWzfT56N6r"},{"type":"inlineCode","value":"temp","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"rUx89Pg560"},{"type":"text","value":" as the first argument. Here’s what happens behind the scenes:","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"evWPWi4r1d"}],"key":"YsyjAjTh0w"}],"key":"bafvcRzX9Y"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class Counter:\n    \"\"\"Demonstrates how self works.\"\"\"\n    \n    def __init__(self):\n        \"\"\"Initialize counter at zero.\"\"\"\n        self.count = 0  # Each object gets its own count\n    \n    def increment(self):\n        \"\"\"Increment this counter by one.\"\"\"\n        self.count += 1  # self refers to the specific object\n    \n    def get_count(self):\n        \"\"\"Return current count value.\"\"\"\n        return self.count\n\n# Each object maintains independent state\nc1 = Counter()\nc2 = Counter()\n\nc1.increment()\nc1.increment()\nc2.increment()\n\nprint(f\"Counter 1: {c1.get_count()}\")  # 2\nprint(f\"Counter 2: {c2.get_count()}\")  # 1\n\n# What Python actually does when you call c1.increment():\n# Counter.increment(c1)  # c1 becomes 'self' in the method","key":"jbcST1Cy0Y"},{"type":"output","id":"DaGDQY2INmLOE-K_23b8R","data":[],"key":"JRawfayVKa"}],"key":"CF5Fxa9Vg1"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":232,"column":1},"end":{"line":232,"column":1}},"children":[{"type":"text","value":"This seemingly simple concept of bundling data with behavior revolutionized programming. Let me tell you how it started...","position":{"start":{"line":232,"column":1},"end":{"line":232,"column":1}},"key":"qoaq7gCUdg"}],"key":"ec41uchAQs"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🎭 The More You Know: How Norwegian Scientists Invented OOP to Model Ships","position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"key":"NkkuOSrjYi"}],"key":"xePI6URAOH"},{"type":"paragraph","position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"children":[{"type":"text","value":"In 1962, Norwegian computer scientists Kristen Nygaard and Ole-Johan Dahl faced an impossible problem at the Norwegian Computing Center. They were trying to simulate ship movement through fjords, tracking hundreds of vessels with different properties, behaviors, and interactions. Their FORTRAN code had become an unmaintainable nightmare of global variables and GOTO statements - a single change could break the entire simulation.","position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"key":"BcYdtiMeGr"}],"key":"kB1FRXt5vf"},{"type":"paragraph","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"children":[{"type":"text","value":"Their revolutionary solution? Create “objects” that bundled ship data with ship behavior. Each ship would know its own position, speed, cargo capacity, and fuel consumption, and could execute its own navigation methods. They called their language Simula (SIMUlation LAnguage), and in 1967, Simula 67 introduced the world to classes, objects, inheritance, and virtual methods - all the concepts you’re learning now.","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"nFKQG0z8qI"}],"key":"K78PKXLaKM"},{"type":"code","lang":"python","value":"# Simplified version of their concept in modern Python:\nclass Ship:\n    def __init__(self, name, position, cargo):\n        self.name = name\n        self.position = position\n        self.cargo = cargo\n    \n    def navigate_through_fjord(self, fjord_map):\n        # Each ship knows how to navigate based on its own properties\n        pass","position":{"start":{"line":241,"column":1},"end":{"line":252,"column":1}},"key":"IHEr8ablWo"},{"type":"paragraph","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"children":[{"type":"text","value":"The impact was profound. Alan Kay, who later created Smalltalk, said: “I thought of objects being like biological cells... only able to communicate with messages” (simplified paraphrase of his 1960s realization). This biological metaphor transformed computing. IBM adopted OOP for their systems. C++ brought it to systems programming. Java made it mainstream.","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"KZphzQuXp3"}],"key":"JguJcAmIhi"},{"type":"paragraph","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"children":[{"type":"text","value":"The irony? Nygaard and Dahl’s supervisor initially rejected their idea, reportedly saying something like “We’re here to solve problems, not create new programming paradigms!” (paraphrased from various historical accounts). That “paradigm” now powers everything from video games to Mars rovers to the Large Hadron Collider’s data analysis. Today, when you create a Particle class or a Galaxy object, you’re using concepts invented to help Norwegian ships navigate safely through narrow fjords!","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"M6I3FcOtz3"}],"key":"LAV9veGI5J"},{"type":"paragraph","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"children":[{"type":"text","value":"[Source: Nygaard, K., & Dahl, O. J. (1978). The development of the SIMULA languages. ACM SIGPLAN Notices, 13(8), 245-272.]","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"GOWvwshHXE"}],"key":"GCOy0Z5fdn"}],"key":"gDYN6ZIIlh"}],"class":"note, story","key":"sNLGeeatqd"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"⚠️ Common Bug Alert: Forgetting self","position":{"start":{"line":261,"column":1},"end":{"line":261,"column":1}},"key":"nwcy0WaZaB"}],"key":"EvnCjLNOOx"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# WRONG - Missing self parameter\nclass BadClass:\n    def method():  # Missing self!\n        return \"something\"\n\n# This fails:\n# obj = BadClass()\n# obj.method()  # TypeError: takes 0 arguments but 1 given\n\n# CORRECT - Always include self\nclass GoodClass:\n    def method(self):  # self is required\n        return \"something\"\n\nobj = GoodClass()\nprint(obj.method())  # Works!","visibility":"show","key":"LG3IN0zdOy"},{"type":"output","id":"4OKXiVhQzcNmLbotv7IuI","data":[],"visibility":"show","key":"iNQd7D9VMZ"}],"data":{"tags":["raises-exception"]},"visibility":"show","key":"Kj9YCxnNsw"},{"type":"paragraph","position":{"start":{"line":285,"column":1},"end":{"line":285,"column":1}},"children":[{"type":"text","value":"This is probably the most common OOP error. Remember: instance methods ALWAYS need ","position":{"start":{"line":285,"column":1},"end":{"line":285,"column":1}},"key":"UQdIbcxl4t"},{"type":"inlineCode","value":"self","position":{"start":{"line":285,"column":1},"end":{"line":285,"column":1}},"key":"Jt9B2dCA7X"},{"type":"text","value":" as their first parameter.","position":{"start":{"line":285,"column":1},"end":{"line":285,"column":1}},"key":"oYcDIDI36t"}],"key":"XG5Hf8zcgR"}],"class":"warning","key":"p0ZuboOeyh"},{"type":"heading","depth":3,"position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"children":[{"type":"text","value":"Instance vs Class Attributes","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"key":"j8xPBiMoii"}],"identifier":"instance-vs-class-attributes","label":"Instance vs Class Attributes","html_id":"instance-vs-class-attributes","implicit":true,"key":"ZAHQa8HG1z"},{"type":"paragraph","position":{"start":{"line":290,"column":1},"end":{"line":291,"column":1}},"children":[{"type":"text","value":"{margin} ","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"LKu1GPVUxe"},{"type":"strong","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"children":[{"type":"text","value":"Instance Attribute","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"HEPpvNyuqu"}],"key":"bkDizQ15fe"},{"type":"text","value":"\nData unique to each object, defined with ","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"YJtqmPmzh0"},{"type":"inlineCode","value":"self.attribute","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"F9L0TK4i6z"},{"type":"text","value":".","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"oKxN4hbcKd"}],"key":"jMbS0htxtY"},{"type":"paragraph","position":{"start":{"line":293,"column":1},"end":{"line":294,"column":1}},"children":[{"type":"text","value":"{margin} ","position":{"start":{"line":293,"column":1},"end":{"line":293,"column":1}},"key":"VKalWxSfb8"},{"type":"strong","position":{"start":{"line":293,"column":1},"end":{"line":293,"column":1}},"children":[{"type":"text","value":"Class Attribute","position":{"start":{"line":293,"column":1},"end":{"line":293,"column":1}},"key":"kTco8KfAko"}],"key":"typ32ofFYC"},{"type":"text","value":"\nData shared by all instances of a class, defined directly in the class body.","position":{"start":{"line":293,"column":1},"end":{"line":293,"column":1}},"key":"BfyYJhcYop"}],"key":"qZ6G4hq3WZ"},{"type":"paragraph","position":{"start":{"line":296,"column":1},"end":{"line":297,"column":1}},"children":[{"type":"text","value":"{margin} ","position":{"start":{"line":296,"column":1},"end":{"line":296,"column":1}},"key":"jwE4CW1BPO"},{"type":"strong","position":{"start":{"line":296,"column":1},"end":{"line":296,"column":1}},"children":[{"type":"text","value":"Encapsulation","position":{"start":{"line":296,"column":1},"end":{"line":296,"column":1}},"key":"ZcJ89ez9qx"}],"key":"FHJ19B3FVd"},{"type":"text","value":"\nThe bundling of data and methods that operate on that data within a single unit (class).","position":{"start":{"line":296,"column":1},"end":{"line":296,"column":1}},"key":"OGCHl3jW2V"}],"key":"QsYUTHeu8y"},{"type":"paragraph","position":{"start":{"line":299,"column":1},"end":{"line":299,"column":1}},"children":[{"type":"text","value":"Instance attributes belong to specific objects. Class attributes are shared by all instances. This bundling of data and methods is called ","position":{"start":{"line":299,"column":1},"end":{"line":299,"column":1}},"key":"x15UXMQ0zj"},{"type":"strong","position":{"start":{"line":299,"column":1},"end":{"line":299,"column":1}},"children":[{"type":"text","value":"encapsulation","position":{"start":{"line":299,"column":1},"end":{"line":299,"column":1}},"key":"njyGcO5h6b"}],"key":"pkio1wJQt1"},{"type":"text","value":" - a core principle of OOP:","position":{"start":{"line":299,"column":1},"end":{"line":299,"column":1}},"key":"bbTa58Kt1i"}],"key":"WLntr8zAQM"}],"key":"H2VUx8yske"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class Simulation:\n    \"\"\"Demonstrates instance vs class attributes.\"\"\"\n    \n    # Class attribute - shared by all simulations\n    speed_of_light = 2.998e10  # cm/s (CGS)\n    total_runs = 0\n    \n    def __init__(self, name, particles):\n        \"\"\"Initialize a new simulation.\"\"\"\n        # Instance attributes - unique to each simulation\n        self.name = name\n        self.particles = particles\n        self.time = 0.0\n        # Increment shared counter\n        Simulation.total_runs += 1\n    \n    def advance(self, dt):\n        \"\"\"Advance simulation by dt seconds.\"\"\"\n        self.time += dt\n\n# Create simulations\nsim1 = Simulation(\"Test A\", 1000)\nsim2 = Simulation(\"Test B\", 5000)\n\nprint(f\"Total simulations: {Simulation.total_runs}\")\nprint(f\"Sim1 particles: {sim1.particles}\")\nprint(f\"Sim2 particles: {sim2.particles}\")\nprint(f\"Speed of light: {Simulation.speed_of_light} cm/s\")","key":"CXBaqLLndE"},{"type":"output","id":"28CKoXE3fCuJzd6JO7ZJR","data":[],"key":"WI1QyHNIbH"}],"key":"SXvDXl6pKu"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🔍 Check Your Understanding","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"VXZ3Mld3ni"}],"key":"Bx1K1KJ41c"},{"type":"paragraph","position":{"start":{"line":335,"column":1},"end":{"line":335,"column":1}},"children":[{"type":"text","value":"What’s the output of this code? Why?","position":{"start":{"line":335,"column":1},"end":{"line":335,"column":1}},"key":"cIIAEcZqBD"}],"key":"CXhWZbFZmC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class DataPoint:\n    count = 0  # Class attribute\n    \n    def __init__(self, value):\n        self.value = value  # Instance attribute\n        DataPoint.count += 1\n\np1 = DataPoint(10)\np2 = DataPoint(20)\np1.count = 100  # What happens here?\n\nprint(f\"p1.count: {p1.count}\")\nprint(f\"p2.count: {p2.count}\")\nprint(f\"DataPoint.count: {DataPoint.count}\")","key":"YGOIe1LqOU"},{"type":"output","id":"ZFx8SToUS8z_KGz00VU3M","data":[],"key":"dCDjt9rzOk"}],"key":"htYM2Qmq07"},{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Answer","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"qqhCQScxtH"}],"key":"K48o4MVPz0"},{"type":"paragraph","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"text","value":"Output:","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"gPRi0SQ3DU"}],"key":"lngm4Jc0Xi"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":356,"column":1},"end":{"line":359,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":356,"column":1},"end":{"line":356,"column":1}},"children":[{"type":"inlineCode","value":"p1.count: 100","position":{"start":{"line":356,"column":1},"end":{"line":356,"column":1}},"key":"aScklFyyVg"}],"key":"Vn1H4K1uTy"},{"type":"listItem","spread":true,"position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"children":[{"type":"inlineCode","value":"p2.count: 2","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"YYC8nz4UwC"}],"key":"i6yh9nT4Gq"},{"type":"listItem","spread":true,"position":{"start":{"line":358,"column":1},"end":{"line":359,"column":1}},"children":[{"type":"inlineCode","value":"DataPoint.count: 2","position":{"start":{"line":358,"column":1},"end":{"line":358,"column":1}},"key":"ZKTa1qbs2J"}],"key":"WYSpzk5Rbd"}],"key":"G8MAZl0YpI"},{"type":"paragraph","position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"children":[{"type":"text","value":"When you write ","position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"key":"qV9wDm19WV"},{"type":"inlineCode","value":"p1.count = 100","position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"key":"nLHjgHtXPa"},{"type":"text","value":", you create a new instance attribute that shadows the class attribute for ","position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"key":"fofVEDy0hr"},{"type":"inlineCode","value":"p1","position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"key":"ydtcyY15dk"},{"type":"text","value":" only. The class attribute remains unchanged at 2, and ","position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"key":"R0hH1UwfUo"},{"type":"inlineCode","value":"p2","position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"key":"d1a453gzWg"},{"type":"text","value":" still sees the class attribute. This is a common source of confusion - instance attributes can hide class attributes with the same name!","position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"key":"NckdpzdeEx"}],"key":"s99lJnU7Dz"}],"key":"ZDl4zVrGmB"}],"class":"question","key":"H2kL0lmJ8A"},{"type":"code","lang":"","value":"\n## 6.3 Methods: Functions Attached to Objects\n\n{margin} **Method**\nA function defined inside a class that operates on instances of that class.\n\nMethods are functions that belong to a class. They can access and modify the object's state through `self`. Let's build up from simple to complex.\n\nNote: In Python, we typically import modules at the top of our files for clarity and efficiency. While Python allows imports anywhere in code, importing at the top makes dependencies clear and avoids repeated import overhead. In these examples, we sometimes import inside methods for pedagogical clarity, but in production code, prefer top-level imports.\n\n```{code-cell} python\nimport math  # Best practice: import at the top\n\n# First: A simple class with basic methods\nclass Sample:\n    \"\"\"Scientific sample with basic operations.\"\"\"\n    \n    def __init__(self, mass_g, volume_cm3):\n        \"\"\"Initialize with mass in grams, volume in cm³.\"\"\"\n        self.mass = mass_g\n        self.volume = volume_cm3\n    \n    def density(self):\n        \"\"\"Calculate density in g/cm³.\"\"\"\n        return self.mass / self.volume\n    \n    def is_denser_than_water(self):\n        \"\"\"Check if denser than water (1 g/cm³).\"\"\"\n        return self.density() > 1.0\n\n# Using simple methods\niron = Sample(7.87, 1.0)  # Iron sample\nprint(f\"Iron density: {iron.density()} g/cm³\")\nprint(f\"Sinks in water: {iron.is_denser_than_water()}\")\n```\n\nNow let's advance to more complex mathematical methods:\n\n```{code-cell} python\nclass Vector2D:\n    \"\"\"A 2D vector for physics calculations.\"\"\"\n    \n    def __init__(self, x, y):\n        \"\"\"Initialize vector components in cm.\"\"\"\n        self.x = x\n        self.y = y\n    \n    def magnitude(self):\n        \"\"\"Calculate vector magnitude (length).\"\"\"\n        return (self.x**2 + self.y**2)**0.5\n    \n    def normalize(self):\n        \"\"\"Scale vector to unit length (magnitude = 1).\"\"\"\n        mag = self.magnitude()\n        if mag > 0:\n            self.x /= mag\n            self.y /= mag\n    \n    def dot(self, other):\n        \"\"\"Calculate dot product with another vector.\"\"\"\n        return self.x * other.x + self.y * other.y\n    \n    def angle_with(self, other):\n        \"\"\"Calculate angle with another vector in radians.\"\"\"\n        dot_product = self.dot(other)\n        mags = self.magnitude() * other.magnitude()\n        if mags == 0:\n            return 0\n        cos_angle = dot_product / mags\n        # Clamp to [-1, 1] to avoid numerical errors\n        cos_angle = max(-1, min(1, cos_angle))\n        return math.acos(cos_angle)\n\n# Using vector methods\nv1 = Vector2D(3, 4)\nv2 = Vector2D(1, 0)\n\nprint(f\"v1 magnitude: {v1.magnitude()} cm\")\nprint(f\"Dot product: {v1.dot(v2)} cm²\")\nprint(f\"Angle: {v1.angle_with(v2):.2f} radians\")\n\nv1.normalize()  # Makes magnitude = 1\nprint(f\"After normalization: ({v1.x:.2f}, {v1.y:.2f})\")\nprint(f\"New magnitude: {v1.magnitude():.2f}\")\n```\n\n:::{admonition} 🔍 Check Your Understanding\n:class: question\n\nWhy does `normalize()` modify the vector in place while `magnitude()` returns a value?\n\n:::{dropdown} Answer\nThis follows a common convention in programming: methods that transform an object modify it in place (like `list.sort()`), while methods that calculate values return them without changing the object. The names hint at this pattern: \"normalize\" is a verb suggesting action on the object, while \"magnitude\" is a noun suggesting a property being measured. This convention helps users predict method behavior from the name alone.","position":{"start":{"line":362,"column":1},"end":{"line":456,"column":1}},"key":"OsFbyBPNHC"},{"type":"code","lang":"","value":"\n### Method Types: Instance, Class, and Static\n\n```{code-cell} python\nclass DataProcessor:\n    \"\"\"Demonstrates different method types.\"\"\"\n    \n    version = \"1.0\"\n    \n    def __init__(self, data):\n        \"\"\"Initialize with data to process.\"\"\"\n        self.data = data\n    \n    # Instance method - needs self\n    def process(self):\n        \"\"\"Process this object's data.\"\"\"\n        return sum(self.data) / len(self.data)\n    \n    # Class method - gets class, not instance\n    @classmethod\n    def from_file(cls, filename):\n        \"\"\"Create instance from file.\"\"\"\n        # Simulate file reading\n        data = [1, 2, 3, 4, 5]\n        return cls(data)  # Create new instance\n    \n    # Static method - doesn't need self or cls\n    @staticmethod\n    def validate_data(data):\n        \"\"\"Check if data is valid.\"\"\"\n        return len(data) > 0 and all(isinstance(x, (int, float)) for x in data)\n\n# Using different method types\nprocessor = DataProcessor([10, 20, 30])\nprint(f\"Average: {processor.process()}\")\n\n# Class method creates new instance\n# processor2 = DataProcessor.from_file(\"data.txt\")\n\n# Static method works without instance\nvalid = DataProcessor.validate_data([1, 2, 3])\nprint(f\"Data valid: {valid}\")\n```\n\n:::{admonition} 💡 Computational Thinking Box: Methods as Interface\n:class: tip\n\n**PATTERN: Public Interface vs Private Implementation**\n\nIn scientific software, methods define how objects interact. Think of methods as the object's \"API\" - what it promises to do regardless of internal implementation.\n\n**Public Interface** (what users see):\n- `particle.update_position(dt)`\n- `measurement.get_uncertainty()`\n- `simulation.run_steps(100)`\n\n**Private Implementation** (internal details):\n- How position is stored (Cartesian? polar?)\n- How uncertainty is calculated\n- What algorithm updates the simulation\n\nThis separation allows you to change implementation without breaking code that uses your objects. NumPy arrays exemplify this: `arr.mean()` works the same whether the array is stored in row-major or column-major order, in RAM or memory-mapped.\n\n**Best Practice**: Start method names with underscore (`_`) to indicate internal methods not meant for external use.","position":{"start":{"line":457,"column":1},"end":{"line":522,"column":1}},"key":"PVTd3xHvgv"},{"type":"heading","depth":2,"position":{"start":{"line":524,"column":1},"end":{"line":524,"column":1}},"children":[{"type":"text","value":"6.4 Properties: Smart Attributes","position":{"start":{"line":524,"column":1},"end":{"line":524,"column":1}},"key":"tLIfVk1Mvq"}],"identifier":"id-6-4-properties-smart-attributes","label":"6.4 Properties: Smart Attributes","html_id":"id-6-4-properties-smart-attributes","implicit":true,"key":"ECkbB02JiY"},{"type":"paragraph","position":{"start":{"line":526,"column":1},"end":{"line":527,"column":1}},"children":[{"type":"text","value":"{margin} ","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"kjnalDJ5CV"},{"type":"strong","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"children":[{"type":"text","value":"Property","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"iEdMDl3POT"}],"key":"EXsmoFAOPy"},{"type":"text","value":"\nA special attribute that executes code when accessed or set, created with the ","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"QRU8qjrpp7"},{"type":"inlineCode","value":"@property","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"U7wxgBd1uQ"},{"type":"text","value":" decorator.","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"TLVw4stGo4"}],"key":"nYjBjcDWTP"},{"type":"paragraph","position":{"start":{"line":529,"column":1},"end":{"line":530,"column":1}},"children":[{"type":"text","value":"{margin} ","position":{"start":{"line":529,"column":1},"end":{"line":529,"column":1}},"key":"I2AKsJ8ofK"},{"type":"strong","position":{"start":{"line":529,"column":1},"end":{"line":529,"column":1}},"children":[{"type":"text","value":"Setter","position":{"start":{"line":529,"column":1},"end":{"line":529,"column":1}},"key":"lDHuVWPlf0"}],"key":"UehoAm004s"},{"type":"text","value":"\nA property method that validates and sets attribute values, defined with ","position":{"start":{"line":529,"column":1},"end":{"line":529,"column":1}},"key":"UIwwPEcYL6"},{"type":"inlineCode","value":"@attribute.setter","position":{"start":{"line":529,"column":1},"end":{"line":529,"column":1}},"key":"n1kgSVJXqb"},{"type":"text","value":".","position":{"start":{"line":529,"column":1},"end":{"line":529,"column":1}},"key":"A2xf1zQZVL"}],"key":"f2sZo2snCS"},{"type":"paragraph","position":{"start":{"line":532,"column":1},"end":{"line":532,"column":1}},"children":[{"type":"text","value":"Properties let you compute attributes dynamically and validate data when it’s set. They make objects safer and more intuitive:","position":{"start":{"line":532,"column":1},"end":{"line":532,"column":1}},"key":"tTv4t9b4aw"}],"key":"pKsRn9hnW7"}],"key":"qW3ucosyvB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class Circle:\n    \"\"\"Circle with computed properties.\"\"\"\n    \n    def __init__(self, radius):\n        \"\"\"Initialize with radius, using validation.\"\"\"\n        # This now uses the setter for validation!\n        self.radius = radius\n    \n    @property\n    def radius(self):\n        \"\"\"Get radius in cm.\"\"\"\n        return self._radius\n    \n    @radius.setter\n    def radius(self, value):\n        \"\"\"Set radius with validation.\"\"\"\n        if value <= 0:\n            raise ValueError(f\"Radius must be positive, got {value}\")\n        self._radius = value\n    \n    @property\n    def area(self):\n        \"\"\"Computed area in cm² using πr².\"\"\"\n        return math.pi * self._radius**2\n    \n    @property\n    def circumference(self):\n        \"\"\"Computed circumference in cm using 2πr.\"\"\"\n        return 2 * math.pi * self._radius\n\n# Properties look like attributes but run code\ncircle = Circle(5)\nprint(f\"Radius: {circle.radius} cm\")\nprint(f\"Area: {circle.area:.2f} cm²\")\nprint(f\"Circumference: {circle.circumference:.2f} cm\")\n\n# Changing radius automatically updates computed properties\ncircle.radius = 10\nprint(f\"New area: {circle.area:.2f} cm²\")\n\n# Validation prevents invalid states (even in __init__ now!)\ntry:\n    bad_circle = Circle(-5)  # This will raise an error\nexcept ValueError as e:\n    print(f\"Error: {e}\")","key":"KjmyUri2MN"},{"type":"output","id":"yodgnKczap6uSoXRjKFEn","data":[],"key":"wAOSzAr0B5"}],"key":"F8w74J8GGo"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"children":[{"type":"text","value":"Properties for Unit Safety","position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"key":"lqoWlRbjtS"}],"identifier":"properties-for-unit-safety","label":"Properties for Unit Safety","html_id":"properties-for-unit-safety","implicit":true,"key":"SwZQPttWbe"}],"key":"EmkGXImgR8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class Temperature:\n    \"\"\"Temperature with automatic unit conversion.\"\"\"\n    \n    def __init__(self, kelvin):\n        \"\"\"Initialize with temperature in Kelvin.\"\"\"\n        self._kelvin = kelvin\n    \n    @property\n    def kelvin(self):\n        \"\"\"Get temperature in Kelvin.\"\"\"\n        return self._kelvin\n    \n    @kelvin.setter\n    def kelvin(self, value):\n        \"\"\"Set temperature with validation.\"\"\"\n        if value < 0:\n            raise ValueError(\"Below absolute zero!\")\n        self._kelvin = value\n    \n    @property\n    def celsius(self):\n        \"\"\"Get temperature in Celsius.\"\"\"\n        return self._kelvin - 273.15\n    \n    @celsius.setter\n    def celsius(self, value):\n        \"\"\"Set temperature in Celsius.\"\"\"\n        # Use kelvin setter for validation\n        self.kelvin = value + 273.15\n    \n    @property\n    def fahrenheit(self):\n        \"\"\"Get temperature in Fahrenheit.\"\"\"\n        return self._kelvin * 9/5 - 459.67\n\n# Same temperature, different units\ntemp = Temperature(300)\nprint(f\"Water at {temp.kelvin:.1f} K\")\nprint(f\"  = {temp.celsius:.1f} °C\")\nprint(f\"  = {temp.fahrenheit:.1f} °F\")\n\n# Set in any unit, always consistent\ntemp.celsius = 100\nprint(f\"Boiling: {temp.kelvin:.1f} K\")","key":"HlF36MVQ0b"},{"type":"output","id":"aM_Ur67I_c8vcIQODgk_Y","data":[],"key":"I2N5MM3Rqp"}],"key":"jpU1DkeDHp"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🎭 The More You Know: How Properties Could Have Saved Hubble’s Mirror","position":{"start":{"line":631,"column":1},"end":{"line":631,"column":1}},"key":"m3eTcje0BQ"}],"key":"dEydvKq776"},{"type":"paragraph","position":{"start":{"line":634,"column":1},"end":{"line":634,"column":1}},"children":[{"type":"text","value":"In 1990, the Hubble Space Telescope reached orbit with a catastrophic flaw - its primary mirror was ground to the wrong shape by 2.2 micrometers, about 1/50th the width of a human hair. The error occurred because a measuring device called a null corrector had been assembled incorrectly, with one lens positioned 1.3mm out of place. But here’s the tragic part: the computer software accepting test measurements had no validation. It accepted clearly impossible values without question.","position":{"start":{"line":634,"column":1},"end":{"line":634,"column":1}},"key":"kz8MIol8vG"}],"key":"ZZ4HdCJOU0"},{"type":"paragraph","position":{"start":{"line":636,"column":1},"end":{"line":636,"column":1}},"children":[{"type":"text","value":"During testing, technicians actually got measurements showing the mirror was wrong. But other tests (using the faulty null corrector) showed it was “perfect.” The software happily stored both sets of contradictory data. No validation checks asked: “Why do these measurements disagree by orders of magnitude?” or “Is this curvature physically possible for a mirror this size?”","position":{"start":{"line":636,"column":1},"end":{"line":636,"column":1}},"key":"FDPIL4VSmy"}],"key":"PMWIHfSMQk"},{"type":"paragraph","position":{"start":{"line":638,"column":1},"end":{"line":638,"column":1}},"children":[{"type":"text","value":"The disaster cost NASA over $600 million for the initial fix (the true total including delays and lost science time was much higher). The repair required a daring Space Shuttle mission in 1993 to install COSTAR - essentially giving Hubble “glasses.” But the software fix was equally important. NASA completely rewrote their testing software with aggressive validation:","position":{"start":{"line":638,"column":1},"end":{"line":638,"column":1}},"key":"f69YdXEQUz"}],"key":"wVSpXGfjQn"},{"type":"code","lang":"python","value":"# Simplified version of the validation concept:\nclass MirrorMeasurement:\n    def __init__(self, expected_curvature):\n        self.expected = expected_curvature\n        self._curvature_mm = None\n    \n    @property\n    def curvature_mm(self):\n        return self._curvature_mm\n    \n    @curvature_mm.setter\n    def curvature_mm(self, value):\n        # Physical limits based on mirror specifications\n        if not (2200.0 <= value <= 2400.0):  \n            raise ValueError(f\"Impossible curvature: {value}mm\")\n        \n        # Check against expected value\n        deviation = abs(value - self.expected) / self.expected\n        if deviation > 0.001:  # 0.1% tolerance\n            raise Warning(f\"Curvature {value} deviates {deviation*100:.2f}% from expected\")\n        \n        self._curvature_mm = value","position":{"start":{"line":640,"column":1},"end":{"line":663,"column":1}},"key":"twjNUwQush"},{"type":"paragraph","position":{"start":{"line":665,"column":1},"end":{"line":665,"column":1}},"children":[{"type":"text","value":"Note: Modern NASA testing actually uses far more sophisticated validation including statistical process control, multiple sensor cross-validation, and machine learning-based anomaly detection - this example shows the core concept.","position":{"start":{"line":665,"column":1},"end":{"line":665,"column":1}},"key":"ad1JxvElUU"}],"key":"WvC7ua2oy0"},{"type":"paragraph","position":{"start":{"line":667,"column":1},"end":{"line":667,"column":1}},"children":[{"type":"text","value":"Today, every NASA mirror goes through validation software that checks measurements at the moment of entry. Properties ensure that impossible values trigger immediate alerts, not billion-dollar disasters. The James Webb Space Telescope, Hubble’s successor, had its mirrors tested with software that validates every measurement against physical constraints, expected ranges, and cross-checks with redundant sensors.","position":{"start":{"line":667,"column":1},"end":{"line":667,"column":1}},"key":"jTJ8SxuLRM"}],"key":"UcF6k6l9b0"},{"type":"paragraph","position":{"start":{"line":669,"column":1},"end":{"line":669,"column":1}},"children":[{"type":"text","value":"When you write validation in your setters, you’re implementing the same safeguards that now protect every space telescope from Hubble’s fate. That simple ","position":{"start":{"line":669,"column":1},"end":{"line":669,"column":1}},"key":"vEb0XV2Cvo"},{"type":"inlineCode","value":"if value <= 0: raise ValueError()","position":{"start":{"line":669,"column":1},"end":{"line":669,"column":1}},"key":"XgneozakKL"},{"type":"text","value":" in your code? That’s the pattern that could have saved one of humanity’s greatest scientific instruments from launching half-blind into space!","position":{"start":{"line":669,"column":1},"end":{"line":669,"column":1}},"key":"bzs0XcxJ54"}],"key":"i5DDuuw5Vf"},{"type":"paragraph","position":{"start":{"line":671,"column":1},"end":{"line":671,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":671,"column":1},"end":{"line":671,"column":1}},"children":[{"type":"text","value":"[Sources: Allen, L. (1990). The Hubble Space Telescope Optical Systems Failure Report. NASA. Simplified technical details for pedagogical purposes.]","position":{"start":{"line":671,"column":1},"end":{"line":671,"column":1}},"key":"ICLaqZtLsl"}],"key":"nTCw0P2UwH"}],"key":"mAqO9pR5nR"}],"class":"note, story","key":"dmuvM5EnAM"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🌟 Why This Matters: Mars Climate Orbiter","position":{"start":{"line":674,"column":1},"end":{"line":674,"column":1}},"key":"eKGYfKDjXE"}],"key":"SJOe5oGSlC"},{"type":"paragraph","position":{"start":{"line":677,"column":1},"end":{"line":677,"column":1}},"children":[{"type":"text","value":"In 1999, NASA’s Mars Climate Orbiter burned up in Mars’ atmosphere. The cause? One team used pound-force seconds, another used newton-seconds. The spacecraft’s thrusters fired with 4.45× the intended force.","position":{"start":{"line":677,"column":1},"end":{"line":677,"column":1}},"key":"DH4UctsvqO"}],"key":"m73RGhkkss"},{"type":"paragraph","position":{"start":{"line":679,"column":1},"end":{"line":679,"column":1}},"children":[{"type":"text","value":"While Python wasn’t used in the 1999 mission (spacecraft used Ada and C++), modern spacecraft software prevents such disasters using property-based validation - a pattern we can now demonstrate in Python:","position":{"start":{"line":679,"column":1},"end":{"line":679,"column":1}},"key":"r0AxNNLktj"}],"key":"KAJn0Guz6O"},{"type":"code","lang":"python","value":"class Thruster:\n    @property\n    def thrust_newtons(self):\n        return self._thrust_n\n    \n    @thrust_newtons.setter\n    def thrust_newtons(self, value):\n        self._thrust_n = value\n    \n    @property\n    def thrust_pounds(self):\n        return self._thrust_n * 0.224809\n    \n    @thrust_pounds.setter  \n    def thrust_pounds(self, value):\n        self._thrust_n = value / 0.224809","position":{"start":{"line":681,"column":1},"end":{"line":698,"column":1}},"key":"nIVUnu73Bj"},{"type":"paragraph","position":{"start":{"line":700,"column":1},"end":{"line":700,"column":1}},"children":[{"type":"text","value":"Properties ensure units are always consistent internally, regardless of what units the user provides. This pattern is now mandatory in NASA’s modern flight software, preventing the type of error that destroyed the Mars Climate Orbiter.","position":{"start":{"line":700,"column":1},"end":{"line":700,"column":1}},"key":"AWMUqKQbw4"}],"key":"XtGUx21PH5"}],"class":"info, important","key":"jxKPDgDr8c"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🔍 Check Your Understanding","position":{"start":{"line":703,"column":1},"end":{"line":703,"column":1}},"key":"efcZMY5Yqx"}],"key":"w0ESr65ofy"},{"type":"paragraph","position":{"start":{"line":706,"column":1},"end":{"line":706,"column":1}},"children":[{"type":"text","value":"What happens if you create a property without a setter but try to assign to it?","position":{"start":{"line":706,"column":1},"end":{"line":706,"column":1}},"key":"oJtwYzqyTa"}],"key":"RLmi8s1WiG"},{"type":"code","lang":"python","value":"class ReadOnly:\n    @property\n    def value(self):\n        return 42\n\nobj = ReadOnly()\nobj.value = 100  # What happens?","position":{"start":{"line":708,"column":1},"end":{"line":716,"column":1}},"key":"As82rwQiFn"},{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Answer","position":{"start":{"line":718,"column":1},"end":{"line":718,"column":1}},"key":"gVsLkuCaTb"}],"key":"sQhvpSZaPR"},{"type":"paragraph","position":{"start":{"line":719,"column":1},"end":{"line":719,"column":1}},"children":[{"type":"text","value":"You get an ","position":{"start":{"line":719,"column":1},"end":{"line":719,"column":1}},"key":"U3Q34ursMt"},{"type":"inlineCode","value":"AttributeError: can't set attribute","position":{"start":{"line":719,"column":1},"end":{"line":719,"column":1}},"key":"oHRQJWbwOc"},{"type":"text","value":". Properties without setters are read-only. This is actually useful for computed values that should never be directly modified, like the area of a circle (which should only change when the radius changes). This pattern enforces data consistency by preventing invalid states.","position":{"start":{"line":719,"column":1},"end":{"line":719,"column":1}},"key":"mKYVQUyyqj"}],"key":"RvpcrzUQuI"}],"key":"TzdVSw0CHl"}],"class":"question","key":"sH7tKE6oZA"},{"type":"code","lang":"","value":"\n:::{admonition} ⚠️ Common Bug Alert: Property Recursion\n:class: warning\n\n```{code-cell} python\n# WRONG - Infinite recursion!\nclass BadExample:\n    @property\n    def value(self):\n        return self.value  # Calls itself forever!\n\n# CORRECT - Use different internal name\nclass GoodExample:\n    def __init__(self):\n        \"\"\"Initialize with internal storage.\"\"\"\n        self._value = 0  # Underscore prefix\n    \n    @property\n    def value(self):\n        \"\"\"Access the value.\"\"\"\n        return self._value  # Different name\n\nexample = GoodExample()\nprint(f\"Value: {example.value}\")\n```\n\nAlways use a different internal name (usually with underscore) for the actual storage.","position":{"start":{"line":721,"column":1},"end":{"line":749,"column":1}},"key":"MyD4q8MQNk"},{"type":"heading","depth":2,"position":{"start":{"line":751,"column":1},"end":{"line":751,"column":1}},"children":[{"type":"text","value":"6.5 Special Methods: Making Objects Pythonic","position":{"start":{"line":751,"column":1},"end":{"line":751,"column":1}},"key":"srmm1OWywB"}],"identifier":"id-6-5-special-methods-making-objects-pythonic","label":"6.5 Special Methods: Making Objects Pythonic","html_id":"id-6-5-special-methods-making-objects-pythonic","implicit":true,"key":"WueGzOqIQV"},{"type":"paragraph","position":{"start":{"line":753,"column":1},"end":{"line":754,"column":1}},"children":[{"type":"text","value":"{margin} ","position":{"start":{"line":753,"column":1},"end":{"line":753,"column":1}},"key":"hnFxBqNy1f"},{"type":"strong","position":{"start":{"line":753,"column":1},"end":{"line":753,"column":1}},"children":[{"type":"text","value":"Special Method","position":{"start":{"line":753,"column":1},"end":{"line":753,"column":1}},"key":"ukc7LD8jEe"}],"key":"yMdnu6rLdI"},{"type":"text","value":"\nMethods with double underscores (like ","position":{"start":{"line":753,"column":1},"end":{"line":753,"column":1}},"key":"kg8JkC92fa"},{"type":"inlineCode","value":"__init__","position":{"start":{"line":753,"column":1},"end":{"line":753,"column":1}},"key":"vC0ioV3L8z"},{"type":"text","value":", ","position":{"start":{"line":753,"column":1},"end":{"line":753,"column":1}},"key":"hgsMwPoEqk"},{"type":"inlineCode","value":"__str__","position":{"start":{"line":753,"column":1},"end":{"line":753,"column":1}},"key":"rlqoseKvae"},{"type":"text","value":") that define object behavior for built-in operations.","position":{"start":{"line":753,"column":1},"end":{"line":753,"column":1}},"key":"u3DQGd7D2A"}],"key":"C2KZOrlv4o"},{"type":"paragraph","position":{"start":{"line":756,"column":1},"end":{"line":757,"column":1}},"children":[{"type":"text","value":"{margin} ","position":{"start":{"line":756,"column":1},"end":{"line":756,"column":1}},"key":"ZtpYbwuL21"},{"type":"strong","position":{"start":{"line":756,"column":1},"end":{"line":756,"column":1}},"children":[{"type":"text","value":"Duck Typing","position":{"start":{"line":756,"column":1},"end":{"line":756,"column":1}},"key":"JloLwQZSwu"}],"key":"PocXftL9Jl"},{"type":"text","value":"\nPython’s philosophy that an object’s suitability is determined by its methods, not its type. “If it walks like a duck and quacks like a duck, it’s a duck.”","position":{"start":{"line":756,"column":1},"end":{"line":756,"column":1}},"key":"I2g0G5NkYS"}],"key":"yQhy2tXHWO"},{"type":"paragraph","position":{"start":{"line":759,"column":1},"end":{"line":759,"column":1}},"children":[{"type":"text","value":"Special methods (also called “magic methods” or “dunder methods”) let your objects work with Python’s built-in functions and operators. The term “duck typing” comes from the saying “If it walks like a duck and quacks like a duck, it’s a duck” - meaning Python cares about what an object can do, not what type it is.","position":{"start":{"line":759,"column":1},"end":{"line":759,"column":1}},"key":"EqheGAThhS"}],"key":"Pt0JsubrOh"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🎭 The More You Know: How Python Democratized Programming","position":{"start":{"line":761,"column":1},"end":{"line":761,"column":1}},"key":"FzN324eZK1"}],"key":"W7FT6nuZTc"},{"type":"paragraph","position":{"start":{"line":764,"column":1},"end":{"line":764,"column":1}},"children":[{"type":"text","value":"In December 1989, Guido van Rossum was frustrated. Working at CWI (Centrum Wiskunde & Informatica) in Amsterdam on the Amoeba distributed operating system, he found existing languages inadequate. ABC was too rigid and couldn’t be extended. C was too low-level for rapid development. So during the Christmas vacation (he was bored and the office was closed), he started writing his own language, naming it after the British comedy group Monty Python’s Flying Circus.","position":{"start":{"line":764,"column":1},"end":{"line":764,"column":1}},"key":"o9sGRvegtd"}],"key":"fj8wMXqSKy"},{"type":"paragraph","position":{"start":{"line":766,"column":1},"end":{"line":766,"column":1}},"children":[{"type":"text","value":"Guido made a radical decision that would change programming forever: instead of hiding object behavior behind compiler magic like C++ did, Python would expose everything through special methods that anyone could implement. Want your object to work with ","position":{"start":{"line":766,"column":1},"end":{"line":766,"column":1}},"key":"PSusXV7OdG"},{"type":"inlineCode","value":"len()","position":{"start":{"line":766,"column":1},"end":{"line":766,"column":1}},"key":"zM7dIGoxfV"},{"type":"text","value":"? Just add ","position":{"start":{"line":766,"column":1},"end":{"line":766,"column":1}},"key":"aKiucCdRwz"},{"type":"inlineCode","value":"__len__()","position":{"start":{"line":766,"column":1},"end":{"line":766,"column":1}},"key":"zO1uDmqr6K"},{"type":"text","value":". Want it to support addition? Add ","position":{"start":{"line":766,"column":1},"end":{"line":766,"column":1}},"key":"NAwIFjErnZ"},{"type":"inlineCode","value":"__add__()","position":{"start":{"line":766,"column":1},"end":{"line":766,"column":1}},"key":"yzgjU48fOl"},{"type":"text","value":". No special compiler support needed - just simple methods with funny names.","position":{"start":{"line":766,"column":1},"end":{"line":766,"column":1}},"key":"DZj1imea7s"}],"key":"BpNyVfxkjx"},{"type":"paragraph","position":{"start":{"line":768,"column":1},"end":{"line":768,"column":1}},"children":[{"type":"text","value":"This transparency was revolutionary. In C++, only the compiler could decide what ","position":{"start":{"line":768,"column":1},"end":{"line":768,"column":1}},"key":"jURXtsoecj"},{"type":"inlineCode","value":"+","position":{"start":{"line":768,"column":1},"end":{"line":768,"column":1}},"key":"cMB1u5z9Su"},{"type":"text","value":" meant for built-in types. In Python, ANY object could define it:","position":{"start":{"line":768,"column":1},"end":{"line":768,"column":1}},"key":"fUL0iqDKPF"}],"key":"sWoadMHiQu"},{"type":"code","lang":"python","value":"# This wasn't possible in other languages of the time!\nclass Vector:\n    def __add__(self, other):\n        # YOU decide what + means for YOUR objects\n        return Vector(self.x + other.x, self.y + other.y)\n\nv1 + v2  # Calls YOUR __add__ method","position":{"start":{"line":770,"column":1},"end":{"line":778,"column":1}},"key":"d24l0nJMBq"},{"type":"paragraph","position":{"start":{"line":780,"column":1},"end":{"line":780,"column":1}},"children":[{"type":"text","value":"The scientific community immediately saw the implications. Jim Hugunin created Numeric (NumPy’s ancestor) in 1995, using special methods to make arrays feel like native Python objects:","position":{"start":{"line":780,"column":1},"end":{"line":780,"column":1}},"key":"VzVYtV22jM"}],"key":"ooIcBWPibt"},{"type":"code","lang":"python","value":"# Scientific arrays that felt built-in!\narray1 + array2    # Element-wise addition via __add__\narray[5:10]        # Slicing via __getitem__\nlen(array)         # Size via __len__\nprint(array)       # Readable output via __str__","position":{"start":{"line":782,"column":1},"end":{"line":788,"column":1}},"key":"wnhQq1Qk8w"},{"type":"paragraph","position":{"start":{"line":790,"column":1},"end":{"line":790,"column":1}},"children":[{"type":"text","value":"Guido later reflected: “I wanted Python to be a bridge between the shell and C. I never imagined it would become the language of scientific computing” (paraphrased from various interviews). That bridge was built on special methods - the democratic principle that any object could be a first-class citizen.","position":{"start":{"line":790,"column":1},"end":{"line":790,"column":1}},"key":"Wdo4FGPbcs"}],"key":"UthityVDav"},{"type":"paragraph","position":{"start":{"line":792,"column":1},"end":{"line":792,"column":1}},"children":[{"type":"text","value":"Alex Martelli, who would later coin the term “duck typing” for Python’s approach, explained it perfectly: “In Python, you don’t check if it IS-a duck, you check if it QUACKS-like-a duck, WALKS-like-a duck” (2000, comp.lang.python newsgroup). This philosophy meant scientific libraries could create objects that integrated seamlessly with Python’s syntax.","position":{"start":{"line":792,"column":1},"end":{"line":792,"column":1}},"key":"XNyi58BOre"}],"key":"UHU6rHVx6i"},{"type":"paragraph","position":{"start":{"line":794,"column":1},"end":{"line":794,"column":1}},"children":[{"type":"text","value":"When you implement ","position":{"start":{"line":794,"column":1},"end":{"line":794,"column":1}},"key":"SMedqRL67Z"},{"type":"inlineCode","value":"__str__","position":{"start":{"line":794,"column":1},"end":{"line":794,"column":1}},"key":"OKYSzd6c2C"},{"type":"text","value":" or ","position":{"start":{"line":794,"column":1},"end":{"line":794,"column":1}},"key":"r2K0O6DbuN"},{"type":"inlineCode","value":"__add__","position":{"start":{"line":794,"column":1},"end":{"line":794,"column":1}},"key":"muZIXjB8Fh"},{"type":"text","value":", you’re using the democratic principle that made Python the world’s most popular scientific language: your objects are equals with Python’s built-in types. No special privileges needed - just implement the methods, and Python treats your objects as first-class citizens!","position":{"start":{"line":794,"column":1},"end":{"line":794,"column":1}},"key":"HSycoh6ji9"}],"key":"AGTsPWGS5k"},{"type":"paragraph","position":{"start":{"line":796,"column":1},"end":{"line":796,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":796,"column":1},"end":{"line":796,"column":1}},"children":[{"type":"text","value":"[Sources: Van Rossum, G. (1996). Foreword for “Programming Python” (1st ed.). Various interviews compiled. Martelli’s “duck typing” coined circa 2000.]","position":{"start":{"line":796,"column":1},"end":{"line":796,"column":1}},"key":"MzUIGKsyb8"}],"key":"uxx97BfI2e"}],"key":"YPIdYYzsjA"}],"class":"note, story","key":"PPLpNsYUOI"}],"key":"lFcIIBHzrX"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class Fraction:\n    \"\"\"A fraction with arithmetic operations.\"\"\"\n    \n    def __init__(self, numerator, denominator):\n        \"\"\"Initialize and reduce fraction.\"\"\"\n        if denominator == 0:\n            raise ValueError(\"Denominator cannot be zero\")\n        self.num = numerator\n        self.den = denominator\n        self._reduce()\n    \n    def _reduce(self):\n        \"\"\"Reduce to lowest terms using GCD.\"\"\"\n        a, b = abs(self.num), abs(self.den)\n        while b:  # Euclidean algorithm for Greatest Common Divisor (GCD)\n            a, b = b, a % b\n        self.num //= a\n        self.den //= a\n    \n    def __str__(self):\n        \"\"\"Human-readable string for print().\"\"\"\n        return f\"{self.num}/{self.den}\"\n    \n    def __repr__(self):\n        \"\"\"Unambiguous string for debugging.\"\"\"\n        return f\"Fraction({self.num}, {self.den})\"\n    \n    def __float__(self):\n        \"\"\"Convert to float.\"\"\"\n        return self.num / self.den\n    \n    def __add__(self, other):\n        \"\"\"Add two fractions: a/b + c/d = (ad+bc)/bd\"\"\"\n        new_num = self.num * other.den + other.num * self.den\n        new_den = self.den * other.den\n        return Fraction(new_num, new_den)\n    \n    def __eq__(self, other):\n        \"\"\"Check equality: a/b == c/d if ad == bc\"\"\"\n        return self.num * other.den == other.num * self.den\n\n# Using special methods\nf1 = Fraction(1, 2)\nf2 = Fraction(1, 3)\n\nprint(f\"f1 = {f1}\")  # Calls __str__\nprint(f\"f1 + f2 = {f1 + f2}\")  # Calls __add__\nprint(f\"f1 as float: {float(f1)}\")  # Calls __float__\nprint(f\"f1 == Fraction(2,4): {f1 == Fraction(2, 4)}\")  # Calls __eq__","key":"JMP1OGFuey"},{"type":"output","id":"SSJrpr6MQw8GoP8PTnIHE","data":[],"key":"mtqcJCfqbu"}],"key":"BIu9JsGbTT"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":851,"column":1},"end":{"line":851,"column":1}},"children":[{"type":"text","value":"Essential Special Methods","position":{"start":{"line":851,"column":1},"end":{"line":851,"column":1}},"key":"J1IWZrJqxn"}],"identifier":"essential-special-methods","label":"Essential Special Methods","html_id":"essential-special-methods","implicit":true,"key":"MnpNhcCNZK"}],"key":"HaX7CrT8AV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class DataSet:\n    \"\"\"Collection that acts like a built-in container.\"\"\"\n    \n    def __init__(self, values=None):\n        \"\"\"Initialize with optional values.\"\"\"\n        self.values = values if values else []\n    \n    def __len__(self):\n        \"\"\"Support len(dataset).\"\"\"\n        return len(self.values)\n    \n    def __getitem__(self, index):\n        \"\"\"Support dataset[index].\"\"\"\n        return self.values[index]\n    \n    def __setitem__(self, index, value):\n        \"\"\"Support dataset[index] = value.\"\"\"\n        self.values[index] = value\n    \n    def __contains__(self, value):\n        \"\"\"Support 'value in dataset'.\"\"\"\n        return value in self.values\n    \n    def __iter__(self):\n        \"\"\"Support for loops.\"\"\"\n        return iter(self.values)\n    \n    def __bool__(self):\n        \"\"\"Support if dataset: (True if not empty).\"\"\"\n        return len(self.values) > 0\n\n# Acts like a built-in container\ndata = DataSet([10, 20, 30, 40, 50])\n\nprint(f\"Length: {len(data)}\")\nprint(f\"First: {data[0]}\")\nprint(f\"Contains 30: {30 in data}\")\nprint(f\"Is non-empty: {bool(data)}\")\n\ndata[1] = 25\nfor value in data:\n    print(value, end=\" \")","key":"nBnA9Tn2Oi"},{"type":"output","id":"s2qSnwknADapdhmqmoXai","data":[],"key":"rY1mwK9Icy"}],"key":"TOwN0ch6Gz"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"💡 Computational Thinking Box: Protocol-Based Design","position":{"start":{"line":898,"column":1},"end":{"line":898,"column":1}},"key":"C5CIJTVpid"}],"key":"A7302jHOoF"},{"type":"paragraph","position":{"start":{"line":901,"column":1},"end":{"line":901,"column":1}},"children":[{"type":"strong","position":{"start":{"line":901,"column":1},"end":{"line":901,"column":1}},"children":[{"type":"text","value":"PATTERN: Duck Typing Through Special Methods","position":{"start":{"line":901,"column":1},"end":{"line":901,"column":1}},"key":"p5bEzjcZYN"}],"key":"OSt8d2XU4B"}],"key":"puCFKZEre3"},{"type":"paragraph","position":{"start":{"line":903,"column":1},"end":{"line":903,"column":1}},"children":[{"type":"text","value":"“If it walks like a duck and quacks like a duck, it’s a duck”","position":{"start":{"line":903,"column":1},"end":{"line":903,"column":1}},"key":"K6TNB6pkDR"}],"key":"rOqS2q1GNN"},{"type":"paragraph","position":{"start":{"line":905,"column":1},"end":{"line":905,"column":1}},"children":[{"type":"text","value":"Python doesn’t check types - it checks capabilities. Any object implementing the right special methods can be used anywhere:","position":{"start":{"line":905,"column":1},"end":{"line":905,"column":1}},"key":"CKhwdQMt2R"}],"key":"ZBBkDMffjN"},{"type":"paragraph","position":{"start":{"line":907,"column":1},"end":{"line":907,"column":1}},"children":[{"type":"strong","position":{"start":{"line":907,"column":1},"end":{"line":907,"column":1}},"children":[{"type":"text","value":"Iterator Protocol:","position":{"start":{"line":907,"column":1},"end":{"line":907,"column":1}},"key":"tHtApHb9gc"}],"key":"U5MBOY6xdP"}],"key":"eVWfjxAmqx"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":908,"column":1},"end":{"line":909,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":908,"column":1},"end":{"line":909,"column":1}},"children":[{"type":"inlineCode","value":"__iter__()","position":{"start":{"line":908,"column":1},"end":{"line":908,"column":1}},"key":"LLbV94AlMF"},{"type":"text","value":" and ","position":{"start":{"line":908,"column":1},"end":{"line":908,"column":1}},"key":"SqnGhJRE2l"},{"type":"inlineCode","value":"__next__()","position":{"start":{"line":908,"column":1},"end":{"line":908,"column":1}},"key":"zZa79x1t8w"},{"type":"text","value":" → works in for loops","position":{"start":{"line":908,"column":1},"end":{"line":908,"column":1}},"key":"fkGqFBhTDg"}],"key":"kDfaUI3xht"}],"key":"nO1TIyfCGY"},{"type":"paragraph","position":{"start":{"line":910,"column":1},"end":{"line":910,"column":1}},"children":[{"type":"strong","position":{"start":{"line":910,"column":1},"end":{"line":910,"column":1}},"children":[{"type":"text","value":"Container Protocol:","position":{"start":{"line":910,"column":1},"end":{"line":910,"column":1}},"key":"IJKeoyFP7a"}],"key":"eNoCZZpOaP"}],"key":"qFlWtlT264"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":911,"column":1},"end":{"line":912,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":911,"column":1},"end":{"line":912,"column":1}},"children":[{"type":"inlineCode","value":"__len__()","position":{"start":{"line":911,"column":1},"end":{"line":911,"column":1}},"key":"dmLDLgRaUi"},{"type":"text","value":" and ","position":{"start":{"line":911,"column":1},"end":{"line":911,"column":1}},"key":"lLMBsTLlwt"},{"type":"inlineCode","value":"__getitem__()","position":{"start":{"line":911,"column":1},"end":{"line":911,"column":1}},"key":"PuYO2Dsy7Q"},{"type":"text","value":" → works with ","position":{"start":{"line":911,"column":1},"end":{"line":911,"column":1}},"key":"YTLCHf3DeY"},{"type":"inlineCode","value":"len()","position":{"start":{"line":911,"column":1},"end":{"line":911,"column":1}},"key":"uwBhvUifYo"},{"type":"text","value":", indexing","position":{"start":{"line":911,"column":1},"end":{"line":911,"column":1}},"key":"LKh8GkMUdU"}],"key":"UXVfz2KDDz"}],"key":"qsyNHjWOdc"},{"type":"paragraph","position":{"start":{"line":913,"column":1},"end":{"line":913,"column":1}},"children":[{"type":"strong","position":{"start":{"line":913,"column":1},"end":{"line":913,"column":1}},"children":[{"type":"text","value":"Numeric Protocol:","position":{"start":{"line":913,"column":1},"end":{"line":913,"column":1}},"key":"tE8oyvNvN6"}],"key":"ncO7dULaaE"}],"key":"bzs414q4TK"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":914,"column":1},"end":{"line":915,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":914,"column":1},"end":{"line":915,"column":1}},"children":[{"type":"inlineCode","value":"__add__()","position":{"start":{"line":914,"column":1},"end":{"line":914,"column":1}},"key":"Izlyc1KBt7"},{"type":"text","value":", ","position":{"start":{"line":914,"column":1},"end":{"line":914,"column":1}},"key":"Vj25yRo4zV"},{"type":"inlineCode","value":"__mul__()","position":{"start":{"line":914,"column":1},"end":{"line":914,"column":1}},"key":"X1HjEYoPIG"},{"type":"text","value":", etc. → works with math operators","position":{"start":{"line":914,"column":1},"end":{"line":914,"column":1}},"key":"cgEaTdUXC0"}],"key":"jKpav3t9rh"}],"key":"xoUH1jEDAt"},{"type":"paragraph","position":{"start":{"line":916,"column":1},"end":{"line":916,"column":1}},"children":[{"type":"strong","position":{"start":{"line":916,"column":1},"end":{"line":916,"column":1}},"children":[{"type":"text","value":"Context Manager Protocol:","position":{"start":{"line":916,"column":1},"end":{"line":916,"column":1}},"key":"D5ULFxhau9"}],"key":"rxUYCVpSCu"}],"key":"Qvu3QHY4E4"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":917,"column":1},"end":{"line":918,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":917,"column":1},"end":{"line":918,"column":1}},"children":[{"type":"inlineCode","value":"__enter__()","position":{"start":{"line":917,"column":1},"end":{"line":917,"column":1}},"key":"h4Wn3feFod"},{"type":"text","value":" and ","position":{"start":{"line":917,"column":1},"end":{"line":917,"column":1}},"key":"LxZgxGl2y6"},{"type":"inlineCode","value":"__exit__()","position":{"start":{"line":917,"column":1},"end":{"line":917,"column":1}},"key":"axGqWritcq"},{"type":"text","value":" → works with ‘with’ statement","position":{"start":{"line":917,"column":1},"end":{"line":917,"column":1}},"key":"H8wiCfYDbb"}],"key":"JPTbTeSc2E"}],"key":"ep2sFdormn"},{"type":"paragraph","position":{"start":{"line":919,"column":1},"end":{"line":919,"column":1}},"children":[{"type":"text","value":"This is why your custom objects can work with built-in functions! A DataSet with ","position":{"start":{"line":919,"column":1},"end":{"line":919,"column":1}},"key":"XLPKYrDSqV"},{"type":"inlineCode","value":"__len__","position":{"start":{"line":919,"column":1},"end":{"line":919,"column":1}},"key":"Pet2AZc2ib"},{"type":"text","value":" works with ","position":{"start":{"line":919,"column":1},"end":{"line":919,"column":1}},"key":"nZF8ilwmMU"},{"type":"inlineCode","value":"len()","position":{"start":{"line":919,"column":1},"end":{"line":919,"column":1}},"key":"EigDtDB9uC"},{"type":"text","value":". A Vector with ","position":{"start":{"line":919,"column":1},"end":{"line":919,"column":1}},"key":"twrOwIBMxf"},{"type":"inlineCode","value":"__add__","position":{"start":{"line":919,"column":1},"end":{"line":919,"column":1}},"key":"b0rJUTejKy"},{"type":"text","value":" works with ","position":{"start":{"line":919,"column":1},"end":{"line":919,"column":1}},"key":"rMi0nXHLJK"},{"type":"inlineCode","value":"+","position":{"start":{"line":919,"column":1},"end":{"line":919,"column":1}},"key":"GvONEbHFuY"},{"type":"text","value":". This protocol-based design is central to Python’s flexibility and why scientific libraries integrate so well.","position":{"start":{"line":919,"column":1},"end":{"line":919,"column":1}},"key":"brjdbDqGHs"}],"key":"Dy8sb35XNL"},{"type":"paragraph","position":{"start":{"line":921,"column":1},"end":{"line":921,"column":1}},"children":[{"type":"strong","position":{"start":{"line":921,"column":1},"end":{"line":921,"column":1}},"children":[{"type":"text","value":"Real-world example:","position":{"start":{"line":921,"column":1},"end":{"line":921,"column":1}},"key":"aDh92SgnQJ"}],"key":"f16FJAHdkQ"},{"type":"text","value":" Any object with ","position":{"start":{"line":921,"column":1},"end":{"line":921,"column":1}},"key":"ftAdpLyqUL"},{"type":"inlineCode","value":".shape","position":{"start":{"line":921,"column":1},"end":{"line":921,"column":1}},"key":"Oe7ljTjOa7"},{"type":"text","value":", ","position":{"start":{"line":921,"column":1},"end":{"line":921,"column":1}},"key":"HfXdFn8epU"},{"type":"inlineCode","value":".dtype","position":{"start":{"line":921,"column":1},"end":{"line":921,"column":1}},"key":"D8s7nuvDwn"},{"type":"text","value":", and ","position":{"start":{"line":921,"column":1},"end":{"line":921,"column":1}},"key":"iclJjkJhGC"},{"type":"inlineCode","value":"__getitem__","position":{"start":{"line":921,"column":1},"end":{"line":921,"column":1}},"key":"GPbLXfWjVM"},{"type":"text","value":" can be used where NumPy expects an array-like object.","position":{"start":{"line":921,"column":1},"end":{"line":921,"column":1}},"key":"SFRU2MAy6P"}],"key":"Ib7WlEduyq"}],"class":"tip","key":"bXDxKJUX3q"},{"type":"heading","depth":2,"position":{"start":{"line":924,"column":1},"end":{"line":924,"column":1}},"children":[{"type":"text","value":"6.6 When to Use Objects vs Functions","position":{"start":{"line":924,"column":1},"end":{"line":924,"column":1}},"key":"T9CpL7rNSq"}],"identifier":"id-6-6-when-to-use-objects-vs-functions","label":"6.6 When to Use Objects vs Functions","html_id":"id-6-6-when-to-use-objects-vs-functions","implicit":true,"key":"KlRJDefID8"},{"type":"paragraph","position":{"start":{"line":926,"column":1},"end":{"line":926,"column":1}},"children":[{"type":"text","value":"Now that you understand HOW to create classes with all their powerful features - properties for validation, special methods for integration, inheritance for code reuse - you need wisdom about WHEN to use them. Not every problem needs objects. Creating unnecessary classes can make code harder to understand, not easier. The art of programming lies in choosing the right tool for the right job.","position":{"start":{"line":926,"column":1},"end":{"line":926,"column":1}},"key":"nNObZB3kA6"}],"key":"jMINfchNwl"},{"type":"paragraph","position":{"start":{"line":928,"column":1},"end":{"line":928,"column":1}},"children":[{"type":"text","value":"Here’s how to decide. This distinction is fundamental - in Chapter 7, we’ll explore the “is-a” relationship (inheritance) versus “has-a” relationship (composition) in detail.","position":{"start":{"line":928,"column":1},"end":{"line":928,"column":1}},"key":"H0l75ljERf"}],"key":"Raaoy84CBo"},{"type":"heading","depth":3,"position":{"start":{"line":930,"column":1},"end":{"line":930,"column":1}},"children":[{"type":"text","value":"Use Objects When:","position":{"start":{"line":930,"column":1},"end":{"line":930,"column":1}},"key":"Yofokvf1xj"}],"identifier":"use-objects-when","label":"Use Objects When:","html_id":"use-objects-when","implicit":true,"key":"B37VQDryrX"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":932,"column":1},"end":{"line":932,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":932,"column":1},"end":{"line":932,"column":1}},"children":[{"type":"strong","position":{"start":{"line":932,"column":1},"end":{"line":932,"column":1}},"children":[{"type":"text","value":"Managing State Over Time","position":{"start":{"line":932,"column":1},"end":{"line":932,"column":1}},"key":"R6kKfqu0IC"}],"key":"TIJ8Vrf60S"}],"key":"t1eEaX17BB"}],"key":"YqfVqtRJsO"}],"key":"eC9NzZezzb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class RunningStatistics:\n    \"\"\"Maintains statistics as data arrives.\"\"\"\n    \n    def __init__(self):\n        \"\"\"Initialize empty statistics.\"\"\"\n        self.count = 0\n        self.sum = 0\n        self.sum_sq = 0\n    \n    def add_value(self, x):\n        \"\"\"Add new value to statistics.\"\"\"\n        self.count += 1\n        self.sum += x\n        self.sum_sq += x**2\n    \n    @property\n    def mean(self):\n        \"\"\"Current mean.\"\"\"\n        return self.sum / self.count if self.count > 0 else 0\n    \n    @property\n    def variance(self):\n        \"\"\"Current variance.\"\"\"\n        if self.count < 2:\n            return 0\n        mean = self.mean\n        return (self.sum_sq - self.count * mean**2) / (self.count - 1)\n\n# Object maintains state between calls\nstats = RunningStatistics()\nfor value in [1, 2, 3, 4, 5]:\n    stats.add_value(value)\n    print(f\"After {value}: mean={stats.mean:.1f}, var={stats.variance:.1f}\")","key":"iJmk9N6Tzu"},{"type":"output","id":"mn1gA1SJDbvNxYp4w21M1","data":[],"key":"Rlclls4RuY"}],"key":"p3KgtQIdLS"},{"type":"block","children":[{"type":"list","ordered":true,"start":2,"spread":false,"position":{"start":{"line":969,"column":1},"end":{"line":969,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":969,"column":1},"end":{"line":969,"column":1}},"children":[{"type":"strong","position":{"start":{"line":969,"column":1},"end":{"line":969,"column":1}},"children":[{"type":"text","value":"Modeling Real Entities","position":{"start":{"line":969,"column":1},"end":{"line":969,"column":1}},"key":"qXJ6XdS7IJ"}],"key":"E5RrxGdKUt"}],"key":"tJdmmjXkia"}],"key":"Ex29kf7vBI"}],"key":"SJmVcTvU1w"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class Galaxy:\n    \"\"\"Model a galaxy with properties.\"\"\"\n    \n    def __init__(self, name, distance_mpc, redshift):\n        \"\"\"Initialize galaxy with observed properties.\"\"\"\n        self.name = name\n        self.distance_mpc = distance_mpc  # Megaparsecs\n        self.redshift = redshift\n    \n    def recession_velocity(self):\n        \"\"\"Calculate recession velocity in km/s.\"\"\"\n        c = 3e5  # km/s\n        return c * self.redshift  # Simple approximation\n    \n    def lookback_time_gyr(self):\n        \"\"\"Estimate lookback time in Gyr.\"\"\"\n        # Simplified: t ≈ z / H0\n        H0 = 70  # km/s/Mpc\n        return self.redshift * 1000 / H0\n\nm31 = Galaxy(\"Andromeda\", 0.78, -0.001)  # Blueshifted!\nprint(f\"{m31.name}: v={m31.recession_velocity():.0f} km/s\")","key":"Ks6UWXhMHI"},{"type":"output","id":"6jyWbt1YAm-O6j3wPo3DQ","data":[],"key":"PcZCG7R4Nf"}],"key":"nrbUzZYkhg"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":995,"column":1},"end":{"line":995,"column":1}},"children":[{"type":"text","value":"Use Functions When:","position":{"start":{"line":995,"column":1},"end":{"line":995,"column":1}},"key":"RDX10n1yt4"}],"identifier":"use-functions-when","label":"Use Functions When:","html_id":"use-functions-when","implicit":true,"key":"Eh9l04825J"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":997,"column":1},"end":{"line":997,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":997,"column":1},"end":{"line":997,"column":1}},"children":[{"type":"strong","position":{"start":{"line":997,"column":1},"end":{"line":997,"column":1}},"children":[{"type":"text","value":"Simple Transformations","position":{"start":{"line":997,"column":1},"end":{"line":997,"column":1}},"key":"Vy9Y9nmM1P"}],"key":"Rfx7nAyIVe"}],"key":"K6CHFP5SBh"}],"key":"ZyyFzSvR98"}],"key":"XBzOzJYR3Z"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# No need for a class here\ndef celsius_to_kelvin(celsius):\n    \"\"\"Convert Celsius to Kelvin.\"\"\"\n    return celsius + 273.15\n\ndef calculate_orbital_period(semi_major_axis_au):\n    \"\"\"Kepler's third law: P² = a³ for period in years.\"\"\"\n    return semi_major_axis_au ** 1.5\n\n# Simple functions are clearer than unnecessary classes\ntemp_k = celsius_to_kelvin(25)\nperiod = calculate_orbital_period(1.0)  # Earth\nprint(f\"Temperature: {temp_k} K\")\nprint(f\"Period: {period} years\")","key":"O6ku6l4kZI"},{"type":"output","id":"ZQhXsCWRlyQ252n4TJrGb","data":[],"key":"WjtX6Ohaxh"}],"key":"OfnG4bygtO"},{"type":"block","children":[{"type":"list","ordered":true,"start":2,"spread":false,"position":{"start":{"line":1015,"column":1},"end":{"line":1015,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1015,"column":1},"end":{"line":1015,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1015,"column":1},"end":{"line":1015,"column":1}},"children":[{"type":"text","value":"Stateless Operations","position":{"start":{"line":1015,"column":1},"end":{"line":1015,"column":1}},"key":"lMna8lQ07n"}],"key":"htjDqzYoew"}],"key":"FHf7xW2idg"}],"key":"y5vJsgjCXK"}],"key":"OduLlkkvAx"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# These don't need to remember anything between calls\ndef mean(values):\n    \"\"\"Calculate mean.\"\"\"\n    return sum(values) / len(values)\n\ndef standard_deviation(values):\n    \"\"\"Calculate standard deviation.\"\"\"\n    m = mean(values)\n    variance = sum((x - m)**2 for x in values) / len(values)\n    return variance**0.5\n\ndata = [1, 2, 3, 4, 5]\nprint(f\"Mean: {mean(data)}\")\nprint(f\"Std: {standard_deviation(data):.2f}\")","key":"nob2pO8fzO"},{"type":"output","id":"EihE9D9zLNk0nJzEAWjU9","data":[],"key":"XC7coE0pUP"}],"key":"QtnV2d2Ng0"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🌟 Why This Matters: The NumPy Decision","position":{"start":{"line":1033,"column":1},"end":{"line":1033,"column":1}},"key":"MPjj3tvtwQ"}],"key":"AQTcQoASBk"},{"type":"paragraph","position":{"start":{"line":1036,"column":1},"end":{"line":1036,"column":1}},"children":[{"type":"text","value":"When Travis Oliphant designed NumPy in 2005, he faced this exact decision. Should arrays be simple functions operating on data, or objects with methods?","position":{"start":{"line":1036,"column":1},"end":{"line":1036,"column":1}},"key":"TW0zazkWOt"}],"key":"RHpS60ivfP"},{"type":"paragraph","position":{"start":{"line":1038,"column":1},"end":{"line":1038,"column":1}},"children":[{"type":"text","value":"He chose objects, and it transformed scientific Python:","position":{"start":{"line":1038,"column":1},"end":{"line":1038,"column":1}},"key":"Yu4l9KiDiY"}],"key":"yTpXsSmra8"},{"type":"code","lang":"python","value":"# If NumPy used only functions:\narray = create_array([1, 2, 3])\nmean = calculate_mean(array)\nreshaped = reshape_array(array, (3, 1))\n\n# Because NumPy uses objects:\narray = np.array([1, 2, 3])\nmean = array.mean()\nreshaped = array.reshape(3, 1)","position":{"start":{"line":1040,"column":1},"end":{"line":1050,"column":1}},"key":"dAAKMCluB2"},{"type":"paragraph","position":{"start":{"line":1052,"column":1},"end":{"line":1052,"column":1}},"children":[{"type":"text","value":"The object approach won because arrays maintain state (shape, dtype, memory layout) and operations naturally belong to the data. This decision made NumPy intuitive and helped it become the foundation of scientific Python. You’re learning to make the same architectural decisions!","position":{"start":{"line":1052,"column":1},"end":{"line":1052,"column":1}},"key":"rGvd7URfBB"}],"key":"FvtaB29g3U"}],"class":"info, important","key":"JqUy9fluEn"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🎭 The More You Know: How OOP United Astronomy’s Warring Packages","position":{"start":{"line":1055,"column":1},"end":{"line":1055,"column":1}},"key":"jaMzPpwfDO"}],"key":"T2Kay4x6KI"},{"type":"paragraph","position":{"start":{"line":1058,"column":1},"end":{"line":1058,"column":1}},"children":[{"type":"text","value":"By 2011, Python astronomy had descended into chaos. Every research group had created their own packages with incompatible interfaces. There was PyFITS for reading FITS files, PyWCS for world coordinate systems, vo.table for Virtual Observatory tables, asciitable for text data, cosmolopy for cosmological calculations, and dozens more. Installing a working astronomy environment was a nightmare - each package had different conventions, different dependencies, and different ways of representing the same concepts.","position":{"start":{"line":1058,"column":1},"end":{"line":1058,"column":1}},"key":"RiP29caQt2"}],"key":"vUzGODf2ZA"},{"type":"paragraph","position":{"start":{"line":1060,"column":1},"end":{"line":1060,"column":1}},"children":[{"type":"text","value":"Erik Tollerud, a graduate student at UC Irvine, described the situation: “I spent more time converting between data formats than doing science” (paraphrased from development discussions). A coordinate might be represented as a tuple in one package, a list in another, and a custom object in a third. Unit conversions were handled differently everywhere. Even reading a simple FITS file could require three different packages that didn’t talk to each other.","position":{"start":{"line":1060,"column":1},"end":{"line":1060,"column":1}},"key":"wVjGzKp0jG"}],"key":"CJI3wojKE9"},{"type":"paragraph","position":{"start":{"line":1062,"column":1},"end":{"line":1062,"column":1}},"children":[{"type":"text","value":"At the 2011 Python in Astronomy conference, something remarkable happened. Thomas Robitaille, Perry Greenfield, Erik Tollerud, and developers from competing packages made a radical decision: merge everything into one coherent framework using consistent OOP principles. The design philosophy was simple but powerful:","position":{"start":{"line":1062,"column":1},"end":{"line":1062,"column":1}},"key":"UH2nVwnvkI"}],"key":"EGLxkc03U1"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":1064,"column":1},"end":{"line":1068,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1064,"column":1},"end":{"line":1064,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1064,"column":1},"end":{"line":1064,"column":1}},"children":[{"type":"text","value":"If it’s an entity with state and behavior, make it a class","position":{"start":{"line":1064,"column":1},"end":{"line":1064,"column":1}},"key":"DpZt1U3CwU"}],"key":"mIdeU2zIkn"},{"type":"text","value":" (SkyCoord for coordinates, Table for data, Quantity for values with units)","position":{"start":{"line":1064,"column":1},"end":{"line":1064,"column":1}},"key":"wNFOLAS9C6"}],"key":"Noru7cBw7G"},{"type":"listItem","spread":true,"position":{"start":{"line":1065,"column":1},"end":{"line":1065,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1065,"column":1},"end":{"line":1065,"column":1}},"children":[{"type":"text","value":"If it’s a simple transformation, keep it a function","position":{"start":{"line":1065,"column":1},"end":{"line":1065,"column":1}},"key":"KdNzqkGoZo"}],"key":"rwLlZU86ZZ"},{"type":"text","value":" (unit conversions, mathematical operations)","position":{"start":{"line":1065,"column":1},"end":{"line":1065,"column":1}},"key":"unFxLvmXHc"}],"key":"NyP2S5uuDj"},{"type":"listItem","spread":true,"position":{"start":{"line":1066,"column":1},"end":{"line":1066,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1066,"column":1},"end":{"line":1066,"column":1}},"children":[{"type":"text","value":"Everything has units, always","position":{"start":{"line":1066,"column":1},"end":{"line":1066,"column":1}},"key":"Uu5eO8GMeT"}],"key":"PPc5CJG2DL"},{"type":"text","value":" (no more Mars Climate Orbiter disasters)","position":{"start":{"line":1066,"column":1},"end":{"line":1066,"column":1}},"key":"FTG0hralAq"}],"key":"ahlKRoYP1m"},{"type":"listItem","spread":true,"position":{"start":{"line":1067,"column":1},"end":{"line":1068,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1067,"column":1},"end":{"line":1067,"column":1}},"children":[{"type":"text","value":"One obvious way to do things","position":{"start":{"line":1067,"column":1},"end":{"line":1067,"column":1}},"key":"AZn2PSjjMq"}],"key":"ZDRXehI5uI"},{"type":"text","value":" (borrowed from Python’s philosophy)","position":{"start":{"line":1067,"column":1},"end":{"line":1067,"column":1}},"key":"xaXjisltJl"}],"key":"MJaK6Znlbn"}],"key":"n0DviMlpMf"},{"type":"paragraph","position":{"start":{"line":1069,"column":1},"end":{"line":1069,"column":1}},"children":[{"type":"text","value":"The transformation was remarkable. This incompatible mess:","position":{"start":{"line":1069,"column":1},"end":{"line":1069,"column":1}},"key":"AjOjYxB3TV"}],"key":"ByJIlO9O6e"},{"type":"code","lang":"python","value":"# Old way - three packages, incompatible outputs\nimport pyfits\nimport pywcs  \nimport coords\n\ndata = pyfits.getdata('image.fits')  # Returns numpy array\nheader = pyfits.getheader('image.fits')  # Returns header object\nwcs = pywcs.WCS(header)  # Different coordinate object\n# Convert pixel to sky - returns plain numpy array, no units!\nsky = wcs.wcs_pix2sky([[100, 200]], 1)  \n# Now convert to different coordinate system - different package!\ngalactic = coords.Position((sky[0][0], sky[0][1])).galactic()","position":{"start":{"line":1071,"column":1},"end":{"line":1084,"column":1}},"key":"lIWwfIZVHk"},{"type":"paragraph","position":{"start":{"line":1086,"column":1},"end":{"line":1086,"column":1}},"children":[{"type":"text","value":"Became this unified interface:","position":{"start":{"line":1086,"column":1},"end":{"line":1086,"column":1}},"key":"iQQqhSELDc"}],"key":"HFp3BPNJGA"},{"type":"code","lang":"python","value":"# Astropy way - one package, consistent OOP\nfrom astropy.io import fits\nfrom astropy.wcs import WCS\nfrom astropy.coordinates import SkyCoord\n\nhdu = fits.open('image.fits')[0]  # Unified HDU object\nwcs = WCS(hdu.header)  # Same package, consistent interface\n# Returns SkyCoord object with units and frame info!\nsky = wcs.pixel_to_world(100, 200)  \ngalactic = sky.galactic  # Simple property access for conversion","position":{"start":{"line":1088,"column":1},"end":{"line":1099,"column":1}},"key":"zXBK3eZqmc"},{"type":"paragraph","position":{"start":{"line":1101,"column":1},"end":{"line":1101,"column":1}},"children":[{"type":"text","value":"The key insight? Objects should model astronomical concepts the way astronomers think about them. A coordinate isn’t just numbers - it’s a position with a reference frame, epoch, and possibly distance. A table isn’t just an array - it has columns with units, metadata, and masks. A quantity isn’t just a float - it has units that propagate through calculations.","position":{"start":{"line":1101,"column":1},"end":{"line":1101,"column":1}},"key":"QaRLcm97nr"}],"key":"TBCpCWtddr"},{"type":"paragraph","position":{"start":{"line":1103,"column":1},"end":{"line":1103,"column":1}},"children":[{"type":"text","value":"Today, Astropy has over 10 million downloads and is astronomy’s most-used package. The Large Synoptic Survey Telescope, the Event Horizon Telescope that imaged black holes, and the James Webb Space Telescope data pipelines all build on Astropy’s OOP foundation. When you’re deciding whether to use a class or function, you’re making the same architectural decisions that unified an entire scientific community and enabled discoveries like gravitational waves and exoplanets!","position":{"start":{"line":1103,"column":1},"end":{"line":1103,"column":1}},"key":"hckhG7yT6c"}],"key":"FKyNH8pfxC"},{"type":"paragraph","position":{"start":{"line":1105,"column":1},"end":{"line":1105,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1105,"column":1},"end":{"line":1105,"column":1}},"children":[{"type":"text","value":"[Sources: Robitaille, T., et al. (2013). Astropy: A community Python package for astronomy. Astronomy & Astrophysics, 558, A33. Development history simplified for pedagogical purposes.]","position":{"start":{"line":1105,"column":1},"end":{"line":1105,"column":1}},"key":"KHgMCjOx5V"}],"key":"jsTSNdRAge"}],"key":"BL4C3m5hU3"}],"class":"note, story","key":"eCsYGoz8nF"},{"type":"heading","depth":2,"position":{"start":{"line":1108,"column":1},"end":{"line":1108,"column":1}},"children":[{"type":"text","value":"6.7 Debugging Classes","position":{"start":{"line":1108,"column":1},"end":{"line":1108,"column":1}},"key":"g5FvuyyhyP"}],"identifier":"id-6-7-debugging-classes","label":"6.7 Debugging Classes","html_id":"id-6-7-debugging-classes","implicit":true,"key":"AOvAw1pHhc"},{"type":"paragraph","position":{"start":{"line":1110,"column":1},"end":{"line":1110,"column":1}},"children":[{"type":"text","value":"Understanding how to inspect and debug objects is crucial. Python provides powerful introspection tools to examine objects at runtime:","position":{"start":{"line":1110,"column":1},"end":{"line":1110,"column":1}},"key":"viCgKp7VX2"}],"key":"QLhNP7MW1U"}],"key":"ogb5F2E28L"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class Instrument:\n    \"\"\"Scientific instrument for debugging demo.\"\"\"\n    \n    def __init__(self, name, wavelength_nm):\n        \"\"\"Initialize instrument with name and wavelength.\"\"\"\n        self.name = name\n        self.wavelength_nm = wavelength_nm\n        self._calibrated = False\n    \n    def calibrate(self):\n        \"\"\"Calibrate instrument.\"\"\"\n        self._calibrated = True\n        return f\"{self.name} calibrated\"\n\n# Create instrument\nspectrometer = Instrument(\"HARPS\", 500)\n\n# Introspection tools\nprint(f\"Type: {type(spectrometer)}\")\nprint(f\"Class name: {spectrometer.__class__.__name__}\")\nprint(f\"Is Instrument?: {isinstance(spectrometer, Instrument)}\")\n\n# Check attributes\nprint(f\"\\nHas 'calibrate'?: {hasattr(spectrometer, 'calibrate')}\")\nprint(f\"Wavelength: {getattr(spectrometer, 'wavelength_nm', 'N/A')}\")\n\n# List all attributes (filtering out special ones)\nattrs = [a for a in dir(spectrometer) if not a.startswith('_')]\nprint(f\"\\nPublic attributes: {attrs}\")\n\n# Instance __dict__ vs dir()\n# __dict__ shows instance attributes only\n# dir() shows everything the object can access\nprint(f\"\\nInstance __dict__: {vars(spectrometer)}\")\nprint(f\"dir() has {len(dir(spectrometer))} items (includes inherited)\")\nprint(f\"__dict__ has {len(vars(spectrometer))} items (instance only)\")","key":"zP5efjppV3"},{"type":"output","id":"gz6dHKl8AQvuwKEDgRZyP","data":[],"key":"rlWlP01KQN"}],"key":"vf4XYXloi9"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🐛 Debug This!","position":{"start":{"line":1151,"column":1},"end":{"line":1151,"column":1}},"key":"Ee1uBycCk9"}],"key":"OTksgpWTMJ"},{"type":"paragraph","position":{"start":{"line":1154,"column":1},"end":{"line":1154,"column":1}},"children":[{"type":"text","value":"This code has a subtle but critical bug. Can you find it?","position":{"start":{"line":1154,"column":1},"end":{"line":1154,"column":1}},"key":"o4O64OFA9l"}],"key":"zTiUldmJvV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class Observatory:\n    def __init__(self, name, telescopes=[]):  # Bug here!\n        self.name = name\n        self.telescopes = telescopes\n    \n    def add_telescope(self, telescope):\n        \"\"\"Add a telescope to this observatory.\"\"\"\n        self.telescopes.append(telescope)\n\n# Test the code\nkeck = Observatory(\"Keck\")\nkeck.add_telescope(\"Keck I\")\n\nvlt = Observatory(\"VLT\")\nvlt.add_telescope(\"Antu\")\n\nprint(f\"Keck telescopes: {keck.telescopes}\")\nprint(f\"VLT telescopes: {vlt.telescopes}\")  # Unexpected output!","key":"vjNGq9M8Jq"},{"type":"output","id":"wmAgtgKYCev-67lDXlXUY","data":[],"key":"gbctYtIRla"}],"key":"lmTDejGLQL"},{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Solution","position":{"start":{"line":1177,"column":1},"end":{"line":1177,"column":1}},"key":"Qz8L6noL0M"}],"key":"vck46njOzJ"},{"type":"paragraph","position":{"start":{"line":1178,"column":1},"end":{"line":1178,"column":1}},"children":[{"type":"text","value":"The bug is the mutable default argument ","position":{"start":{"line":1178,"column":1},"end":{"line":1178,"column":1}},"key":"wMaG4lkuE1"},{"type":"inlineCode","value":"telescopes=[]","position":{"start":{"line":1178,"column":1},"end":{"line":1178,"column":1}},"key":"v8EdBViidp"},{"type":"text","value":". All instances share the same list! When you add a telescope to one observatory, it appears in all of them.","position":{"start":{"line":1178,"column":1},"end":{"line":1178,"column":1}},"key":"mGsePosiW8"}],"key":"oI0iSMBKTm"},{"type":"paragraph","position":{"start":{"line":1180,"column":1},"end":{"line":1180,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1180,"column":1},"end":{"line":1180,"column":1}},"children":[{"type":"text","value":"Fix:","position":{"start":{"line":1180,"column":1},"end":{"line":1180,"column":1}},"key":"Tb79kWoAnf"}],"key":"SY6uldlX18"}],"key":"Z80bAbpXxr"},{"type":"code","lang":"python","value":"def __init__(self, name, telescopes=None):\n    self.name = name\n    self.telescopes = telescopes if telescopes is not None else []","position":{"start":{"line":1181,"column":1},"end":{"line":1185,"column":1}},"key":"CASiciPl2y"},{"type":"paragraph","position":{"start":{"line":1187,"column":1},"end":{"line":1187,"column":1}},"children":[{"type":"text","value":"This bug has caused real problems in production systems. Always use ","position":{"start":{"line":1187,"column":1},"end":{"line":1187,"column":1}},"key":"x0mWPz1KNJ"},{"type":"inlineCode","value":"None","position":{"start":{"line":1187,"column":1},"end":{"line":1187,"column":1}},"key":"wpWkBXdB75"},{"type":"text","value":" as default for mutable arguments, then create a new object in the method.","position":{"start":{"line":1187,"column":1},"end":{"line":1187,"column":1}},"key":"x4TR1iP3JI"}],"key":"XJ3P8Bsh8d"}],"key":"xXb7EfiC2S"}],"class":"exercise","key":"Sb2odU5zbK"},{"type":"code","lang":"","value":"\n## 6.8 Practice Exercises\n\n### Exercise 1: Build a DataPoint Class\n\nLet's start with a fundamental building block for data analysis:\n\n```{code-cell} python\n\"\"\"\nPart A: Basic DataPoint class (5 minutes)\nCreate a class that stores a value with timestamp\n\"\"\"\n\nimport time\n\nclass DataPoint:\n    \"\"\"Single measurement with timestamp.\"\"\"\n    \n    def __init__(self, value, label=\"\"):\n        \"\"\"Initialize with value and optional label.\"\"\"\n        self.value = value\n        self.label = label\n        self.timestamp = time.time()\n    \n    def age_seconds(self):\n        \"\"\"How old is this data point?\"\"\"\n        return time.time() - self.timestamp\n\n# Test it\ndp = DataPoint(42.5, \"temperature\")\nprint(f\"Value: {dp.value}\")\nprint(f\"Label: {dp.label}\")\n# Note: Brief pause to demonstrate timestamp difference\n# In real applications, timestamps naturally differ\ntime.sleep(0.01)  \nprint(f\"Age: {dp.age_seconds():.3f} seconds\")\n```\n\n```{code-cell} python\n\"\"\"\nPart B: Add validation and properties (10 minutes)\nEnhance with properties for safety\n\"\"\"\n\nclass DataPoint:\n    \"\"\"Measurement with validation.\"\"\"\n    \n    def __init__(self, value, error=0, label=\"\"):\n        \"\"\"Initialize with value, error, and label.\"\"\"\n        self.value = value\n        self.error = abs(error)  # Ensure positive\n        self.label = label\n        self.timestamp = time.time()\n    \n    @property\n    def relative_error(self):\n        \"\"\"Relative error as percentage.\"\"\"\n        if self.value == 0:\n            return float('inf')\n        return (self.error / abs(self.value)) * 100\n    \n    @property\n    def is_significant(self):\n        \"\"\"Check if measurement is significant.\"\"\"\n        return self.relative_error < 5.0  # Less than 5% error\n    \n    def __str__(self):\n        \"\"\"Nice string representation.\"\"\"\n        return f\"{self.value} ± {self.error} ({self.label})\"\n\n# Test enhanced version\ndp = DataPoint(100, 2, \"voltage\")\nprint(dp)\nprint(f\"Relative error: {dp.relative_error:.1f}%\")\nprint(f\"Significant?: {dp.is_significant}\")\n```\n\n```{code-cell} python\n\"\"\"\nPart C: Complete DataSeries class (15 minutes)\nContainer for multiple DataPoints with analysis\n\"\"\"\n\nclass DataSeries:\n    \"\"\"Collection of DataPoints with statistics.\"\"\"\n    \n    def __init__(self, name):\n        \"\"\"Initialize empty series with name.\"\"\"\n        self.name = name\n        self._points = []\n    \n    def add_point(self, value, error=0):\n        \"\"\"Add new data point.\"\"\"\n        dp = DataPoint(value, error, self.name)\n        self._points.append(dp)\n    \n    def __len__(self):\n        \"\"\"Number of points.\"\"\"\n        return len(self._points)\n    \n    def __getitem__(self, index):\n        \"\"\"Access points by index.\"\"\"\n        return self._points[index]\n    \n    @property\n    def values(self):\n        \"\"\"Array of values.\"\"\"\n        return [p.value for p in self._points]\n    \n    @property\n    def mean(self):\n        \"\"\"Calculate mean value.\"\"\"\n        if not self._points:\n            return 0\n        return sum(self.values) / len(self._points)\n    \n    @property\n    def std_dev(self):\n        \"\"\"Calculate standard deviation.\"\"\"\n        if len(self._points) < 2:\n            return 0\n        m = self.mean\n        variance = sum((x - m)**2 for x in self.values) / (len(self._points) - 1)\n        return variance**0.5\n    \n    def __str__(self):\n        \"\"\"String representation with statistics.\"\"\"\n        return f\"DataSeries '{self.name}': {len(self)} points, mean={self.mean:.2f}±{self.std_dev:.2f}\"\n\n# Test complete system\nseries = DataSeries(\"Temperature\")\nfor temp in [20.1, 20.5, 19.8, 20.2, 20.0]:\n    series.add_point(temp, error=0.1)\n\nprint(series)\nprint(f\"First point: {series[0]}\")\nprint(f\"Last point: {series[-1]}\")\nprint(f\"All values: {series.values}\")\n```\n\n### Exercise 2: Variable Star Class (Continuing Our Thread)\n\nBuilding on Chapter 5's lightcurve analysis - now we organize our variable star code using OOP:\n\n```{code-cell} python\n\"\"\"\nTransform our functional variable star analysis into OOP\nThis connects directly to what you learned in Chapter 5!\n\"\"\"\n\nclass VariableStar:\n    \"\"\"A variable star with photometric properties.\"\"\"\n    \n    def __init__(self, name, observations):\n        \"\"\"\n        Initialize with observations.\n        observations: list of (time, magnitude, error) tuples\n        \"\"\"\n        self.name = name\n        self.observations = sorted(observations)  # Sort by time\n    \n    @property\n    def mean_magnitude(self):\n        \"\"\"Average magnitude.\"\"\"\n        mags = [obs[1] for obs in self.observations]\n        return sum(mags) / len(mags) if mags else 0\n    \n    @property\n    def amplitude(self):\n        \"\"\"Peak-to-peak amplitude.\"\"\"\n        if not self.observations:\n            return 0\n        mags = [obs[1] for obs in self.observations]\n        return max(mags) - min(mags)\n    \n    @property\n    def time_span(self):\n        \"\"\"Total observation time span in days.\"\"\"\n        if len(self.observations) < 2:\n            return 0\n        times = [obs[0] for obs in self.observations]\n        return max(times) - min(times)\n    \n    def phase_fold(self, period):\n        \"\"\"\n        Fold lightcurve at given period.\n        \n        Phase folding: Maps all times to [0,1] based on period.\n        Like overlaying multiple periods to see the repeating pattern.\n        \n        Visual example:\n        Time:   0 5.4 10.8 16.2 21.6 27.0 ...\n        Phase:  0 0   0    0    0    0    ... (all fold to same phase)\n                ↓ ↓   ↓    ↓    ↓    ↓\n                [────one period────]\n        \n        Used to find periodic signals in variable stars.\n        \"\"\"\n        result = []\n        for time, mag, err in self.observations:\n            phase = (time % period) / period\n            result.append((phase, mag, err))\n        return sorted(result)\n    \n    def __str__(self):\n        \"\"\"String representation with key statistics.\"\"\"\n        return (f\"VariableStar({self.name}): \"\n                f\"{len(self.observations)} obs, \"\n                f\"<m>={self.mean_magnitude:.2f}, \"\n                f\"amp={self.amplitude:.2f}\")\n    \n    def __len__(self):\n        \"\"\"Number of observations.\"\"\"\n        return len(self.observations)\n\n# Test with simulated Cepheid data\nobservations = []\nfor day in range(20):\n    time = day + 0.1 * day  # Non-uniform sampling\n    # Sinusoidal variation\n    phase = 2 * math.pi * time / 5.366  # Delta Cephei period\n    magnitude = 4.0 + 0.5 * math.sin(phase)\n    error = 0.01\n    observations.append((time, magnitude, error))\n\ndelta_cep = VariableStar(\"Delta Cephei\", observations)\nprint(delta_cep)\nprint(f\"Time span: {delta_cep.time_span:.1f} days\")\n\n# Phase fold at known period\nfolded = delta_cep.phase_fold(5.366)\nprint(f\"First folded point: phase={folded[0][0]:.3f}, mag={folded[0][1]:.2f}\")\n```\n\n### Exercise 3: Performance Comparison\n\n```{code-cell} python\n\"\"\"\nCompare OOP vs functional approaches for performance\nUnderstanding the tradeoffs helps you choose wisely\n\"\"\"\n\nimport time\n\n# OOP Approach\nclass ParticleOOP:\n    def __init__(self, x, y, vx, vy):\n        \"\"\"Initialize particle with position and velocity.\"\"\"\n        self.x = x    # cm\n        self.y = y    # cm\n        self.vx = vx  # cm/s\n        self.vy = vy  # cm/s\n    \n    def update(self, dt):\n        \"\"\"Update position based on velocity.\"\"\"\n        self.x += self.vx * dt\n        self.y += self.vy * dt\n    \n    def energy(self):\n        \"\"\"Calculate kinetic energy in ergs (mass = 1g).\"\"\"\n        return 0.5 * (self.vx**2 + self.vy**2)\n\n# Functional Approach\ndef create_particle(x, y, vx, vy):\n    \"\"\"Create particle dictionary.\"\"\"\n    return {'x': x, 'y': y, 'vx': vx, 'vy': vy}\n\ndef update_particle(p, dt):\n    \"\"\"Update particle position.\"\"\"\n    p['x'] += p['vx'] * dt\n    p['y'] += p['vy'] * dt\n    return p\n\ndef particle_energy(p):\n    \"\"\"Calculate particle energy.\"\"\"\n    return 0.5 * (p['vx']**2 + p['vy']**2)\n\n# Performance test with moderate sample for demonstration\nn = 5000  # Moderate size for notebook execution\ndt = 0.01\n\n# OOP timing\nstart = time.perf_counter()\nparticles_oop = [ParticleOOP(i, i, 1, 1) for i in range(n)]\nfor p in particles_oop:\n    p.update(dt)\n    e = p.energy()\noop_time = time.perf_counter() - start\n\n# Functional timing\nstart = time.perf_counter()\nparticles_func = [create_particle(i, i, 1, 1) for i in range(n)]\nfor p in particles_func:\n    update_particle(p, dt)\n    e = particle_energy(p)\nfunc_time = time.perf_counter() - start\n\nprint(f\"OOP approach: {oop_time*1000:.2f} ms\")\nprint(f\"Functional approach: {func_time*1000:.2f} ms\")\nprint(f\"Ratio: {oop_time/func_time:.2f}x\")\n\nprint(\"\\nNote: OOP is often slightly slower due to:\")\nprint(\"- Attribute lookup overhead\")\nprint(\"- Object creation and memory allocation costs\")\nprint(\"\\nHowever, this performance difference only matters when\")\nprint(\"creating millions of objects in tight loops. For most\")\nprint(\"scientific applications, code clarity and maintainability\")\nprint(\"far outweigh these microsecond differences.\")\n```\n\n## Main Takeaways\n\nYou've just made a fundamental leap in how you think about programming. Object-Oriented Programming isn't just a different syntax – it's a different mental model. Instead of thinking \"what operations do I need to perform on this data?\", you now think \"what *is* this thing and what can it *do*?\" This shift from procedural to object-oriented thinking mirrors how we naturally conceptualize scientific systems. A particle isn't just three numbers for position; it's an entity with mass, velocity, and behaviors like moving and colliding.\n\nThe power of OOP becomes clear when managing complexity. That simple Particle class with five attributes and three methods might seem like overkill compared to a dictionary. But when your simulation has thousands of particles, each needing consistent updates, validation, and state tracking, the object-oriented approach prevents the chaos that killed the Mars Climate Orbiter mission. Properties ensure units stay consistent. Methods guarantee state updates follow physical laws. Special methods make your objects work seamlessly with Python's syntax. These aren't just programming conveniences – they're safety mechanisms that prevent billion-dollar disasters.\n\nBut perhaps the most important lesson is knowing when NOT to use objects. Not every function needs to become a method. Not every data structure needs to become a class. Simple calculations should stay as functions. Stateless transformations don't need objects. The art lies in recognizing when you're modeling entities with state and behavior (use classes) versus performing operations on data (use functions). This judgment will develop as you write more code, but now you have the conceptual framework to make these decisions thoughtfully.\n\nLooking ahead, everything in Python's scientific stack builds on these concepts. NumPy arrays are objects with methods like `.mean()` and `.reshape()`. Every Matplotlib plot is an object maintaining state about axes, data, and styling. When you write `array.sum()` or `figure.savefig()`, you're using the same patterns you just learned. More importantly, you can now create your own scientific classes that integrate seamlessly with these tools. You're not just learning to use objects – you're learning to think in objects, and that's a superpower for scientific computing.\n\n## Definitions\n\n**Attribute**: A variable that belongs to an object. Instance attributes are unique to each object; class attributes are shared by all instances.\n\n**Class**: A blueprint or template for creating objects. Defines what attributes and methods objects will have.\n\n**Constructor**: The `__init__` method that initializes new objects when they're created.\n\n**Duck Typing**: Python's philosophy that an object's suitability is determined by its methods and attributes, not its type. \"If it walks like a duck and quacks like a duck, it's a duck.\"\n\n**Encapsulation**: The bundling of data and methods that operate on that data within a single unit (class).\n\n**Instance**: A specific object created from a class. Each instance has its own set of instance attributes.\n\n**Method**: A function defined inside a class that operates on instances of that class.\n\n**Object**: A specific instance of a class containing data (attributes) and behavior (methods).\n\n**Property**: A special attribute that executes code when accessed or set, created with the `@property` decorator.\n\n**Self**: The first parameter of instance methods, referring to the specific object being operated on.\n\n**Setter**: A property method that validates and sets attribute values, defined with `@attribute.setter`.\n\n**Special Method**: Methods with double underscores (like `__init__`, `__str__`) that define object behavior for built-in operations.\n\n**Static Method**: A method that doesn't receive self or cls, defined with `@staticmethod`.\n\n## Key Takeaways\n\n✓ **Classes combine data and behavior** – Objects bundle related attributes and methods, keeping code organized and preventing errors from mismatched data and functions\n\n✓ **The self parameter connects methods to objects** – It's automatically passed to methods and refers to the specific instance being operated on\n\n✓ **Properties provide smart attributes** – Use `@property` for computed values and validation, ensuring data consistency without explicit method calls\n\n✓ **Special methods make objects Pythonic** – Implementing `__str__`, `__len__`, `__add__` lets your objects work naturally with built-in functions and operators\n\n✓ **Instance attributes belong to objects, class attributes are shared** – Choose instance for object-specific data, class for constants and shared state\n\n✓ **Not everything needs to be a class** – Use objects for stateful entities with behavior, functions for simple calculations and transformations\n\n✓ **Properties prevent unit disasters** – Validation in setters catches errors immediately, preventing Mars Climate Orbiter-style catastrophes\n\n✓ **Everything in Python is an object** – Even functions and modules are objects, making Python's object model consistent and powerful\n\n✓ **Duck typing enables flexibility** – Objects work based on capabilities (methods) not types, allowing seamless integration with Python's protocols\n\n## Quick Reference Tables\n\n### Class Definition Syntax\n\n| Element | Syntax | Example |\n|---------|--------|---------|\n| Define class | `class Name:` | `class Particle:` |\n| Constructor | `def __init__(self):` | `def __init__(self, mass):` |\n| Instance attribute | `self.attr = value` | `self.mass = 1.67e-24` |\n| Class attribute | `attr = value` | `SPEED_OF_LIGHT = 3e10` |\n| Instance method | `def method(self):` | `def velocity(self):` |\n| Property getter | `@property` | `@property def energy(self):` |\n| Property setter | `@attr.setter` | `@energy.setter` |\n| Class method | `@classmethod` | `@classmethod def from_file(cls):` |\n| Static method | `@staticmethod` | `@staticmethod def validate():` |\n\n### Essential Special Methods\n\n| Method | Purpose | Called By |\n|--------|---------|-----------|\n| `__init__` | Initialize object | `MyClass()` |\n| `__str__` | Human-readable string | `str(obj)`, `print(obj)` |\n| `__repr__` | Developer string | `repr(obj)` |\n| `__len__` | Get length | `len(obj)` |\n| `__getitem__` | Get by index | `obj[i]` |\n| `__setitem__` | Set by index | `obj[i] = val` |\n| `__contains__` | Check membership | `x in obj` |\n| `__iter__` | Make iterable | `for x in obj` |\n| `__add__` | Addition | `obj1 + obj2` |\n| `__eq__` | Equality test | `obj1 == obj2` |\n| `__bool__` | Truth value | `if obj:`, `bool(obj)` |\n| `__call__` | Make callable | `obj()` |\n\n### Debugging Object Tools\n\n| Function | Purpose | Example |\n|----------|---------|---------|\n| `type(obj)` | Get object's class | `type(particle)` |\n| `isinstance(obj, cls)` | Check if object is instance | `isinstance(p, Particle)` |\n| `hasattr(obj, 'attr')` | Check if attribute exists | `hasattr(p, 'mass')` |\n| `getattr(obj, 'attr')` | Get attribute safely | `getattr(p, 'mass', 0)` |\n| `setattr(obj, 'attr', val)` | Set attribute | `setattr(p, 'mass', 1.0)` |\n| `dir(obj)` | List all accessible attributes | `dir(particle)` |\n| `vars(obj)` or `obj.__dict__` | Get instance attributes only | `vars(particle)` |\n| `help(obj)` | Get documentation | `help(Particle)` |\n\n## References\n\n1. Oliphant, T. E. (2006). *A guide to NumPy* (Vol. 1). USA: Trelgol Publishing. - The design decisions behind NumPy's object-oriented architecture.\n\n2. NASA JPL. (2004). *Mars Exploration Rover Mission: Spirit Anomaly Report*. Jet Propulsion Laboratory. - Documentation of the Spirit rover flash memory issue and software recovery.\n\n3. NASA. (1999). *Mars Climate Orbiter Mishap Investigation Board Phase I Report*. NASA. - Official report on the unit conversion error that destroyed MCO.\n\n4. Allen, L. (1990). *The Hubble Space Telescope Optical Systems Failure Report*. NASA. - Analysis of the mirror aberration and its causes.\n\n5. Van Rossum, G., & Drake, F. L. (2009). *Python 3 Reference Manual*. CreateSpace. - Definitive guide to Python's object model and special methods.\n\n6. Van Rossum, G. (1996). Foreword for \"Programming Python\" (1st ed.). O'Reilly Media. - Early vision for Python's role in computing.\n\n7. Lutz, M. (2013). *Learning Python* (5th ed.). O'Reilly Media. - Comprehensive coverage of Python OOP concepts.\n\n8. Gamma, E., Helm, R., Johnson, R., & Vlissides, J. (1994). *Design Patterns: Elements of Reusable Object-Oriented Software*. Addison-Wesley. - Classic patterns referenced in the protocol discussion.\n\n9. Nygaard, K., & Dahl, O. J. (1978). The development of the SIMULA languages. *ACM SIGPLAN Notices*, 13(8), 245-272. - History of OOP's invention.\n\n10. Kay, A. (1993). The early history of Smalltalk. *ACM SIGPLAN Notices*, 28(3), 69-95. - Influence of Simula on object-oriented thinking.\n\n11. Beazley, D., & Jones, B. K. (2013). *Python Cookbook* (3rd ed.). O'Reilly Media. - Practical recipes for Python OOP and metaprogramming.\n\n12. Ramalho, L. (2015). *Fluent Python*. O'Reilly Media. - Deep dive into Python's object model and special methods.\n\n13. Martelli, A. (2000). *The Python \"Duck Typing\" Principle*. comp.lang.python. - Origin of the duck typing terminology in Python context.\n\n14. Knuth, D. E. (1997). *The Art of Computer Programming, Volume 1: Fundamental Algorithms* (3rd ed.). Addison-Wesley. - Source for the Euclidean algorithm used in GCD calculation.\n\n15. Robitaille, T., et al. (2013). Astropy: A community Python package for astronomy. *Astronomy & Astrophysics*, 558, A33. - The unification of Python astronomy packages.\n\n16. Hugunin, J. (1995). The Numeric Python extensions. *Python Software Foundation Archives*. - Early history of scientific Python.\n\n## Next Chapter Preview\n\nIn Chapter 7: Advanced OOP Patterns, you'll discover how object-oriented programming scales to advanced patterns. You'll master inheritance to model scientific hierarchies (Particle → ChargedParticle → Electron), use composition for complex systems (Telescope HAS-A Mount, Detector, and Filter), and implement context managers for resource safety. We'll explore performance optimization with `__slots__`, advanced special methods for full container behavior, and design patterns from production scientific software. Most importantly, you'll learn when these advanced techniques clarify versus complicate code. The same OOP foundation you just built powers frameworks like Astropy and SciPy – next chapter shows you how to architect at that level!","position":{"start":{"line":1189,"column":1},"end":{"line":1640,"column":1}},"key":"WCujLJ8D4k"}],"key":"E4Yd60JTRs"}],"key":"TsfsJQIkRg"},"references":{"cite":{"order":[],"data":{}}}}