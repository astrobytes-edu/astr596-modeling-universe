{"version":2,"kind":"Notebook","sha256":"b3e087e86a8ab4d063ca8d45b22c7bb7306ca016e9c2df05c3ff1ea68e5d8b7b","slug":"chapter5-final","location":"/03-scientific-computing-with-python/01-python-fundamentals/chapter5_final.md","dependencies":[],"frontmatter":{"title":"Chapter 5: Functions & Modules - Building Reusable Scientific Code","kernelspec":{"name":"python3","display_name":"Python 3","language":"python"},"jupytext":{"formats":"md:myst","text_representation":{"extension":".md","format_name":"myst"}},"content_includes_title":false,"authors":[{"nameParsed":{"literal":"Anna Rosen","given":"Anna","family":"Rosen"},"name":"Anna Rosen","orcid":"0000-0003-4423-0660","email":"alrosen@sdsu.edu","affiliations":["San Diego State University"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/astrobytes-edu/astr596-modeling-universe","subject":"Modeling the Universe","venue":{"title":"ASTR 596 - Fall 2025","url":"https://www.anna-rosen.com"},"keywords":["computational astrophysics","python","numerical methods","machine learning","monte carlo","neural networks","radiative transfer","bayesian inference","JAX"],"affiliations":[{"id":"San Diego State University","name":"San Diego State University"}],"numbering":{"title":{"offset":2}},"edit_url":"https://github.com/astrobytes-edu/astr596-modeling-universe/blob/main/03-scientific-computing-with-python/01-python-fundamentals/chapter5_final.md","exports":[{"format":"md","filename":"chapter5_final.md","url":"/chapter5_final-717235b6b050f6ae8dfab285de2729e3.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Learning Objectives","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"oGbd2uOxkl"}],"identifier":"learning-objectives","label":"Learning Objectives","html_id":"learning-objectives","implicit":true,"key":"IDrMQ2hIuv"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"By the end of this chapter, you will be able to:","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"KFsceVFkBn"}],"key":"yX6hVpbzR0"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":18,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Design functions as clear contracts with well-defined inputs and outputs","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"BYeTROjcc0"}],"key":"pBdGj8YUXC"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Understand Python’s scope rules and how they affect variable access","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"uSap22FqkF"}],"key":"D6DlMl6tyn"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Master positional, keyword, and default arguments for flexible interfaces","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"DSFUNNMqq7"}],"key":"kuhgQax62b"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Apply functional programming patterns like map, filter, and lambda functions","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"TvTcyhA5kI"}],"key":"gkloMWVMk5"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Create and import your own modules for code organization","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"Kyw4NxkR5G"}],"key":"ybKfOPWoMe"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Document functions properly using docstrings","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"wTcw00MEBa"}],"key":"XCKxvtV4WX"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Recognize and avoid common function-related bugs","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"XZkDpT8xOl"}],"key":"D9WhsGJ2F1"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Build modular, reusable code for scientific applications","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"jFbzYQO9sa"}],"key":"S8zGh9RZFf"}],"key":"w4ufEtbDJB"},{"type":"heading","depth":2,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Prerequisites Check","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"yolDsyEBJF"}],"identifier":"prerequisites-check","label":"Prerequisites Check","html_id":"prerequisites-check","implicit":true,"key":"ahHP6xDrgV"},{"type":"paragraph","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Before starting this chapter, verify you can:","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"D5cyI3akvg"}],"key":"SStRIYLIdy"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":30,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"✓ Write loops and conditionals fluently (Chapter 3)","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"MZyTizd8pg"}],"key":"a0NyBOPqNo"},{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"✓ Choose appropriate data structures for different tasks (Chapter 4)","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"bDZU4IfBKB"}],"key":"rHJc6e6XXv"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"✓ Handle floating-point arithmetic safely (Chapter 2)","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"NPBklv768c"}],"key":"AOQKOYG54A"},{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"✓ Use IPython for testing and timing code (Chapter 1)","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"u8UBb4OLXn"}],"key":"VNU6e25yzg"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"✓ Design algorithms with pseudocode (Chapter 3)","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"AkepuTviKH"}],"key":"PQGmOekg4o"}],"key":"YwcjWAD6ZQ"}],"key":"yNYdhbvi1T"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Quick prerequisite check\ndata = [2.5, 3.7, 1.2, 4.8]\nresult = []\nfor value in data:\n    if value > 2.0:\n        result.append(value * 2)\nprint(f\"If you got {result}, you're ready!\")\n# Expected: [5.0, 7.4, 9.6]","key":"hJCiHFwlub"},{"type":"output","id":"awZEnIJpNSt3hLi9eHKaV","data":[],"key":"vK1qJN5YyG"}],"key":"Ub2m7vEZGx"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"Chapter Overview","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"K6hx9xk3SE"}],"identifier":"chapter-overview","label":"Chapter Overview","html_id":"chapter-overview","implicit":true,"key":"CrhbAjD9Gg"},{"type":"paragraph","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"text","value":"Functions are the fundamental building blocks of organized code. Without functions, you’d be copying and pasting the same code repeatedly, making bugs harder to fix and improvements impossible to maintain. But functions are more than just a way to avoid repetition—they’re how we create abstractions, manage complexity, and build reliable software. Whether you’re calculating statistical measures, simulating physical systems, or processing experimental data, every computational project starts with well-designed functions.","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"UKoBLwONfW"}],"key":"NgM6baSmHI"},{"type":"paragraph","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"text","value":"This chapter teaches you to think about functions as contracts between different parts of your code. When you write a function that calculates energy or performs numerical integration, you’re creating a promise: given valid input, the function will reliably return the correct output. This contract mindset helps you write functions that others (including future you) can trust and use effectively. You’ll learn how to choose between positional and keyword arguments, when to use default values, and how to design interfaces that are both flexible and clear.","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"yzGxRXHUii"}],"key":"kqUln9DGBj"},{"type":"paragraph","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"We’ll explore Python’s scope rules, which determine where variables can be accessed, and learn how seemingly simple concepts like default arguments can create subtle bugs that have plagued even major scientific software packages. You’ll discover how Python’s flexible parameter system enables powerful interfaces, and how functional programming concepts prepare you for modern scientific computing frameworks. By the end, you’ll be organizing your code into modules that can be shared, tested, and maintained professionally—essential skills for collaborative scientific research.","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"FIFNrVi2UK"}],"key":"msENFsUJ24"},{"type":"heading","depth":2,"position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"text","value":"5.1 Defining Functions: The Basics","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"KWucq6Zj4M"}],"identifier":"id-5-1-defining-functions-the-basics","label":"5.1 Defining Functions: The Basics","html_id":"id-5-1-defining-functions-the-basics","implicit":true,"key":"GNnawTNHNg"},{"type":"paragraph","position":{"start":{"line":57,"column":1},"end":{"line":58,"column":1}},"children":[{"type":"text","value":"{margin} Function\nA reusable block of code that performs a specific task, taking inputs and optionally returning outputs.","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"peIMmB8eS2"}],"key":"YUUc9dRosg"},{"type":"paragraph","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"text","value":"A function encapsulates a piece of logic that transforms inputs into outputs. Think of a function as a machine: you feed it raw materials (inputs), it performs some process (the function body), and it produces a product (output). In scientific computing, a function might calculate statistical measures, integrate equations, or transform data—each function performs one clear task that can be tested and trusted.","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"GsOdfYZF1m"}],"key":"ZggIzSIzlv"},{"type":"heading","depth":3,"position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"Your First Function","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"wl2BojQlvl"}],"identifier":"your-first-function","label":"Your First Function","html_id":"your-first-function","implicit":true,"key":"S4urwIYTXS"},{"type":"paragraph","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"children":[{"type":"text","value":"Let’s start with something every scientist needs—calculating mean and standard deviation:","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"wjUWt6AItY"}],"key":"KhB99BEKSH"}],"key":"JM3yeLBFUg"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def calculate_mean(values):\n    \"\"\"\n    Calculate the arithmetic mean of a list of values.\n    \n    This is our first function - notice the structure!\n    \"\"\"\n    # Validate inputs early using assert (raises error if condition is False)\n    assert len(values) > 0, \"Cannot calculate mean of empty list\"\n    \n    total = sum(values)\n    count = len(values)\n    mean = total / count\n    return mean\n\n# Using the function\nmeasurements = [23.5, 24.1, 23.8, 24.3, 23.9]\navg = calculate_mean(measurements)\nprint(f\"Mean temperature: {avg:.2f}°C\")\n\n# The assert would raise an error with empty list:\n# empty_mean = calculate_mean([])  # AssertionError: Cannot calculate mean of empty list","key":"j4sCWF95rd"},{"type":"output","id":"teETAKhLO6jwP5FRlwAIh","data":[],"key":"TlKjFeh8R4"}],"key":"kbIrbIBD7N"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"text","value":"Let’s break down exactly how this works:","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"f3xXNZNenm"}],"key":"AxCoNtI3as"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":92,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"strong","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"inlineCode","value":"def","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"Lm4qGfnSuP"},{"type":"text","value":" keyword","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"rW4rYTUixY"}],"key":"uHlmeFdsXH"},{"type":"text","value":": Tells Python we’re defining a function","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"p08L021dYz"}],"key":"LYPmWjKbJz"},{"type":"listItem","spread":true,"position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"children":[{"type":"strong","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"children":[{"type":"text","value":"Function name","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"key":"XPBDHqAmoT"}],"key":"aQwHLiMEie"},{"type":"text","value":" (","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"key":"K30rONL9rZ"},{"type":"inlineCode","value":"calculate_mean","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"key":"K0dtkhiRb6"},{"type":"text","value":"): Follows snake_case convention, describes what it does","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"key":"gYFDmNXtwP"}],"key":"PtW2zFs2Ij"},{"type":"listItem","spread":true,"position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"strong","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"text","value":"Parameters","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"JU3B0ngo6E"}],"key":"PkLQHKJxCH"},{"type":"text","value":" (","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"SdfHGDsf5l"},{"type":"inlineCode","value":"values","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"Lv8dhgMHLM"},{"type":"text","value":"): Variables that receive values when function is called","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"U34fS0kemi"}],"key":"KZOLJI18J1"},{"type":"listItem","spread":true,"position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"strong","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"text","value":"Docstring","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"Du4CFTeK1R"}],"key":"JLroyv9u0t"},{"type":"text","value":": Brief description of what the function does (always include this!)","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"yysNJZz9Br"}],"key":"RjCLRk5Sdy"},{"type":"listItem","spread":true,"position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"strong","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"text","value":"Function body","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"swncYufTT8"}],"key":"wTcwONJl82"},{"type":"text","value":": Indented code that does the actual work","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"hQ0rrZ3iyG"}],"key":"rMqd1Rxfgb"},{"type":"listItem","spread":true,"position":{"start":{"line":97,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"strong","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"children":[{"type":"inlineCode","value":"return","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"XIf2PmmgJn"},{"type":"text","value":" statement","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"URUeyODvRy"}],"key":"oOdS8vt00C"},{"type":"text","value":": Sends a value back to whoever called the function","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"GhH42hDmIP"}],"key":"ISGFagVr4L"}],"key":"RHukC4vQQv"},{"type":"paragraph","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"text","value":"When Python executes ","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"mnmhnpnhDu"},{"type":"inlineCode","value":"calculate_mean(measurements)","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"JzKuR9T56F"},{"type":"text","value":", it creates a temporary namespace where ","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"tOMDpOjrRw"},{"type":"inlineCode","value":"values = [23.5, 24.1, ...]","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"qHUwwCJQzP"},{"type":"text","value":", runs the function body, and returns the result.","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"DvkqmARlrW"}],"key":"UoKzAXVHUe"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🔍 Check Your Understanding #1","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"vzactEh7Iq"}],"key":"cIhc2MBn4G"},{"type":"paragraph","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"What will this code print?","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"X2CaaSYZ8n"}],"key":"mfSm2MmVYk"},{"type":"code","lang":"python","value":"def calculate_product(x, y):\n    product = x * y\n    # Oops, forgot the return statement!\n\nresult = calculate_product(3.0, 4.0)\nprint(f\"Product: {result}\")","position":{"start":{"line":106,"column":1},"end":{"line":113,"column":1}},"key":"GVx55xOMQo"},{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Answer","key":"AHUvxlZ5xU"}],"key":"jrofLpnTzw"},{"type":"paragraph","children":[{"type":"text","value":"It prints ","key":"FSg6JVKQma"},{"type":"inlineCode","value":"Product: None","key":"LYQa2GligT"},{"type":"text","value":". The function calculates ","key":"adYHf2lMXp"},{"type":"inlineCode","value":"product","key":"a5kNRuvJXw"},{"type":"text","value":" but doesn’t return it. Without an explicit ","key":"HbjWaZxeCU"},{"type":"inlineCode","value":"return","key":"CbnTCwJFQE"},{"type":"text","value":" statement, Python functions return ","key":"bHYt0TPY1i"},{"type":"inlineCode","value":"None","key":"ZNg1JYtnm8"},{"type":"text","value":". This is a common bug in scientific code!","key":"ZuQRbW2101"}],"key":"aMlFS0phu0"},{"type":"paragraph","children":[{"type":"text","value":"To fix it:","key":"D4iIrahmxv"}],"key":"Llw64bO1fn"},{"type":"code","lang":"python","meta":null,"value":"def calculate_product(x, y):\n    product = x * y\n    return product  # Now it returns the value","key":"HhWwUofXrr"}],"key":"q1ZnEmQd3p"}],"class":"question","key":"LerwhsFYHy"},{"type":"heading","depth":3,"position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"text","value":"Functions Without Return Values","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"Kuuu3uMx0M"}],"identifier":"functions-without-return-values","label":"Functions Without Return Values","html_id":"functions-without-return-values","implicit":true,"key":"cUGMZuMbI5"},{"type":"paragraph","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"text","value":"Not all functions return values. Some perform actions like printing results or saving data:","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"Sem5SU07ti"}],"key":"Vv3OBVrfzy"}],"key":"qXdeas1hQ5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def report_statistics(data, name=\"Dataset\"):\n    \"\"\"Report basic statistics without returning values.\"\"\"\n    mean = sum(data) / len(data)\n    minimum = min(data)\n    maximum = max(data)\n    \n    print(f\"Statistics for {name}:\")\n    print(f\"  Mean: {mean:.3f}\")\n    print(f\"  Range: [{minimum:.3f}, {maximum:.3f}]\")\n    # No return statement - returns None implicitly\n\n# Report some calculations\ntemperatures = [20.1, 21.5, 19.8, 22.3, 20.9]\nreport_statistics(temperatures, \"Temperature (°C)\")","key":"k66syEmFwq"},{"type":"output","id":"JldxrMxBH8FT7AI8Lntta","data":[],"key":"XPaUpRhlpF"}],"key":"dTsHj79rwC"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"Returning Multiple Values","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"zAgsTlHKDg"}],"identifier":"returning-multiple-values","label":"Returning Multiple Values","html_id":"returning-multiple-values","implicit":true,"key":"rkyvYNZbYX"},{"type":"paragraph","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"text","value":"Python functions can return multiple values using tuples—perfect for calculations that produce related results:","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"mVmm9EzUHV"}],"key":"CuXcbAYFGu"}],"key":"H4KB4d4fNI"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def analyze_data(values):\n    \"\"\"\n    Calculate multiple statistics at once.\n    \n    Returns:\n        mean, std_dev, min_val, max_val\n    \"\"\"\n    n = len(values)\n    mean = sum(values) / n\n    \n    # Calculate standard deviation\n    variance = sum((x - mean)**2 for x in values) / n\n    std_dev = variance ** 0.5\n    \n    return mean, std_dev, min(values), max(values)\n\n# Analyze experimental data\ndata = [9.8, 10.1, 9.9, 10.2, 9.7, 10.0]\nmean, std, min_val, max_val = analyze_data(data)\n\nprint(f\"Mean: {mean:.3f}\")\nprint(f\"Std Dev: {std:.3f}\")\nprint(f\"Range: [{min_val}, {max_val}]\")","key":"liiQJKPNyQ"},{"type":"output","id":"goigIXNN2-sfdbLGUELpM","data":[],"key":"hjhIIeo5G9"}],"key":"kFfsNlQet9"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"children":[{"type":"text","value":"Kinetic Energy in CGS Units","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"ye9KIdBMwl"}],"identifier":"kinetic-energy-in-cgs-units","label":"Kinetic Energy in CGS Units","html_id":"kinetic-energy-in-cgs-units","implicit":true,"key":"SMS01onzyI"},{"type":"paragraph","position":{"start":{"line":183,"column":1},"end":{"line":183,"column":1}},"children":[{"type":"text","value":"Now let’s calculate kinetic energy using CGS units (centimeters, grams, seconds):","position":{"start":{"line":183,"column":1},"end":{"line":183,"column":1}},"key":"Ow9tlRsBAD"}],"key":"OUIUjQ2DpI"}],"key":"gdJzuofQci"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def kinetic_energy_cgs(mass_g, velocity_cms):\n    \"\"\"\n    Calculate kinetic energy in ergs.\n    \n    Parameters:\n        mass_g: mass in grams\n        velocity_cms: velocity in cm/s\n    \n    Returns:\n        energy in ergs (g⋅cm²/s²)\n    \"\"\"\n    energy_ergs = 0.5 * mass_g * velocity_cms**2\n    return energy_ergs\n\n# Example: electron moving at 1% speed of light\nelectron_mass = 9.109e-28  # grams\nc_light = 2.998e10  # speed of light in cm/s\nelectron_velocity = 0.01 * c_light  # 1% of c\nke = kinetic_energy_cgs(electron_mass, electron_velocity)\n\nprint(f\"Electron kinetic energy: {ke:.2e} ergs\")\nprint(f\"In eV: {ke/1.602e-12:.2f} eV\")  # 1 eV = 1.602e-12 ergs","key":"uqyiogkVz7"},{"type":"output","id":"GQ-9U76pjWxSc4LpY522U","data":[],"key":"IoiDKmcjMj"}],"key":"ZlVHPsVJBE"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"text","value":"The Design Process: From Problem to Function","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"N6AqN0lRzb"}],"identifier":"the-design-process-from-problem-to-function","label":"The Design Process: From Problem to Function","html_id":"the-design-process-from-problem-to-function","implicit":true,"key":"nI3P5e3WsA"},{"type":"paragraph","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"children":[{"type":"text","value":"Before writing any function, design it first. This prevents the common mistake of coding yourself into a corner:","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"key":"CGNdFzOMpx"}],"key":"TXdegDm81i"}],"key":"gR4y0SG81G"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"\"\"\"\nDESIGN: Function to validate numerical calculation\n\nPURPOSE: Ensure numerical results are physically reasonable\nINPUT: value, expected_range\nOUTPUT: boolean (True if valid)\nPROCESS:\n    - Check if value is finite\n    - Check if value is within range\n\"\"\"\n\ndef validate_result(value, min_val=None, max_val=None):\n    \"\"\"\n    Validate a numerical result is reasonable.\n    \n    Simple validation - we'll expand this pattern later!\n    \"\"\"\n    import math\n    \n    # Check if finite\n    if not math.isfinite(value):\n        return False\n    \n    # Check bounds if provided\n    if min_val is not None and value < min_val:\n        return False\n    if max_val is not None and value > max_val:\n        return False\n    \n    return True\n\n# Test validation\nenergy = kinetic_energy_cgs(1.0, 100.0)\nprint(f\"Energy = {energy} ergs\")\nprint(f\"Valid (positive)? {validate_result(energy, min_val=0)}\")\nprint(f\"Valid (in range)? {validate_result(energy, 0, 10000)}\")","key":"c98kwf1ioK"},{"type":"output","id":"9iNxO3UEs7yI9sGE6h3HO","data":[],"key":"tSyGbo78bt"}],"key":"XSs1pDbJLm"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🌟 Why This Matters: Validation Saves Missions","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"fAD23q4t3f"}],"key":"bnsZypUQpM"},{"type":"paragraph","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"children":[{"type":"text","value":"Validation functions aren’t just good practice—they prevent catastrophic failures. When NASA’s Mars Climate Orbiter was lost in 1999, the root cause was a simple unit mismatch: one team used pound-seconds while another expected Newton-seconds. A validation function checking that thrust values were within expected ranges would have caught this $327 million error immediately.","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"uKOuiBmNP9"}],"key":"hLvToZsDUA"},{"type":"paragraph","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"children":[{"type":"text","value":"This is why every function you write should validate its inputs and outputs. The few extra lines of validation code can save years of work and hundreds of millions of dollars!","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"CHduzHaaTN"}],"key":"OotFeBQee6"}],"class":"important","key":"l3we7Ovt4z"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"💡 Computational Thinking: Function Contract Design","position":{"start":{"line":261,"column":1},"end":{"line":261,"column":1}},"key":"v8I9gbjd1L"}],"key":"D9ytyH1vWp"},{"type":"paragraph","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"children":[{"type":"text","value":"Every well-designed function follows a contract pattern that applies across all programming:","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"uo8kOJI8Ng"}],"key":"Z9KVuR88ET"},{"type":"code","lang":"","value":"CONTRACT PATTERN:\n1. Preconditions: What must be true before calling\n2. Postconditions: What will be true after calling  \n3. Invariants: What stays unchanged\n4. Side effects: What else happens\n\nExample for kinetic_energy_cgs():\n- Precondition: mass > 0, velocity is numeric\n- Postcondition: returns positive energy value\n- Invariant: input values unchanged\n- Side effects: none (pure function)\n\nThis pattern appears in:\n- Database transactions (ACID properties)\n- API design (REST contracts)\n- Parallel computing (thread safety)\n- Unit testing (test contracts)","position":{"start":{"line":266,"column":1},"end":{"line":284,"column":1}},"key":"WqYpnAfMDO"}],"class":"tip","key":"MCrukA9hGN"},{"type":"heading","depth":2,"position":{"start":{"line":287,"column":1},"end":{"line":287,"column":1}},"children":[{"type":"text","value":"5.2 Function Arguments In-Depth","position":{"start":{"line":287,"column":1},"end":{"line":287,"column":1}},"key":"oCxe7B3Cgu"}],"identifier":"id-5-2-function-arguments-in-depth","label":"5.2 Function Arguments In-Depth","html_id":"id-5-2-function-arguments-in-depth","implicit":true,"key":"hLnleWuwL6"},{"type":"paragraph","position":{"start":{"line":289,"column":1},"end":{"line":290,"column":1}},"children":[{"type":"text","value":"{margin} Parameter\nA variable in a function definition that receives a value when the function is called.","position":{"start":{"line":289,"column":1},"end":{"line":289,"column":1}},"key":"Oto7H4k18O"}],"key":"KgFbeCerRh"},{"type":"paragraph","position":{"start":{"line":292,"column":1},"end":{"line":293,"column":1}},"children":[{"type":"text","value":"{margin} Argument\nThe actual value passed to a function when calling it.","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"cCBdAvkMSc"}],"key":"vmvte4nJtu"},{"type":"paragraph","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"text","value":"Python provides flexible ways to handle function parameters. Understanding the distinction between positional arguments, keyword arguments, and default values is crucial for designing clear, flexible interfaces. Let’s explore this flexibility through progressive examples.","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"bmOW13kpnf"}],"key":"N0xDKcO6I5"},{"type":"heading","depth":3,"position":{"start":{"line":297,"column":1},"end":{"line":297,"column":1}},"children":[{"type":"text","value":"Positional vs Keyword Arguments","position":{"start":{"line":297,"column":1},"end":{"line":297,"column":1}},"key":"r2ig4aiqP4"}],"identifier":"positional-vs-keyword-arguments","label":"Positional vs Keyword Arguments","html_id":"positional-vs-keyword-arguments","implicit":true,"key":"nU4Ciq3S5j"}],"key":"kj8d1BnmUJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def calculate_force(mass_g, acceleration_cms2):\n    \"\"\"\n    Calculate force using Newton's second law in CGS units.\n    \n    Parameters:\n        mass_g: mass in grams\n        acceleration_cms2: acceleration in cm/s²\n    \n    Returns:\n        force in dynes (g⋅cm/s²)\n    \"\"\"\n    force_dynes = mass_g * acceleration_cms2\n    return force_dynes\n\n# Different ways to call the same function\nf1 = calculate_force(10, 980)                        # Positional only (Earth's gravity)\nf2 = calculate_force(mass_g=10, acceleration_cms2=980)  # Keywords (clear!)\nf3 = calculate_force(acceleration_cms2=980, mass_g=10)  # Keywords (any order!)\n\nprint(f\"Positional: {f1:.1f} dynes\")\nprint(f\"Keywords: {f2:.1f} dynes\")  \nprint(f\"Reversed keywords: {f3:.1f} dynes\")\n\n# This would be wrong (arguments reversed):\n# f_wrong = calculate_force(980, 10)  # Would give 9800 instead of 98000","key":"ZlFVGmrg1f"},{"type":"output","id":"zDokRXhaClsB1N6LGI5bo","data":[],"key":"BzCZpCwNga"}],"key":"iBT2yZRxD5"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"children":[{"type":"text","value":"Default Arguments Make Functions Flexible","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"u1Ux2Lhj3k"}],"identifier":"default-arguments-make-functions-flexible","label":"Default Arguments Make Functions Flexible","html_id":"default-arguments-make-functions-flexible","implicit":true,"key":"T6AIGcMaT9"},{"type":"paragraph","position":{"start":{"line":329,"column":1},"end":{"line":329,"column":1}},"children":[{"type":"text","value":"Default arguments let users omit parameters when standard values suffice:","position":{"start":{"line":329,"column":1},"end":{"line":329,"column":1}},"key":"OYkZWc0HSg"}],"key":"Iz1Y6m1rN6"}],"key":"cBMpxX2iuH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def simulate_decay(initial_atoms, half_life_years=5730, time_years=0):\n    \"\"\"\n    Simulate radioactive decay.\n    \n    Parameters:\n        initial_atoms: starting number of atoms\n        half_life_years: half-life in years (default: C-14 = 5730)\n        time_years: elapsed time in years (default: 0)\n    \"\"\"\n    import math\n    remaining = initial_atoms * (0.5 ** (time_years / half_life_years))\n    return remaining\n\n# Different usage patterns\nn0 = 1000000  # One million atoms\n\n# Use all defaults (returns initial count)\nprint(f\"At t=0: {simulate_decay(n0):.0f} atoms\")\n\n# Override just time (uses default half-life for C-14)\nprint(f\"After 5730 years: {simulate_decay(n0, time_years=5730):.0f} atoms\")\n\n# Override all parameters (U-238 example)\nprint(f\"U-238 after 1 billion years: {simulate_decay(n0, 4.5e9, 1e9):.0f} atoms\")","key":"idBbJWx8vk"},{"type":"output","id":"a0HRUdZfPDPnjFzXBkw05","data":[],"key":"sKuF5XPbZq"}],"key":"WxcIV1HGDz"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"📚 When to Use Different Argument Types","position":{"start":{"line":358,"column":1},"end":{"line":358,"column":1}},"key":"jhgNyGzO0x"}],"key":"zOmSayrP7G"},{"type":"paragraph","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"children":[{"type":"strong","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"children":[{"type":"text","value":"Use Positional Arguments When:","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"key":"S2akUo4yQ2"}],"key":"bxdX9W3OEg"}],"key":"gy9l5SWhwu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":362,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":362,"column":1},"end":{"line":362,"column":1}},"children":[{"type":"text","value":"The meaning is obvious from context (","position":{"start":{"line":362,"column":1},"end":{"line":362,"column":1}},"key":"RryWf7eZjI"},{"type":"inlineCode","value":"power(base, exponent)","position":{"start":{"line":362,"column":1},"end":{"line":362,"column":1}},"key":"f0VvGDhQeR"},{"type":"text","value":")","position":{"start":{"line":362,"column":1},"end":{"line":362,"column":1}},"key":"MOaSLKwU6r"}],"key":"f4fBvXdzO4"},{"type":"listItem","spread":true,"position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"children":[{"type":"text","value":"There are only 1-2 required parameters","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"y55DUxIgbq"}],"key":"yY4hLhoWRh"},{"type":"listItem","spread":true,"position":{"start":{"line":364,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"text","value":"The order is natural and memorable","position":{"start":{"line":364,"column":1},"end":{"line":364,"column":1}},"key":"iDHmxtlskX"}],"key":"ri2ZAbHH9c"}],"key":"u0pTGXBwLi"},{"type":"paragraph","position":{"start":{"line":366,"column":1},"end":{"line":366,"column":1}},"children":[{"type":"strong","position":{"start":{"line":366,"column":1},"end":{"line":366,"column":1}},"children":[{"type":"text","value":"Use Keyword Arguments When:","position":{"start":{"line":366,"column":1},"end":{"line":366,"column":1}},"key":"GjdUTIZ8IO"}],"key":"MOEx6x1de9"}],"key":"LsGBbla2Pu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":367,"column":1},"end":{"line":370,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":367,"column":1},"end":{"line":367,"column":1}},"children":[{"type":"text","value":"There are many parameters (>3)","position":{"start":{"line":367,"column":1},"end":{"line":367,"column":1}},"key":"t4QlmkMcHU"}],"key":"rWKrsSNjWG"},{"type":"listItem","spread":true,"position":{"start":{"line":368,"column":1},"end":{"line":368,"column":1}},"children":[{"type":"text","value":"Parameters are optional","position":{"start":{"line":368,"column":1},"end":{"line":368,"column":1}},"key":"y9ZvkStMOQ"}],"key":"GCmllONUsy"},{"type":"listItem","spread":true,"position":{"start":{"line":369,"column":1},"end":{"line":370,"column":1}},"children":[{"type":"text","value":"The meaning isn’t obvious (","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"key":"BQTjIRapxa"},{"type":"inlineCode","value":"process(True, False, 5)","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"key":"PoQum7MasQ"},{"type":"text","value":" vs ","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"key":"zqlESjJyJW"},{"type":"inlineCode","value":"process(verbose=True, cache=False, retries=5)","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"key":"XJZQvpxoCv"},{"type":"text","value":")","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"key":"tQMWLaGrrp"}],"key":"SZwPekEukK"}],"key":"zocGhcCPp9"},{"type":"paragraph","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"children":[{"type":"strong","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"children":[{"type":"text","value":"Use Default Arguments When:","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"Yufs3TRZ6U"}],"key":"A5fy8uIOZ6"}],"key":"sXZKtAIgsE"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":372,"column":1},"end":{"line":375,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":372,"column":1},"end":{"line":372,"column":1}},"children":[{"type":"text","value":"There’s a sensible standard value","position":{"start":{"line":372,"column":1},"end":{"line":372,"column":1}},"key":"qk2IZZgjeq"}],"key":"dOJnqMxQIK"},{"type":"listItem","spread":true,"position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"children":[{"type":"text","value":"Most calls use the same value","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"key":"z4qoXdkV1N"}],"key":"KAjuylAer7"},{"type":"listItem","spread":true,"position":{"start":{"line":374,"column":1},"end":{"line":375,"column":1}},"children":[{"type":"text","value":"You want backward compatibility when adding features","position":{"start":{"line":374,"column":1},"end":{"line":374,"column":1}},"key":"xD94X9QrEF"}],"key":"ducJDDW8ks"}],"key":"S5hjb7K8jj"},{"type":"paragraph","position":{"start":{"line":376,"column":1},"end":{"line":376,"column":1}},"children":[{"type":"strong","position":{"start":{"line":376,"column":1},"end":{"line":376,"column":1}},"children":[{"type":"text","value":"Best Practice Progression:","position":{"start":{"line":376,"column":1},"end":{"line":376,"column":1}},"key":"tn1LE5rG97"}],"key":"j8F6NyUNYy"}],"key":"UcqraGT9OD"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":377,"column":1},"end":{"line":379,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"children":[{"type":"text","value":"Start with required positional arguments","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"QpB3TkwKHl"}],"key":"zgYOxbgY5Z"},{"type":"listItem","spread":true,"position":{"start":{"line":378,"column":1},"end":{"line":378,"column":1}},"children":[{"type":"text","value":"Add defaults for optional behaviors","position":{"start":{"line":378,"column":1},"end":{"line":378,"column":1}},"key":"ebcvzuglZG"}],"key":"an0mJwVxQB"},{"type":"listItem","spread":true,"position":{"start":{"line":379,"column":1},"end":{"line":379,"column":1}},"children":[{"type":"text","value":"Use keyword-only arguments for clarity (see Advanced section)","position":{"start":{"line":379,"column":1},"end":{"line":379,"column":1}},"key":"VO6kwSZHJC"}],"key":"fUpAKnLArn"}],"key":"h0dxC6Lbql"}],"class":"note","key":"iXYKUpuxBx"},{"type":"heading","depth":3,"position":{"start":{"line":382,"column":1},"end":{"line":382,"column":1}},"children":[{"type":"text","value":"The Mutable Default Trap","position":{"start":{"line":382,"column":1},"end":{"line":382,"column":1}},"key":"dIVmps3oGR"}],"identifier":"the-mutable-default-trap","label":"The Mutable Default Trap","html_id":"the-mutable-default-trap","implicit":true,"key":"DR5tO3aLFx"},{"type":"paragraph","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"children":[{"type":"text","value":"Here’s a critical bug that has appeared in major scientific software:","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"hZkqMbf8qh"}],"key":"bTJ6M5WWEQ"}],"key":"cDjQ2BVJXH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# THE TRAP - DON'T DO THIS!\ndef add_measurement_buggy(value, data=[]):\n    \"\"\"BUGGY VERSION - default list is shared!\"\"\"\n    data.append(value)\n    return data\n\n# Watch the disaster unfold\nday1 = add_measurement_buggy(23.5)\nprint(f\"Day 1: {day1}\")\n\nday2 = add_measurement_buggy(24.1)  # Surprise!\nprint(f\"Day 2: {day2}\")  # Contains BOTH days!\n\nprint(f\"Same list? {day1 is day2}\")  # True - it's the same object!","key":"Pe34IaROsx"},{"type":"output","id":"GubkwohgB4MGJ9VzQwhV-","data":[],"key":"D1Cgc5iltd"}],"key":"NUbvIIQ1vN"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"⚠️ Common Bug Alert: The Mutable Default Disaster","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"BPEzuNKmJN"}],"key":"NKPSUnVSj5"},{"type":"paragraph","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"text","value":"This bug has appeared in:","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"LIQuSZNvS5"}],"key":"A1LK9eUFIr"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":407,"column":1},"end":{"line":410,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":407,"column":1},"end":{"line":407,"column":1}},"children":[{"type":"text","value":"CERN analysis scripts (accumulated all runs’ data)","position":{"start":{"line":407,"column":1},"end":{"line":407,"column":1}},"key":"fXQ7m7c7om"}],"key":"HhWJrKjy4x"},{"type":"listItem","spread":true,"position":{"start":{"line":408,"column":1},"end":{"line":408,"column":1}},"children":[{"type":"text","value":"NASA trajectory calculations (mixed mission parameters)","position":{"start":{"line":408,"column":1},"end":{"line":408,"column":1}},"key":"jnWGQwg2EB"}],"key":"JtSdhHMvQj"},{"type":"listItem","spread":true,"position":{"start":{"line":409,"column":1},"end":{"line":410,"column":1}},"children":[{"type":"text","value":"Weather prediction models (combined different forecasts)","position":{"start":{"line":409,"column":1},"end":{"line":409,"column":1}},"key":"DKETdZyXrH"}],"key":"TnaF3Q2CbH"}],"key":"Hgc8llL4It"},{"type":"paragraph","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"The symptom: data from previous runs mysteriously appears in new analyses.","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"RG0blOnMrz"}],"key":"iVJ3Rh68ch"},{"type":"paragraph","position":{"start":{"line":413,"column":1},"end":{"line":413,"column":1}},"children":[{"type":"text","value":"The cause: Python evaluates default arguments ","position":{"start":{"line":413,"column":1},"end":{"line":413,"column":1}},"key":"gjlWpUzZzT"},{"type":"strong","position":{"start":{"line":413,"column":1},"end":{"line":413,"column":1}},"children":[{"type":"text","value":"once","position":{"start":{"line":413,"column":1},"end":{"line":413,"column":1}},"key":"nh1wzCCVI3"}],"key":"yNXYQ9gwxx"},{"type":"text","value":" when the function is defined, not each time it’s called.","position":{"start":{"line":413,"column":1},"end":{"line":413,"column":1}},"key":"HpXUvDeD3X"}],"key":"L4Xdvg4ysy"},{"type":"paragraph","position":{"start":{"line":415,"column":1},"end":{"line":415,"column":1}},"children":[{"type":"text","value":"The fix: always use ","position":{"start":{"line":415,"column":1},"end":{"line":415,"column":1}},"key":"ANwlvm0DuX"},{"type":"inlineCode","value":"None","position":{"start":{"line":415,"column":1},"end":{"line":415,"column":1}},"key":"urRNEK0Ed9"},{"type":"text","value":" as default for mutable arguments.","position":{"start":{"line":415,"column":1},"end":{"line":415,"column":1}},"key":"y8PWaqOc6h"}],"key":"Xd27QPWfjz"}],"class":"warning","key":"Itf4LEotwa"},{"type":"paragraph","position":{"start":{"line":418,"column":1},"end":{"line":419,"column":1}},"children":[{"type":"text","value":"{margin} Sentinel Value\nA special value (like None) used to signal a particular condition, often used as a default for mutable arguments.","position":{"start":{"line":418,"column":1},"end":{"line":418,"column":1}},"key":"lGRTvr4nUF"}],"key":"VfohTgdIaH"},{"type":"paragraph","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"text","value":"Here’s the correct pattern:","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"rVBSXrIXmW"}],"key":"uM3RlT0iqT"}],"key":"nmYyp7ScFw"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def add_measurement_fixed(value, data=None):\n    \"\"\"CORRECT VERSION - new list each time if needed.\"\"\"\n    if data is None:\n        data = []  # Create new list when not provided\n    data.append(value)\n    return data\n\n# Now it works correctly\nday1 = add_measurement_fixed(23.5)\nday2 = add_measurement_fixed(24.1)\nprint(f\"Day 1: {day1}\")\nprint(f\"Day 2: {day2}\")  # Separate lists!\n\n# Can still provide existing list\ncombined = []\nadd_measurement_fixed(23.5, combined)\nadd_measurement_fixed(24.1, combined)\nprint(f\"Combined: {combined}\")","key":"OEbXSMR3nB"},{"type":"output","id":"i9SOGwc3TNw5jroNmXG2e","data":[],"key":"nvRdpUvwPO"}],"key":"KclvFehDeb"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":444,"column":1},"end":{"line":444,"column":1}},"children":[{"type":"text","value":"Variable Arguments (*args and **kwargs)","position":{"start":{"line":444,"column":1},"end":{"line":444,"column":1}},"key":"BgvMrpyk29"}],"identifier":"variable-arguments-args-and-kwargs","label":"Variable Arguments (*args and **kwargs)","html_id":"variable-arguments-args-and-kwargs","implicit":true,"key":"xXEkwFj3Nf"},{"type":"paragraph","position":{"start":{"line":446,"column":1},"end":{"line":447,"column":1}},"children":[{"type":"text","value":"{margin} *args\nCollects extra positional arguments into a tuple.","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"Gs33pOFbHc"}],"key":"cJznHkYwO2"},{"type":"paragraph","position":{"start":{"line":449,"column":1},"end":{"line":450,"column":1}},"children":[{"type":"text","value":"{margin} **kwargs\nCollects extra keyword arguments into a dictionary.","position":{"start":{"line":449,"column":1},"end":{"line":449,"column":1}},"key":"pjKDkrb86D"}],"key":"Sn2iSM71YU"}],"key":"aRovGQz9aM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def calculate_statistics(*values, method='all'):\n    \"\"\"\n    Calculate statistics for any number of values.\n    \n    *args collects positional arguments into a tuple.\n    \"\"\"\n    if not values:\n        return None\n    \n    n = len(values)\n    mean = sum(values) / n\n    \n    if method == 'mean':\n        return mean\n    \n    # Calculate variance and std dev\n    variance = sum((x - mean)**2 for x in values) / n\n    std_dev = variance ** 0.5\n    \n    if method == 'all':\n        return {\n            'n': n,\n            'mean': mean,\n            'std': std_dev,\n            'min': min(values),\n            'max': max(values)\n        }\n\n# Works with any number of arguments!\nprint(calculate_statistics(1, 2, 3, 4, 5))\nprint(f\"Mean only: {calculate_statistics(2.5, 3.7, 1.2, method='mean'):.2f}\")","key":"J2RilS4hpX"},{"type":"output","id":"xeB-Xzkpk0ViKTinJZGAW","data":[],"key":"cbYxvqSDPe"}],"key":"YAvMNDfLP0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def run_experiment(name, **parameters):\n    \"\"\"\n    Run experiment with flexible parameters.\n    \n    **kwargs collects keyword arguments into a dictionary.\n    \"\"\"\n    print(f\"=== Experiment: {name} ===\")\n    \n    # Default parameters\n    defaults = {\n        'temperature': 293.15,  # Kelvin\n        'pressure': 101325,     # Pascals\n        'trials': 10\n    }\n    \n    # Update with user parameters\n    config = defaults.copy()\n    config.update(parameters)\n    \n    print(\"Configuration:\")\n    for key, value in config.items():\n        print(f\"  {key}: {value}\")\n    \n    return f\"Completed {config['trials']} trials\"\n\n# Simple call\nresult = run_experiment(\"Test A\")\n\n# Complex call with many options\nresult = run_experiment(\n    \"Test B\",\n    temperature=350,\n    pressure=200000,\n    trials=50,\n    catalyst=\"Platinum\"\n)","key":"lIkWVD7HWt"},{"type":"output","id":"pFPr5sCAjl0ZH37CSxi9I","data":[],"key":"mW0tCRVLPc"}],"key":"su1AYdqyh4"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🔍 Check Your Understanding #2","position":{"start":{"line":525,"column":1},"end":{"line":525,"column":1}},"key":"hINOivYcjS"}],"key":"NCcdfLNcxP"},{"type":"paragraph","position":{"start":{"line":528,"column":1},"end":{"line":528,"column":1}},"children":[{"type":"text","value":"What’s wrong with this function definition, and how would you fix it?","position":{"start":{"line":528,"column":1},"end":{"line":528,"column":1}},"key":"jTs4kdeczB"}],"key":"WKiyR7PLFg"},{"type":"code","lang":"python","value":"def process_data(values, scale=1.0, *extra, normalize=True):\n    # Process data with options\n    pass","position":{"start":{"line":530,"column":1},"end":{"line":534,"column":1}},"key":"J95VeYEljF"},{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Answer","key":"KPESWS8Z7Y"}],"key":"nIB8sRV2Kz"},{"type":"paragraph","children":[{"type":"text","value":"The parameter order is wrong! Python requires this order:","key":"qf1UxDpGhL"}],"key":"mTQBi2G47y"},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Regular positional parameters","key":"whCpJmEkI5"}],"key":"wuu0sSICFc"}],"key":"zs9BuJO85R"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"*args (if any)","key":"GcZdAaURsr"}],"key":"ozYgfKKLe6"}],"key":"oue0F7OUl0"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Keyword parameters with defaults","key":"t5BM5nqOw0"}],"key":"IigwVwjmag"}],"key":"QGS8RzlY5O"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"**kwargs (if any)","key":"ebpz0RvaNn"}],"key":"YEDH6ZE4hR"}],"key":"cXaH1wHjWQ"}],"key":"AStPJN9t2G"},{"type":"paragraph","children":[{"type":"text","value":"Correct version:","key":"ZFsfb43hyL"}],"key":"fzGjHGmUSA"},{"type":"code","lang":"python","meta":null,"value":"def process_data(values, *extra, scale=1.0, normalize=True):\n    # Now the order is correct\n    pass","key":"YyCskRsjdb"},{"type":"paragraph","children":[{"type":"text","value":"The original would give a SyntaxError because *extra can’t come after a keyword parameter with a default.","key":"ZtjmeGznSj"}],"key":"ykkPrF3TeP"}],"key":"bM3SrW1uqS"}],"class":"question","key":"tKOtvbV4YL"},{"type":"heading","depth":2,"position":{"start":{"line":556,"column":1},"end":{"line":556,"column":1}},"children":[{"type":"text","value":"5.3 Scope and Namespaces","position":{"start":{"line":556,"column":1},"end":{"line":556,"column":1}},"key":"ZMgjkJeSwc"}],"identifier":"id-5-3-scope-and-namespaces","label":"5.3 Scope and Namespaces","html_id":"id-5-3-scope-and-namespaces","implicit":true,"key":"MVD21x9Rgy"},{"type":"paragraph","position":{"start":{"line":558,"column":1},"end":{"line":559,"column":1}},"children":[{"type":"text","value":"{margin} Scope\nThe region of a program where a variable is accessible.","position":{"start":{"line":558,"column":1},"end":{"line":558,"column":1}},"key":"iMHQGuRb99"}],"key":"ozJI3W1e7l"},{"type":"paragraph","position":{"start":{"line":561,"column":1},"end":{"line":562,"column":1}},"children":[{"type":"text","value":"{margin} Namespace","position":{"start":{"line":561,"column":1},"end":{"line":561,"column":1}},"key":"kAZRYmqBOD"},{"type":"break","position":{"start":{"line":561,"column":1},"end":{"line":561,"column":1}},"key":"iuXW8HEXmv"},{"type":"text","value":"A container that holds a set of identifiers and their associated objects.","position":{"start":{"line":561,"column":1},"end":{"line":561,"column":1}},"key":"GyL8vxSCA6"}],"key":"Kb3e2rztGm"},{"type":"paragraph","position":{"start":{"line":564,"column":1},"end":{"line":564,"column":1}},"children":[{"type":"text","value":"Understanding scope—where variables can be accessed—is crucial for writing bug-free code. Python’s scope rules determine which variables are visible at any point in your program. Without understanding scope, you’ll encounter confusing bugs where variables don’t have the values you expect, or worse, where changing a variable in one place mysteriously affects code elsewhere.","position":{"start":{"line":564,"column":1},"end":{"line":564,"column":1}},"key":"CsvMI0DbYp"}],"key":"AZ6qgfOW2C"},{"type":"heading","depth":3,"position":{"start":{"line":566,"column":1},"end":{"line":566,"column":1}},"children":[{"type":"text","value":"The LEGB Rule","position":{"start":{"line":566,"column":1},"end":{"line":566,"column":1}},"key":"aA9KaRniJO"}],"identifier":"the-legb-rule","label":"The LEGB Rule","html_id":"the-legb-rule","implicit":true,"key":"DJFtkkZPNE"},{"type":"paragraph","position":{"start":{"line":568,"column":1},"end":{"line":569,"column":1}},"children":[{"type":"text","value":"{margin} LEGB\nLocal, Enclosing, Global, Built-in - Python’s scope resolution order.","position":{"start":{"line":568,"column":1},"end":{"line":568,"column":1}},"key":"GTLLgWzZ42"}],"key":"a1DEN1MTmt"},{"type":"paragraph","position":{"start":{"line":571,"column":1},"end":{"line":571,"column":1}},"children":[{"type":"text","value":"Python resolves variable names using the LEGB rule, searching in this order:","position":{"start":{"line":571,"column":1},"end":{"line":571,"column":1}},"key":"xFpJm5aONr"}],"key":"Bk7roZphog"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":572,"column":1},"end":{"line":576,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":572,"column":1},"end":{"line":572,"column":1}},"children":[{"type":"strong","position":{"start":{"line":572,"column":1},"end":{"line":572,"column":1}},"children":[{"type":"text","value":"L","position":{"start":{"line":572,"column":1},"end":{"line":572,"column":1}},"key":"IuTm52SWgE"}],"key":"sGkBk3cmcc"},{"type":"text","value":"ocal: Inside the current function","position":{"start":{"line":572,"column":1},"end":{"line":572,"column":1}},"key":"hUIXoiEvgz"}],"key":"tCZNCWteQI"},{"type":"listItem","spread":true,"position":{"start":{"line":573,"column":1},"end":{"line":573,"column":1}},"children":[{"type":"strong","position":{"start":{"line":573,"column":1},"end":{"line":573,"column":1}},"children":[{"type":"text","value":"E","position":{"start":{"line":573,"column":1},"end":{"line":573,"column":1}},"key":"tnweDMPH1H"}],"key":"g7UcMDcyHM"},{"type":"text","value":"nclosing: In the enclosing function (for nested functions)","position":{"start":{"line":573,"column":1},"end":{"line":573,"column":1}},"key":"f9i4FvVrjT"}],"key":"iCRgoRDNYd"},{"type":"listItem","spread":true,"position":{"start":{"line":574,"column":1},"end":{"line":574,"column":1}},"children":[{"type":"strong","position":{"start":{"line":574,"column":1},"end":{"line":574,"column":1}},"children":[{"type":"text","value":"G","position":{"start":{"line":574,"column":1},"end":{"line":574,"column":1}},"key":"HZBAUxeNe0"}],"key":"zHSr3kabP5"},{"type":"text","value":"lobal: At the top level of the module","position":{"start":{"line":574,"column":1},"end":{"line":574,"column":1}},"key":"LJ4HWNb857"}],"key":"yaoZj88LN7"},{"type":"listItem","spread":true,"position":{"start":{"line":575,"column":1},"end":{"line":576,"column":1}},"children":[{"type":"strong","position":{"start":{"line":575,"column":1},"end":{"line":575,"column":1}},"children":[{"type":"text","value":"B","position":{"start":{"line":575,"column":1},"end":{"line":575,"column":1}},"key":"C2h9EQ4Odb"}],"key":"oJqYecLiyw"},{"type":"text","value":"uilt-in: In the built-in namespace (print, len, etc.)","position":{"start":{"line":575,"column":1},"end":{"line":575,"column":1}},"key":"QHpAS071S9"}],"key":"Vahan8rFBi"}],"key":"M47pQEtKg0"}],"key":"UIpMEetNWB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Demonstrating LEGB with scientific context\nspeed_of_light = 2.998e10  # Global scope (cm/s in CGS)\n\ndef calculate_energy():\n    # Enclosing scope\n    rest_mass = 9.109e-28  # electron mass in grams\n    \n    def relativistic_factor(velocity_cms):\n        # Local scope\n        c = speed_of_light  # Accesses global (cm/s)\n        beta = velocity_cms / c\n        \n        # Local calculation\n        import math\n        if beta >= 1:\n            return float('inf')  # Cannot exceed speed of light\n        gamma = 1 / math.sqrt(1 - beta**2)\n        \n        print(f\"  Inside relativistic: β = {beta:.3f}, γ = {gamma:.3f}\")\n        return gamma\n    \n    # Use inner function\n    v = 0.5 * speed_of_light  # Half light speed (cm/s)\n    gamma = relativistic_factor(v)\n    \n    # Calculate relativistic energy (E = γmc²)\n    energy_ergs = rest_mass * speed_of_light**2 * gamma\n    print(f\"Inside calculate: E = {energy_ergs:.2e} ergs\")\n    return energy_ergs\n\nresult = calculate_energy()\nprint(f\"Global scope: c = {speed_of_light:.2e} cm/s\")\nprint(f\"Final energy: {result:.2e} ergs = {result/1.602e-12:.2f} eV\")","key":"sUdcv3iJE4"},{"type":"output","id":"dy7k8-EnW5onDAsdj52nr","data":[],"key":"PBLYK36KOV"}],"key":"zMVCkjR5Uc"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"children":[{"type":"text","value":"The UnboundLocalError Trap","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"pRz8oftUW4"}],"identifier":"the-unboundlocalerror-trap","label":"The UnboundLocalError Trap","html_id":"the-unboundlocalerror-trap","implicit":true,"key":"DSkuoGZwWl"}],"key":"wQrKxHenv6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"counter = 0  # Global\n\ndef increment_wrong():\n    \"\"\"This will crash - Python sees assignment and assumes local!\"\"\"\n    # counter += 1  # UnboundLocalError!\n    print(\"Uncomment the line above to see the error\")\n\ndef increment_with_global():\n    \"\"\"Explicitly use global variable.\"\"\"\n    global counter\n    counter += 1\n    return counter\n\ndef increment_better(current_count):\n    \"\"\"Best approach - avoid global state entirely.\"\"\"\n    return current_count + 1\n\n# Test the better approach\ncount = 0\ncount = increment_better(count)\ncount = increment_better(count)\nprint(f\"Count: {count}\")\n\n# Global approach (generally avoid)\nincrement_with_global()\nincrement_with_global()\nprint(f\"Global counter: {counter}\")","key":"n7LB5V6rD4"},{"type":"output","id":"oTYZdPlxXaXq_WluUSjnG","data":[],"key":"n9acKjVQD2"}],"key":"IhAs8vK1yk"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"⚠️ Common Bug Alert: UnboundLocalError","position":{"start":{"line":645,"column":1},"end":{"line":645,"column":1}},"key":"bdKNkKa2nw"}],"key":"aPCC9vf15E"},{"type":"paragraph","position":{"start":{"line":648,"column":1},"end":{"line":648,"column":1}},"children":[{"type":"text","value":"The error happens because Python sees you’re assigning to ","position":{"start":{"line":648,"column":1},"end":{"line":648,"column":1}},"key":"XXWc7EM1PZ"},{"type":"inlineCode","value":"counter","position":{"start":{"line":648,"column":1},"end":{"line":648,"column":1}},"key":"XXHxTigg4O"},{"type":"text","value":", assumes it’s local, but then can’t find a local value to increment.","position":{"start":{"line":648,"column":1},"end":{"line":648,"column":1}},"key":"MJ4pmTcwTr"}],"key":"zoFXWit1Kj"},{"type":"paragraph","position":{"start":{"line":650,"column":1},"end":{"line":650,"column":1}},"children":[{"type":"text","value":"Symptoms:","position":{"start":{"line":650,"column":1},"end":{"line":650,"column":1}},"key":"bGI4w8toAC"}],"key":"gh2oSsORny"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":651,"column":1},"end":{"line":654,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":651,"column":1},"end":{"line":651,"column":1}},"children":[{"type":"text","value":"Variable works fine when reading","position":{"start":{"line":651,"column":1},"end":{"line":651,"column":1}},"key":"QjTAzjIIsK"}],"key":"ktDVV7rsBc"},{"type":"listItem","spread":true,"position":{"start":{"line":652,"column":1},"end":{"line":652,"column":1}},"children":[{"type":"text","value":"Crashes when trying to modify","position":{"start":{"line":652,"column":1},"end":{"line":652,"column":1}},"key":"t7yiSDoJFv"}],"key":"YlkjzDvZ32"},{"type":"listItem","spread":true,"position":{"start":{"line":653,"column":1},"end":{"line":654,"column":1}},"children":[{"type":"text","value":"Error message mentions “referenced before assignment”","position":{"start":{"line":653,"column":1},"end":{"line":653,"column":1}},"key":"hEHVdz71Ev"}],"key":"oWKurITFDg"}],"key":"yuiZ6P6UkA"},{"type":"paragraph","position":{"start":{"line":655,"column":1},"end":{"line":655,"column":1}},"children":[{"type":"text","value":"Fix: Either use ","position":{"start":{"line":655,"column":1},"end":{"line":655,"column":1}},"key":"mH6U6M63RE"},{"type":"inlineCode","value":"global","position":{"start":{"line":655,"column":1},"end":{"line":655,"column":1}},"key":"gSvuErkMfJ"},{"type":"text","value":" keyword or (better) pass the value explicitly.","position":{"start":{"line":655,"column":1},"end":{"line":655,"column":1}},"key":"IYi9jmiMsC"}],"key":"yXSz1OloKY"},{"type":"paragraph","position":{"start":{"line":657,"column":1},"end":{"line":657,"column":1}},"children":[{"type":"text","value":"Real disaster: A climate model that tried to update global temperature but created local variables instead, producing nonsense results for months before discovery.","position":{"start":{"line":657,"column":1},"end":{"line":657,"column":1}},"key":"MRMYbdhhr6"}],"key":"DeULVjJmzf"}],"class":"warning","key":"fdWcMnce5m"},{"type":"heading","depth":3,"position":{"start":{"line":660,"column":1},"end":{"line":660,"column":1}},"children":[{"type":"text","value":"Closures: Functions That Remember","position":{"start":{"line":660,"column":1},"end":{"line":660,"column":1}},"key":"ZunHLLeW5m"}],"identifier":"closures-functions-that-remember","label":"Closures: Functions That Remember","html_id":"closures-functions-that-remember","implicit":true,"key":"JYyKuR8bui"},{"type":"paragraph","position":{"start":{"line":662,"column":1},"end":{"line":663,"column":1}},"children":[{"type":"text","value":"{margin} Closure\nA function that remembers variables from its enclosing scope even after that scope has finished.","position":{"start":{"line":662,"column":1},"end":{"line":662,"column":1}},"key":"XAKh4O5UCa"}],"key":"QD51vLiv0L"}],"key":"lvrhwlL3AS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def create_integrator(method='rectangle'):\n    \"\"\"\n    Factory function that creates specialized integrators.\n    \n    The returned function 'remembers' the method.\n    \"\"\"\n    def integrate(func, a, b, n=100):\n        \"\"\"Numerically integrate func from a to b.\"\"\"\n        dx = (b - a) / n\n        total = 0\n        \n        if method == 'rectangle':\n            # Left rectangle rule\n            for i in range(n):\n                x = a + i * dx\n                total += func(x) * dx\n                \n        elif method == 'midpoint':\n            # Midpoint rule (more accurate)\n            for i in range(n):\n                x = a + (i + 0.5) * dx\n                total += func(x) * dx\n        \n        return total\n    \n    # Return the customized function\n    return integrate\n\n# Create specialized integrators\nrect_integrate = create_integrator('rectangle')\nmid_integrate = create_integrator('midpoint')\n\n# Test with x² from 0 to 1 (exact answer = 1/3)\ndef f(x):\n    return x**2\n\nrect_result = rect_integrate(f, 0, 1, 100)\nmid_result = mid_integrate(f, 0, 1, 100)\nexact = 1/3\n\nprint(f\"Rectangle rule: {rect_result:.6f}\")\nprint(f\"Midpoint rule:  {mid_result:.6f}\")\nprint(f\"Exact:          {exact:.6f}\")\nprint(f\"Rectangle error: {abs(rect_result-exact):.6f}\")\nprint(f\"Midpoint error:  {abs(mid_result-exact):.6f}\")","key":"R6sKbc7hIT"},{"type":"output","id":"0CiqaqTNmw65J-_bf-rWA","data":[],"key":"pVq1CbH1iW"}],"key":"h7miypE274"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🔍 Check Your Understanding #3","position":{"start":{"line":713,"column":1},"end":{"line":713,"column":1}},"key":"EW2Xu9rVqO"}],"key":"CdUUrXHSq6"},{"type":"paragraph","position":{"start":{"line":716,"column":1},"end":{"line":716,"column":1}},"children":[{"type":"text","value":"What happens if both inner and outer functions define the same variable name?","position":{"start":{"line":716,"column":1},"end":{"line":716,"column":1}},"key":"OClQTlLgrd"}],"key":"Q7DWn6Pd4i"},{"type":"code","lang":"python","value":"def outer():\n    x = \"outer\"\n    \n    def inner():\n        x = \"inner\"\n        print(f\"Inner sees: {x}\")\n    \n    inner()\n    print(f\"Outer sees: {x}\")\n\nouter()","position":{"start":{"line":718,"column":1},"end":{"line":730,"column":1}},"key":"bUfJyAkoYm"},{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Answer","key":"jlEOFQYpwA"}],"key":"SYvw4pRJ7F"},{"type":"paragraph","children":[{"type":"text","value":"Each function sees its own local variable. The inner function’s ","key":"qlD5IM2ipc"},{"type":"inlineCode","value":"x","key":"WvG0ZSG79U"},{"type":"text","value":" doesn’t affect the outer function’s ","key":"ucIrNqm0uK"},{"type":"inlineCode","value":"x","key":"UcrNU3wsQ3"},{"type":"text","value":". They’re in different namespaces!","key":"tynBGXjXI0"}],"key":"RPGI3zg8KD"},{"type":"paragraph","children":[{"type":"text","value":"Output:","key":"MurS0EMNfi"}],"key":"t2USj6rasD"},{"type":"code","lang":"python","meta":null,"value":"Inner sees: inner\nOuter sees: outer","key":"swnMHDhXcN"},{"type":"paragraph","children":[{"type":"text","value":"If the inner function didn’t define its own ","key":"lZKX4H1BPa"},{"type":"inlineCode","value":"x","key":"U7NeO09ryD"},{"type":"text","value":", it would see the outer’s ","key":"RdGkIjYyRn"},{"type":"inlineCode","value":"x","key":"U4XicoUY5k"},{"type":"text","value":" due to the LEGB rule (finding it in the Enclosing scope).","key":"SoLqUxUJ6V"}],"key":"XdsxQRgKlK"}],"key":"i91dYTDBuT"}],"class":"question","key":"U4EuhGlxm5"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"💡 Computational Thinking: Why Global Variables Are Dangerous","position":{"start":{"line":747,"column":1},"end":{"line":747,"column":1}},"key":"PXDFTdbZTF"}],"key":"e1DAY7OxKr"},{"type":"paragraph","position":{"start":{"line":750,"column":1},"end":{"line":750,"column":1}},"children":[{"type":"text","value":"Global variables violate the “principle of least surprise” in computing:","position":{"start":{"line":750,"column":1},"end":{"line":750,"column":1}},"key":"REPm6SMS7j"}],"key":"mzy27c2SWk"},{"type":"code","lang":"","value":"HIDDEN STATE ANTI-PATTERN:\n- Function behavior depends on external state\n- Can't understand function in isolation\n- Testing requires global setup\n- Parallel processing becomes impossible\n\nReal disaster: Mars Climate Orbiter (1999)\n- Global unit variable (metric vs imperial)\n- One module changed it to imperial\n- Another module read it expecting metric\n- $327 million spacecraft crashed into Mars\n\nBetter pattern: Explicit State Passing\nBAD:  current_units = 'metric'; calculate()\nGOOD: calculate(units='metric')","position":{"start":{"line":752,"column":1},"end":{"line":768,"column":1}},"key":"oF4nlzVgFj"}],"class":"tip","key":"nAzqV3CtW2"},{"type":"heading","depth":2,"position":{"start":{"line":771,"column":1},"end":{"line":771,"column":1}},"children":[{"type":"text","value":"5.4 Functional Programming Elements","position":{"start":{"line":771,"column":1},"end":{"line":771,"column":1}},"key":"nilRcsaezA"}],"identifier":"id-5-4-functional-programming-elements","label":"5.4 Functional Programming Elements","html_id":"id-5-4-functional-programming-elements","implicit":true,"key":"UX6DPFnZP9"},{"type":"paragraph","position":{"start":{"line":773,"column":1},"end":{"line":774,"column":1}},"children":[{"type":"text","value":"{margin} Side Effect\nAny state change that occurs beyond returning a value from a function, such as modifying global variables or printing output.","position":{"start":{"line":773,"column":1},"end":{"line":773,"column":1}},"key":"Dy0B3FARuG"}],"key":"bsmhREE5cJ"},{"type":"paragraph","position":{"start":{"line":776,"column":1},"end":{"line":777,"column":1}},"children":[{"type":"text","value":"{margin} Pure Function\nA function that always returns the same output for the same input with no side effects.","position":{"start":{"line":776,"column":1},"end":{"line":776,"column":1}},"key":"t6HsKfxIrY"}],"key":"z516RVIl6z"},{"type":"paragraph","position":{"start":{"line":779,"column":1},"end":{"line":779,"column":1}},"children":[{"type":"text","value":"Python supports functional programming—a style that treats computation as the evaluation of mathematical functions. These concepts are essential for modern scientific frameworks like JAX and lead to cleaner, more testable code.","position":{"start":{"line":779,"column":1},"end":{"line":779,"column":1}},"key":"RPOXZV1FWp"}],"key":"ir4700iNSD"},{"type":"heading","depth":3,"position":{"start":{"line":781,"column":1},"end":{"line":781,"column":1}},"children":[{"type":"text","value":"Lambda Functions","position":{"start":{"line":781,"column":1},"end":{"line":781,"column":1}},"key":"pFAVIMUxM3"}],"identifier":"lambda-functions","label":"Lambda Functions","html_id":"lambda-functions","implicit":true,"key":"awYkpkqQdT"},{"type":"paragraph","position":{"start":{"line":783,"column":1},"end":{"line":784,"column":1}},"children":[{"type":"text","value":"{margin} Lambda\nAn anonymous function defined inline using the ","position":{"start":{"line":783,"column":1},"end":{"line":783,"column":1}},"key":"dR9EYwX56d"},{"type":"inlineCode","value":"lambda","position":{"start":{"line":783,"column":1},"end":{"line":783,"column":1}},"key":"V9dmmxqRCz"},{"type":"text","value":" keyword.","position":{"start":{"line":783,"column":1},"end":{"line":783,"column":1}},"key":"OyXHsqyl1R"}],"key":"ebiXNzuQhB"},{"type":"paragraph","position":{"start":{"line":786,"column":1},"end":{"line":786,"column":1}},"children":[{"type":"text","value":"Lambda functions are small, anonymous functions defined inline:","position":{"start":{"line":786,"column":1},"end":{"line":786,"column":1}},"key":"PFt2RIxoTF"}],"key":"A1MMdS9ZZY"}],"key":"H0VROooKZ1"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Traditional function\ndef square(x):\n    return x**2\n\n# Equivalent lambda\nsquare_lambda = lambda x: x**2\n\nprint(f\"Traditional: {square(5)}\")\nprint(f\"Lambda: {square_lambda(5)}\")\n\n# Lambdas shine for sorting and filtering\ndata_points = [\n    {'x': 1.5, 'y': 2.3, 'error': 0.1},\n    {'x': 2.1, 'y': 4.7, 'error': 0.05},\n    {'x': 0.8, 'y': 1.2, 'error': 0.2},\n]\n\n# Sort by x value\nby_x = sorted(data_points, key=lambda p: p['x'])\nprint(\"\\nSorted by x:\")\nfor p in by_x:\n    print(f\"  x={p['x']}, y={p['y']}\")\n\n# Sort by relative error (error/y)\nby_rel_error = sorted(data_points, key=lambda p: p['error']/p['y'])\nprint(\"\\nSorted by relative error:\")\nfor p in by_rel_error:\n    rel_err = p['error']/p['y'] * 100\n    print(f\"  x={p['x']}, relative error={rel_err:.1f}%\")","key":"iT35XuvkTX"},{"type":"output","id":"e5yn4BsxI39y1xOSFJhY3","data":[],"key":"gheYwoPZUP"}],"key":"BsHK8uPNMr"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":820,"column":1},"end":{"line":820,"column":1}},"children":[{"type":"text","value":"Map, Filter, and Reduce","position":{"start":{"line":820,"column":1},"end":{"line":820,"column":1}},"key":"QwZUk9NiZX"}],"identifier":"map-filter-and-reduce","label":"Map, Filter, and Reduce","html_id":"map-filter-and-reduce","implicit":true,"key":"z2CojgnCqP"},{"type":"paragraph","position":{"start":{"line":822,"column":1},"end":{"line":822,"column":1}},"children":[{"type":"text","value":"These functional tools transform how you process data:","position":{"start":{"line":822,"column":1},"end":{"line":822,"column":1}},"key":"tgcbkAxbIG"}],"key":"MuNz2iAavy"}],"key":"E9SdH7NFKl"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from functools import reduce\n\n# Sample measurements in CGS units\nmeasurements_cms = [981, 979, 983, 9900, 980, 982, 978]  # cm/s² (g values)\n\n# FILTER: Remove outliers\nmean_estimate = 980  # cm/s²\ntolerance = 10  # cm/s²\n\ngood_data = list(filter(\n    lambda x: abs(x - mean_estimate) < tolerance,\n    measurements_cms\n))\n\nprint(f\"Original: {measurements_cms}\")\nprint(f\"Filtered: {good_data}\")\nprint(f\"Removed {len(measurements_cms) - len(good_data)} outliers\")\n\n# MAP: Apply calibration factor\ncalibration = 1.002  # 0.2% correction\ncalibrated = list(map(lambda x: x * calibration, good_data))\nprint(f\"Calibrated: {[f'{x:.1f}' for x in calibrated]}\")\n\n# REDUCE: Calculate mean\nmean = reduce(lambda a, b: a + b, calibrated) / len(calibrated)\nprint(f\"Final mean: {mean:.1f} cm/s²\")","key":"J5gMNj50MV"},{"type":"output","id":"eKZxnTik4eZxeKQBGsses","data":[],"key":"eZREHi7u7B"}],"key":"MdY30MqF9f"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🔍 Check Your Understanding #4","position":{"start":{"line":853,"column":1},"end":{"line":853,"column":1}},"key":"ctBPZ83DgX"}],"key":"hekRZzAZzB"},{"type":"paragraph","position":{"start":{"line":856,"column":1},"end":{"line":856,"column":1}},"children":[{"type":"text","value":"Rewrite this loop using functional programming:","position":{"start":{"line":856,"column":1},"end":{"line":856,"column":1}},"key":"vFhu2Zrbmj"}],"key":"kMV8ZWEbki"},{"type":"code","lang":"python","value":"# Square all positive values\nresults = []\nfor x in data:\n    if x > 0:\n        results.append(x**2)","position":{"start":{"line":858,"column":1},"end":{"line":864,"column":1}},"key":"ortrhFlSCT"},{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Answer","key":"isDpsd9wKP"}],"key":"XPCGSmgN4p"},{"type":"paragraph","children":[{"type":"text","value":"Two equivalent functional approaches:","key":"MsyiGyIjzO"}],"key":"D4qxvw5Fjl"},{"type":"code","lang":"python","meta":null,"value":"# Using filter and map\nresults = list(map(\n    lambda x: x**2,\n    filter(lambda x: x > 0, data)\n))\n\n# Using list comprehension (more Pythonic)\nresults = [x**2 for x in data if x > 0]","key":"FMCGyJp5gE"},{"type":"paragraph","children":[{"type":"text","value":"The list comprehension is generally preferred in Python for readability, but understanding the functional approach prepares you for libraries like JAX.","key":"pYX2WcF3tT"}],"key":"O9L9Ancbj8"}],"key":"gF6763MXSJ"}],"class":"question","key":"ADKaMQxfij"},{"type":"heading","depth":3,"position":{"start":{"line":886,"column":1},"end":{"line":886,"column":1}},"children":[{"type":"text","value":"Functions as First-Class Objects","position":{"start":{"line":886,"column":1},"end":{"line":886,"column":1}},"key":"QBstB1GHS1"}],"identifier":"functions-as-first-class-objects","label":"Functions as First-Class Objects","html_id":"functions-as-first-class-objects","implicit":true,"key":"GS7wUuQ6xO"},{"type":"paragraph","position":{"start":{"line":888,"column":1},"end":{"line":888,"column":1}},"children":[{"type":"text","value":"In Python, functions are objects you can pass around:","position":{"start":{"line":888,"column":1},"end":{"line":888,"column":1}},"key":"VotlwcdxPh"}],"key":"aTb6ZksDNv"}],"key":"wu73vUjH2Z"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def apply_operator(data, operator_func):\n    \"\"\"\n    Apply any operation to data.\n    \n    operator_func determines the transformation.\n    \"\"\"\n    return [operator_func(x) for x in data]\n\n# Define different operations\ndef grams_to_kilograms(g):\n    \"\"\"Convert grams to kilograms.\"\"\"\n    return g / 1000.0\n\ndef dynes_to_newtons(dynes):\n    \"\"\"Convert dynes to Newtons (1 N = 10⁵ dynes).\"\"\"\n    return dynes / 1e5\n\ndef normalize(x, mean=0, std=1):\n    \"\"\"Standardize value.\"\"\"\n    return (x - mean) / std\n\n# Use different operations\nmasses_g = [100, 200, 300, 400]  # grams\nmasses_kg = apply_operator(masses_g, grams_to_kilograms)\nprint(f\"Grams: {masses_g}\")\nprint(f\"Kilograms: {masses_kg}\")\n\nforces_dynes = [1e5, 2e5, 3e5, 4e5]  # dynes\nforces_n = apply_operator(forces_dynes, dynes_to_newtons)\nprint(f\"\\nDynes: {forces_dynes}\")\nprint(f\"Newtons: {forces_n}\")\n\n# Create custom normalizer with closure\nvalues = [2, 4, 6, 8, 10]\nmean = sum(values) / len(values)\nstd = (sum((x - mean)**2 for x in values) / len(values)) ** 0.5\n\nnormalizer = lambda x: normalize(x, mean, std)\nnormalized = apply_operator(values, normalizer)\nprint(f\"\\nOriginal: {values}\")\nprint(f\"Normalized: {[f'{x:.2f}' for x in normalized]}\")","key":"kSDr0T8z64"},{"type":"output","id":"5UhmfV7xXLAJb9VFrNpHg","data":[],"key":"J9RMI9xPft"}],"key":"KHzckI56T2"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🌟 Why This Matters: Modern Frameworks Require Functional Thinking","position":{"start":{"line":934,"column":1},"end":{"line":934,"column":1}},"key":"oWdvZjjU5W"}],"key":"xTzySO4TVh"},{"type":"paragraph","position":{"start":{"line":937,"column":1},"end":{"line":937,"column":1}},"children":[{"type":"text","value":"Functional programming isn’t just academic—it’s essential for modern scientific computing:","position":{"start":{"line":937,"column":1},"end":{"line":937,"column":1}},"key":"C16e5m8NmV"}],"key":"hXMZGhcYJJ"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":939,"column":1},"end":{"line":943,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":939,"column":1},"end":{"line":939,"column":1}},"children":[{"type":"strong","position":{"start":{"line":939,"column":1},"end":{"line":939,"column":1}},"children":[{"type":"text","value":"JAX","position":{"start":{"line":939,"column":1},"end":{"line":939,"column":1}},"key":"BZ1cN9Rac9"}],"key":"AfiG0Zvru3"},{"type":"text","value":" (Google’s NumPy replacement) requires pure functions for automatic differentiation","position":{"start":{"line":939,"column":1},"end":{"line":939,"column":1}},"key":"tJDfosQwjE"}],"key":"DWt3SnxU7J"},{"type":"listItem","spread":true,"position":{"start":{"line":940,"column":1},"end":{"line":940,"column":1}},"children":[{"type":"strong","position":{"start":{"line":940,"column":1},"end":{"line":940,"column":1}},"children":[{"type":"text","value":"Parallel processing","position":{"start":{"line":940,"column":1},"end":{"line":940,"column":1}},"key":"XwQO7p5Owk"}],"key":"SGOBdpPtKK"},{"type":"text","value":" works best with stateless functions","position":{"start":{"line":940,"column":1},"end":{"line":940,"column":1}},"key":"t6SfIL3UOs"}],"key":"I78DyM08r8"},{"type":"listItem","spread":true,"position":{"start":{"line":941,"column":1},"end":{"line":941,"column":1}},"children":[{"type":"strong","position":{"start":{"line":941,"column":1},"end":{"line":941,"column":1}},"children":[{"type":"text","value":"Testing","position":{"start":{"line":941,"column":1},"end":{"line":941,"column":1}},"key":"P2AH6wYJEz"}],"key":"na0RI4BalW"},{"type":"text","value":" is trivial when functions have no side effects","position":{"start":{"line":941,"column":1},"end":{"line":941,"column":1}},"key":"mU7H4sz1QW"}],"key":"WaNZOY9SFm"},{"type":"listItem","spread":true,"position":{"start":{"line":942,"column":1},"end":{"line":943,"column":1}},"children":[{"type":"strong","position":{"start":{"line":942,"column":1},"end":{"line":942,"column":1}},"children":[{"type":"text","value":"GPU computing","position":{"start":{"line":942,"column":1},"end":{"line":942,"column":1}},"key":"Y4TSl5lRF0"}],"key":"Je4Yj1IBzE"},{"type":"text","value":" maps naturally to functional operations","position":{"start":{"line":942,"column":1},"end":{"line":942,"column":1}},"key":"cVW00F05Er"}],"key":"CVKgVQytBS"}],"key":"rZKwLOj2fq"},{"type":"paragraph","position":{"start":{"line":944,"column":1},"end":{"line":944,"column":1}},"children":[{"type":"text","value":"Example: In JAX, you can automatically differentiate through an entire physics simulation if it’s written functionally. This enables techniques like physics-informed neural networks that would be impossibly complex to implement manually.","position":{"start":{"line":944,"column":1},"end":{"line":944,"column":1}},"key":"aAeRNd05Ob"}],"key":"HL4wRVyW5t"}],"class":"important","key":"bR1qW75qcj"},{"type":"heading","depth":2,"position":{"start":{"line":947,"column":1},"end":{"line":947,"column":1}},"children":[{"type":"text","value":"5.5 Modules and Packages","position":{"start":{"line":947,"column":1},"end":{"line":947,"column":1}},"key":"SfFgYhamFH"}],"identifier":"id-5-5-modules-and-packages","label":"5.5 Modules and Packages","html_id":"id-5-5-modules-and-packages","implicit":true,"key":"VDf9gwtqvZ"},{"type":"paragraph","position":{"start":{"line":949,"column":1},"end":{"line":950,"column":1}},"children":[{"type":"text","value":"{margin} Module\nA Python file containing definitions and statements that can be imported.","position":{"start":{"line":949,"column":1},"end":{"line":949,"column":1}},"key":"Y3ZrIWWGgt"}],"key":"qH0c8W8tLG"},{"type":"paragraph","position":{"start":{"line":952,"column":1},"end":{"line":953,"column":1}},"children":[{"type":"text","value":"{margin} Package\nA directory containing multiple Python modules and an ","position":{"start":{"line":952,"column":1},"end":{"line":952,"column":1}},"key":"OtG725S7jV"},{"type":"inlineCode","value":"__init__.py","position":{"start":{"line":952,"column":1},"end":{"line":952,"column":1}},"key":"RnjyLm1c8U"},{"type":"text","value":" file.","position":{"start":{"line":952,"column":1},"end":{"line":952,"column":1}},"key":"iD2R9NoHRY"}],"key":"StUDPAKK6x"},{"type":"paragraph","position":{"start":{"line":955,"column":1},"end":{"line":955,"column":1}},"children":[{"type":"text","value":"As your analysis grows from scripts to projects, organization becomes critical. Modules let you organize related functions together and reuse them across projects.","position":{"start":{"line":955,"column":1},"end":{"line":955,"column":1}},"key":"XmA45GTqBc"}],"key":"l6gwrGCsnj"},{"type":"heading","depth":3,"position":{"start":{"line":957,"column":1},"end":{"line":957,"column":1}},"children":[{"type":"text","value":"Creating Your First Module","position":{"start":{"line":957,"column":1},"end":{"line":957,"column":1}},"key":"ilhd0NOr8c"}],"identifier":"creating-your-first-module","label":"Creating Your First Module","html_id":"creating-your-first-module","implicit":true,"key":"sOvcwO4YOF"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"📝 Creating Module Files","position":{"start":{"line":959,"column":1},"end":{"line":959,"column":1}},"key":"TKQSMzarPg"}],"key":"bkW8hVe67E"},{"type":"paragraph","position":{"start":{"line":962,"column":1},"end":{"line":962,"column":1}},"children":[{"type":"text","value":"To create a module, you need to save Python code in a separate ","position":{"start":{"line":962,"column":1},"end":{"line":962,"column":1}},"key":"W2YoApKgP7"},{"type":"inlineCode","value":".py","position":{"start":{"line":962,"column":1},"end":{"line":962,"column":1}},"key":"ZL4EpKi6Nt"},{"type":"text","value":" file. You can either:","position":{"start":{"line":962,"column":1},"end":{"line":962,"column":1}},"key":"LhOF9qJpB3"}],"key":"tlgb71krRZ"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":963,"column":1},"end":{"line":965,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":963,"column":1},"end":{"line":963,"column":1}},"children":[{"type":"strong","position":{"start":{"line":963,"column":1},"end":{"line":963,"column":1}},"children":[{"type":"text","value":"Create manually","position":{"start":{"line":963,"column":1},"end":{"line":963,"column":1}},"key":"QfFk4jt8VQ"}],"key":"tiYC34JIIU"},{"type":"text","value":": Open a new file in your editor, paste the code, and save as ","position":{"start":{"line":963,"column":1},"end":{"line":963,"column":1}},"key":"n6lgOwEkPA"},{"type":"inlineCode","value":"statistics_tools.py","position":{"start":{"line":963,"column":1},"end":{"line":963,"column":1}},"key":"txfmRWkUHm"}],"key":"cRP3Ntlwfv"},{"type":"listItem","spread":true,"position":{"start":{"line":964,"column":1},"end":{"line":965,"column":1}},"children":[{"type":"strong","position":{"start":{"line":964,"column":1},"end":{"line":964,"column":1}},"children":[{"type":"text","value":"Create programmatically","position":{"start":{"line":964,"column":1},"end":{"line":964,"column":1}},"key":"Dh900pfs7U"}],"key":"ihz7LO5TkI"},{"type":"text","value":": Use the code below to generate the file","position":{"start":{"line":964,"column":1},"end":{"line":964,"column":1}},"key":"dZbw6qB1yV"}],"key":"bi7gdbwnfo"}],"key":"I7eVV8vyVZ"},{"type":"paragraph","position":{"start":{"line":966,"column":1},"end":{"line":966,"column":1}},"children":[{"type":"text","value":"For this course, we recommend creating files manually in your editor for better understanding.","position":{"start":{"line":966,"column":1},"end":{"line":966,"column":1}},"key":"IgT6fdBW6E"}],"key":"Y2FkzNoQ0i"}],"class":"note","key":"PBKxWumkT8"},{"type":"paragraph","position":{"start":{"line":969,"column":1},"end":{"line":969,"column":1}},"children":[{"type":"text","value":"Save this as ","position":{"start":{"line":969,"column":1},"end":{"line":969,"column":1}},"key":"KaDpoqUH1x"},{"type":"inlineCode","value":"statistics_tools.py","position":{"start":{"line":969,"column":1},"end":{"line":969,"column":1}},"key":"uxgJeuwQoZ"},{"type":"text","value":" in your current directory:","position":{"start":{"line":969,"column":1},"end":{"line":969,"column":1}},"key":"NMYFD7BHER"}],"key":"nOy8l9dwla"}],"key":"FQojuwjCGV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Method 1: Show the module contents (you would save this in a file)\nmodule_code = '''\n\"\"\"\nstatistics_tools.py - Basic statistical calculations.\n\nThis module provides fundamental statistical functions.\n\"\"\"\n\nimport math\n\ndef mean(data):\n    \"\"\"Calculate arithmetic mean.\"\"\"\n    return sum(data) / len(data)\n\ndef variance(data):\n    \"\"\"Calculate population variance.\"\"\"\n    m = mean(data)\n    return sum((x - m)**2 for x in data) / len(data)\n\ndef std_dev(data):\n    \"\"\"Calculate population standard deviation.\"\"\"\n    return math.sqrt(variance(data))\n\ndef std_error(data):\n    \"\"\"Calculate standard error of the mean.\"\"\"\n    return std_dev(data) / math.sqrt(len(data))\n\n# Module-level code runs on import\nprint(\"Loading statistics_tools module...\")\n\n# Test code that only runs when script is executed directly\nif __name__ == \"__main__\":\n    test_data = [1, 2, 3, 4, 5]\n    print(f\"Test mean: {mean(test_data)}\")\n    print(f\"Test std dev: {std_dev(test_data):.3f}\")\n'''\n\n# Method 2: Programmatically create the file\nwith open('statistics_tools.py', 'w') as f:\n    f.write(module_code)\n\nprint(\"Module file 'statistics_tools.py' has been created in your current directory\")","key":"AlAQy509oz"},{"type":"output","id":"QKwz5dNRlutNxDtl165wM","data":[],"key":"W0K5J79LfI"}],"key":"uVud06rxuo"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":1016,"column":1},"end":{"line":1016,"column":1}},"children":[{"type":"text","value":"Using Your Module","position":{"start":{"line":1016,"column":1},"end":{"line":1016,"column":1}},"key":"KuZ5PrxjMO"}],"identifier":"using-your-module","label":"Using Your Module","html_id":"using-your-module","implicit":true,"key":"QeIZ5kDUns"}],"key":"R8bhAFkjvD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Different import methods\n\n# Method 1: Import entire module\nimport statistics_tools\n\ndata = [10, 12, 11, 13, 10, 11, 12]\nm = statistics_tools.mean(data)\ns = statistics_tools.std_dev(data)\nprint(f\"Method 1 - Mean: {m:.2f}, Std: {s:.2f}\")\n\n# Method 2: Import specific functions\nfrom statistics_tools import mean, std_error\n\nse = std_error(data)\nprint(f\"Method 2 - Standard error: {se:.3f}\")\n\n# Method 3: Import with alias\nimport statistics_tools as stats\n\nvar = stats.variance(data)\nprint(f\"Method 3 - Variance: {var:.3f}\")","key":"Wvbuk5HFbc"},{"type":"output","id":"vsSwTryv6OeBxh_JVWneC","data":[],"key":"FE67ALy0Zf"}],"key":"qjEdLxK9q1"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":1042,"column":1},"end":{"line":1042,"column":1}},"children":[{"type":"text","value":"Building a Physics Module","position":{"start":{"line":1042,"column":1},"end":{"line":1042,"column":1}},"key":"yU42Ra0fYC"}],"identifier":"building-a-physics-module","label":"Building a Physics Module","html_id":"building-a-physics-module","implicit":true,"key":"dnF4FGcq69"},{"type":"paragraph","position":{"start":{"line":1044,"column":1},"end":{"line":1044,"column":1}},"children":[{"type":"text","value":"Let’s create a comprehensive module for physics calculations:","position":{"start":{"line":1044,"column":1},"end":{"line":1044,"column":1}},"key":"mSBMnU34Hk"}],"key":"eHGzqLHh9W"}],"key":"JxvYW8dxVj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Create physics_cgs.py module with all CGS units\nphysics_module = '''\n\"\"\"\nphysics_cgs.py - Physics calculations in CGS units.\n\nAll calculations use CGS (centimeter-gram-second) units.\n\"\"\"\n\n# Physical constants in CGS\nSPEED_OF_LIGHT = 2.998e10      # cm/s\nPLANCK_CONSTANT = 6.626e-27    # erg⋅s  \nBOLTZMANN = 1.381e-16          # erg/K\nELECTRON_MASS = 9.109e-28      # g\nPROTON_MASS = 1.673e-24        # g\nGRAVITATIONAL_CONSTANT = 6.674e-8  # cm³/(g⋅s²)\n\ndef kinetic_energy(mass_g, velocity_cms):\n    \"\"\"KE = ½mv² in ergs.\"\"\"\n    return 0.5 * mass_g * velocity_cms**2\n\ndef momentum(mass_g, velocity_cms):\n    \"\"\"p = mv in g⋅cm/s.\"\"\"\n    return mass_g * velocity_cms\n\ndef de_broglie_wavelength(mass_g, velocity_cms):\n    \"\"\"λ = h/p in cm.\"\"\"\n    p = momentum(mass_g, velocity_cms)\n    return PLANCK_CONSTANT / p if p != 0 else float('inf')\n\ndef thermal_velocity(temp_k, mass_g):\n    \"\"\"RMS thermal velocity in cm/s.\"\"\"\n    import math\n    return math.sqrt(3 * BOLTZMANN * temp_k / mass_g)\n\ndef photon_energy(wavelength_cm):\n    \"\"\"E = hc/λ in ergs.\"\"\"\n    return PLANCK_CONSTANT * SPEED_OF_LIGHT / wavelength_cm\n\ndef gravitational_force(m1_g, m2_g, distance_cm):\n    \"\"\"F = Gm₁m₂/r² in dynes.\"\"\"\n    if distance_cm == 0:\n        return float('inf')\n    return GRAVITATIONAL_CONSTANT * m1_g * m2_g / distance_cm**2\n\nclass Particle:\n    \"\"\"Simple particle with physics methods.\"\"\"\n    \n    def __init__(self, mass_g, velocity_cms):\n        self.mass = mass_g\n        self.velocity = velocity_cms\n    \n    def kinetic_energy(self):\n        return kinetic_energy(self.mass, self.velocity)\n    \n    def wavelength(self):\n        return de_broglie_wavelength(self.mass, self.velocity)\n'''\n\nwith open('physics_cgs.py', 'w') as f:\n    f.write(physics_module)\n\n# Now use it\nimport physics_cgs\n\n# Electron at 1% light speed (all CGS units)\nv_electron = 0.01 * physics_cgs.SPEED_OF_LIGHT  # cm/s\nke = physics_cgs.kinetic_energy(physics_cgs.ELECTRON_MASS, v_electron)\nwavelength = physics_cgs.de_broglie_wavelength(physics_cgs.ELECTRON_MASS, v_electron)\n\nprint(f\"Electron at 1% c:\")\nprint(f\"  Velocity = {v_electron:.2e} cm/s\")\nprint(f\"  KE = {ke:.2e} ergs\")\nprint(f\"  de Broglie λ = {wavelength:.2e} cm\")\n\n# Test gravitational force (Earth-Moon in CGS)\nearth_mass_g = 5.972e27  # grams\nmoon_mass_g = 7.342e25   # grams  \nearth_moon_distance_cm = 3.844e10  # cm\n\nforce = physics_cgs.gravitational_force(earth_mass_g, moon_mass_g, earth_moon_distance_cm)\nprint(f\"\\nEarth-Moon gravitational force: {force:.2e} dynes\")","key":"WfwdDlrPiA"},{"type":"output","id":"CV5xO9KII-lL_leqGVizR","data":[],"key":"r7oA3ra9Jn"}],"key":"hbvHJO3UEA"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":1130,"column":1},"end":{"line":1130,"column":1}},"children":[{"type":"text","value":"Import Best Practices","position":{"start":{"line":1130,"column":1},"end":{"line":1130,"column":1}},"key":"Kmh5dgvepD"}],"identifier":"import-best-practices","label":"Import Best Practices","html_id":"import-best-practices","implicit":true,"key":"iDP9z9KDRR"}],"key":"xjfjCISp8k"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# GOOD: Clear, explicit imports\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom math import sin, cos, pi\n\n# BAD: Wildcard imports pollute namespace\n# from numpy import *  # Adds 600+ names!\n# from math import *   # Conflicts with numpy!\n\n# Example of namespace collision\nimport math\nimport cmath  # Complex math module (introduced in Chapter 2)\n\n# Clear which log we're using\nreal_log = math.log(10)      # Natural log of real number\ncomplex_log = cmath.log(-1)   # Can handle complex numbers\n\nprint(f\"math.log(10) = {real_log:.3f}\")\nprint(f\"cmath.log(-1) = {complex_log}\")  # Returns complex number\n\n# If we had used 'from math import *':\n# log(10)  # Which log? math or cmath? Unclear!","key":"QlvmIILnpv"},{"type":"output","id":"DoVn9mfnkjz5nUGEB0LrW","data":[],"key":"EzVbg0sxZ2"}],"key":"HuQ2efiwTN"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🔍 Check Your Understanding #5","position":{"start":{"line":1157,"column":1},"end":{"line":1157,"column":1}},"key":"UsJblzjIDl"}],"key":"TvKQf37f8J"},{"type":"paragraph","position":{"start":{"line":1160,"column":1},"end":{"line":1160,"column":1}},"children":[{"type":"text","value":"Why is ","position":{"start":{"line":1160,"column":1},"end":{"line":1160,"column":1}},"key":"jN7bEpS6w4"},{"type":"inlineCode","value":"from module import *","position":{"start":{"line":1160,"column":1},"end":{"line":1160,"column":1}},"key":"UNokABRFcI"},{"type":"text","value":" dangerous in scientific code?","position":{"start":{"line":1160,"column":1},"end":{"line":1160,"column":1}},"key":"SoSYdjV3eg"}],"key":"dYb3Z7kqKl"},{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Answer","key":"NTaNXXKbTs"}],"key":"tC10RaDoZx"},{"type":"paragraph","children":[{"type":"text","value":"Wildcard imports are dangerous because:","key":"QeQArCB10L"}],"key":"jn97LyBG5f"},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name collisions","key":"AYWFvlnRCo"}],"key":"XiCUfdD008"},{"type":"text","value":" : Multiple libraries have functions with same names (log, sqrt, sin)","key":"Thcig15tBg"}],"key":"OOoXvvOMiw"}],"key":"u7GhoUm5Ep"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Hidden overwrites","key":"kzr5KPQqAB"}],"key":"Sg7IRLCnTZ"},{"type":"text","value":" : Later imports silently replace earlier ones","key":"W8tWf14sAA"}],"key":"xdXaB2DfgC"}],"key":"hn74dTdjyk"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Unclear source","key":"WWguQSVAAJ"}],"key":"OXr044PfI3"},{"type":"text","value":" : Can’t tell where a function comes from","key":"eH3tJ0NttG"}],"key":"u1txPsQ2li"}],"key":"zwYWseuSPl"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Namespace pollution","key":"wI2eTKVDQM"}],"key":"YWHWi6Wcmu"},{"type":"text","value":" : Hundreds of unwanted names","key":"Iw9TToyYdj"}],"key":"SDOvkL7f8X"}],"key":"xUKrj0jAsH"}],"key":"swZkJa4JIk"},{"type":"paragraph","children":[{"type":"text","value":"Real example that caused wrong results:","key":"hOU3j2p7Xh"}],"key":"QJP9I1Xrxu"},{"type":"code","lang":"python","meta":null,"value":"from numpy import *    # Has log (natural log)\nfrom math import *     # Also has log, overwrites numpy's\nfrom sympy import *    # Has symbolic log, overwrites again\n\n# Which log is this?\nresult = log(data)  # Could be any of the three!","key":"Tm55rArbrW"},{"type":"paragraph","children":[{"type":"text","value":"Always use explicit imports for clarity and safety!","key":"hPAD4S4FOk"}],"key":"i3TM716AoL"}],"key":"A77GlhTbkQ"}],"class":"question","key":"jQjFq1yB2z"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🌟 The More You Know: How Modular Code Detected Gravitational Waves","position":{"start":{"line":1186,"column":1},"end":{"line":1186,"column":1}},"key":"mEAAJczSpX"}],"key":"EsraqnkL3x"},{"type":"paragraph","position":{"start":{"line":1189,"column":1},"end":{"line":1189,"column":1}},"children":[{"type":"text","value":"On September 14, 2015, at 09:50:45 UTC, the Laser Interferometer Gravitational-Wave Observatory (LIGO) detected humanity’s first gravitational wave signal, named GW150914. This discovery, which earned the 2017 Nobel Prize in Physics, was only possible because of meticulously modular software architecture.","position":{"start":{"line":1189,"column":1},"end":{"line":1189,"column":1}},"key":"xYNlyWlMVw"}],"key":"K0eF6UfbPD"},{"type":"paragraph","position":{"start":{"line":1191,"column":1},"end":{"line":1191,"column":1}},"children":[{"type":"text","value":"The LIGO analysis pipeline consisted of hundreds of independent Python modules, each performing one specific task:","position":{"start":{"line":1191,"column":1},"end":{"line":1191,"column":1}},"key":"BlyPbDgqb9"}],"key":"pOeXkNN3Wn"},{"type":"code","lang":"python","value":"# Simplified LIGO pipeline structure\ndef calibrate_strain(raw_data, calibration_data):\n    \"\"\"Convert detector output to strain.\"\"\"\n    # Complex calibration involving transfer functions\n    \ndef remove_lines(strain_data, line_frequencies):\n    \"\"\"Remove power line interference and harmonics.\"\"\"\n    # Notch filters at 60Hz, 120Hz, etc.\n    \ndef whiten_data(strain, psd):\n    \"\"\"Normalize frequency response.\"\"\"\n    # Spectral whitening for uniform sensitivity\n    \ndef matched_filter(data, template_bank):\n    \"\"\"Search for gravitational wave patterns.\"\"\"\n    # Cross-correlation with theoretical waveforms","position":{"start":{"line":1193,"column":1},"end":{"line":1210,"column":1}},"key":"pkTXDulkQL"},{"type":"paragraph","position":{"start":{"line":1212,"column":1},"end":{"line":1212,"column":1}},"children":[{"type":"text","value":"When the first signal appeared, this modular design enabled unprecedented rapid verification. Within minutes, automated pipelines had processed the data through dozens of independent checks. The modularity allowed the 1000+ member collaboration to:","position":{"start":{"line":1212,"column":1},"end":{"line":1212,"column":1}},"key":"le3B5j9WwI"}],"key":"rd6KZzMX3E"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1214,"column":1},"end":{"line":1218,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1214,"column":1},"end":{"line":1214,"column":1}},"children":[{"type":"text","value":"Test each processing step with simulated signals","position":{"start":{"line":1214,"column":1},"end":{"line":1214,"column":1}},"key":"pL251YFaZH"}],"key":"gJTC39zcCv"},{"type":"listItem","spread":true,"position":{"start":{"line":1215,"column":1},"end":{"line":1215,"column":1}},"children":[{"type":"text","value":"Run multiple independent analysis pipelines in parallel","position":{"start":{"line":1215,"column":1},"end":{"line":1215,"column":1}},"key":"Urm4WABjIp"}],"key":"hOnMV33Qyh"},{"type":"listItem","spread":true,"position":{"start":{"line":1216,"column":1},"end":{"line":1216,"column":1}},"children":[{"type":"text","value":"Swap alternative algorithms to verify robustness","position":{"start":{"line":1216,"column":1},"end":{"line":1216,"column":1}},"key":"zpc1bf3RPM"}],"key":"G9vJ1GWcbN"},{"type":"listItem","spread":true,"position":{"start":{"line":1217,"column":1},"end":{"line":1218,"column":1}},"children":[{"type":"text","value":"Complete peer review in record time","position":{"start":{"line":1217,"column":1},"end":{"line":1217,"column":1}},"key":"pbzT6hhpRR"}],"key":"ZZyAsJvfMq"}],"key":"CbDslsEgyD"},{"type":"paragraph","position":{"start":{"line":1219,"column":1},"end":{"line":1219,"column":1}},"children":[{"type":"text","value":"The discovery paper lists over 30 independent software modules, each thoroughly tested and documented. This modular approach—exactly what you’re learning in this chapter—enabled one of physics’ greatest discoveries!","position":{"start":{"line":1219,"column":1},"end":{"line":1219,"column":1}},"key":"q1oIamixkH"}],"key":"xvQKVc76dG"}],"class":"history","key":"gX0eeBkaPI"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🌟 The More You Know: The $370 Million Integer Overflow","position":{"start":{"line":1222,"column":1},"end":{"line":1222,"column":1}},"key":"lzHeiTnvSj"}],"key":"H6kwyHClut"},{"type":"paragraph","position":{"start":{"line":1225,"column":1},"end":{"line":1225,"column":1}},"children":[{"type":"text","value":"On June 4, 1996, the maiden flight of Ariane 5 ended in spectacular failure just 37 seconds after liftoff. The rocket veered off course and self-destructed, destroying four Cluster satellites worth $370 million. This disaster teaches us a crucial lesson about function design and validation.","position":{"start":{"line":1225,"column":1},"end":{"line":1225,"column":1}},"key":"Lwj9BxS3SI"}],"key":"LGXI5pT43w"},{"type":"paragraph","position":{"start":{"line":1227,"column":1},"end":{"line":1227,"column":1}},"children":[{"type":"text","value":"The root cause traced back to a single function in the inertial reference system, originally written for Ariane 4. This function converted a 64-bit floating-point horizontal velocity value to a 16-bit signed integer. In Ariane 4’s slower flight profile, this worked perfectly. But Ariane 5 was more powerful. At T+37 seconds, the horizontal velocity exceeded 32,767—the maximum value for a 16-bit signed integer.","position":{"start":{"line":1227,"column":1},"end":{"line":1227,"column":1}},"key":"xKLWsIxBpZ"}],"key":"aiQmKzej4w"},{"type":"paragraph","position":{"start":{"line":1229,"column":1},"end":{"line":1229,"column":1}},"children":[{"type":"text","value":"The conversion function essentially looked like this conceptually:","position":{"start":{"line":1229,"column":1},"end":{"line":1229,"column":1}},"key":"sGaYKZ7JS0"}],"key":"zuSJC0SU6d"},{"type":"code","lang":"python","value":"def convert_velocity(velocity_64bit):\n    # Direct conversion without validation\n    return int(velocity_64bit)  # Assumes it fits in 16 bits!","position":{"start":{"line":1231,"column":1},"end":{"line":1235,"column":1}},"key":"fXldRrH2qx"},{"type":"paragraph","position":{"start":{"line":1237,"column":1},"end":{"line":1237,"column":1}},"children":[{"type":"text","value":"What they needed was:","position":{"start":{"line":1237,"column":1},"end":{"line":1237,"column":1}},"key":"d8wd3DDRmK"}],"key":"Hvdpq9Mzg4"},{"type":"code","lang":"python","value":"def convert_velocity_safe(velocity_64bit):\n    MAX_INT16 = 32767\n    MIN_INT16 = -32768\n    \n    if velocity_64bit > MAX_INT16:\n        # Handle overflow appropriately\n        log_error(f\"Velocity {velocity_64bit} exceeds 16-bit range\")\n        return MAX_INT16  # Or raise exception with proper handling\n    elif velocity_64bit < MIN_INT16:\n        return MIN_INT16\n        \n    return int(velocity_64bit)","position":{"start":{"line":1239,"column":1},"end":{"line":1252,"column":1}},"key":"P5CgZeBj9N"},{"type":"paragraph","position":{"start":{"line":1254,"column":1},"end":{"line":1254,"column":1}},"children":[{"type":"text","value":"The overflow caused an exception in both the primary and backup systems (which ran identical code). The main flight computer, suddenly receiving diagnostic data instead of attitude information, interpreted it as actual flight data and commanded a violent course correction. The resulting aerodynamic forces exceeded design limits, triggering automatic self-destruct.","position":{"start":{"line":1254,"column":1},"end":{"line":1254,"column":1}},"key":"glkOEZvlno"}],"key":"qrBHuR5Bi8"},{"type":"paragraph","position":{"start":{"line":1256,"column":1},"end":{"line":1256,"column":1}},"children":[{"type":"text","value":"The investigation revealed four critical lessons about function design:","position":{"start":{"line":1256,"column":1},"end":{"line":1256,"column":1}},"key":"dO4glKXdvG"}],"key":"RQcaUdw8PV"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":1257,"column":1},"end":{"line":1261,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1257,"column":1},"end":{"line":1257,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1257,"column":1},"end":{"line":1257,"column":1}},"children":[{"type":"text","value":"Always validate input ranges","position":{"start":{"line":1257,"column":1},"end":{"line":1257,"column":1}},"key":"MqC9MdivVT"}],"key":"Eif5uPLMJk"},{"type":"text","value":", especially when converting between data types","position":{"start":{"line":1257,"column":1},"end":{"line":1257,"column":1}},"key":"hDQzUfFO4d"}],"key":"YyKSXhgOWO"},{"type":"listItem","spread":true,"position":{"start":{"line":1258,"column":1},"end":{"line":1258,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1258,"column":1},"end":{"line":1258,"column":1}},"children":[{"type":"text","value":"Never assume code reuse is safe","position":{"start":{"line":1258,"column":1},"end":{"line":1258,"column":1}},"key":"yrU52vWasr"}],"key":"PEm6zTCg7i"},{"type":"text","value":" without checking new operating conditions","position":{"start":{"line":1258,"column":1},"end":{"line":1258,"column":1}},"key":"j65sPqZ20B"}],"key":"xGvmki4H8G"},{"type":"listItem","spread":true,"position":{"start":{"line":1259,"column":1},"end":{"line":1259,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1259,"column":1},"end":{"line":1259,"column":1}},"children":[{"type":"text","value":"Design for graceful degradation","position":{"start":{"line":1259,"column":1},"end":{"line":1259,"column":1}},"key":"UIxNQLFi2j"}],"key":"LOmB9pBlHY"},{"type":"text","value":" rather than complete failure","position":{"start":{"line":1259,"column":1},"end":{"line":1259,"column":1}},"key":"EXvKRXtD4U"}],"key":"Jtu4LYU5B9"},{"type":"listItem","spread":true,"position":{"start":{"line":1260,"column":1},"end":{"line":1261,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1260,"column":1},"end":{"line":1260,"column":1}},"children":[{"type":"text","value":"Test with realistic data ranges","position":{"start":{"line":1260,"column":1},"end":{"line":1260,"column":1}},"key":"SpASnOnL6O"}],"key":"obBCg4l5R2"},{"type":"text","value":" that match actual operating conditions","position":{"start":{"line":1260,"column":1},"end":{"line":1260,"column":1}},"key":"SiVe6K9eSO"}],"key":"cGYxGHtPXw"}],"key":"PyuDwrcWRT"},{"type":"paragraph","position":{"start":{"line":1262,"column":1},"end":{"line":1262,"column":1}},"children":[{"type":"text","value":"Every validation function you write, every bounds check you add, every type conversion you verify—these aren’t bureaucratic overhead. They’re the difference between mission success and catastrophic failure. This disaster led directly to modern software engineering practices that require explicit contracts for all functions, comprehensive range checking, and formal verification of critical code paths.","position":{"start":{"line":1262,"column":1},"end":{"line":1262,"column":1}},"key":"yt4ZeiObFO"}],"key":"iU78wjnwL9"}],"class":"history","key":"U09cINr5sT"},{"type":"paragraph","position":{"start":{"line":1266,"column":1},"end":{"line":1266,"column":1}},"children":[{"type":"text","value":":class: history","position":{"start":{"line":1266,"column":1},"end":{"line":1266,"column":1}},"key":"Kj8vdJMNGO"}],"key":"eUnLDuRVxn"},{"type":"paragraph","position":{"start":{"line":1268,"column":1},"end":{"line":1268,"column":1}},"children":[{"type":"text","value":"In 1990, the Hubble Space Telescope launched with a precisely ground mirror that was perfectly wrong. The primary mirror’s shape was off by just 2.2 micrometers—1/50th the width of a human hair—but this tiny error made the $1.5 billion telescope nearly useless for its first three years.","position":{"start":{"line":1268,"column":1},"end":{"line":1268,"column":1}},"key":"lkpTWSOPoa"}],"key":"TztrWbQaHh"},{"type":"paragraph","position":{"start":{"line":1270,"column":1},"end":{"line":1270,"column":1}},"children":[{"type":"text","value":"The cause? A spacing error in the reflective null corrector, the device used to test the mirror during grinding. But the real failure was in the testing software’s validation functions. The quality control program had a function like this:","position":{"start":{"line":1270,"column":1},"end":{"line":1270,"column":1}},"key":"UBdx3xh6ue"}],"key":"iS98poCmMY"},{"type":"code","lang":"python","value":"def validate_mirror_test(measurement, reference):\n    \"\"\"Check if mirror measurement matches reference.\"\"\"\n    difference = abs(measurement - reference)\n    threshold = 0.01  # Arbitrary threshold!\n    \n    if difference < threshold:\n        return \"PASS\"\n    else:\n        return \"FAIL\"","position":{"start":{"line":1272,"column":1},"end":{"line":1282,"column":1}},"key":"kZAZbeCWKf"},{"type":"paragraph","position":{"start":{"line":1284,"column":1},"end":{"line":1284,"column":1}},"children":[{"type":"text","value":"The problem? When two independent tests disagreed, engineers trusted the wrong one. The software’s validation function didn’t:","position":{"start":{"line":1284,"column":1},"end":{"line":1284,"column":1}},"key":"eNvk87Wa8z"}],"key":"Vk0rRIvDNU"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1285,"column":1},"end":{"line":1289,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1285,"column":1},"end":{"line":1285,"column":1}},"children":[{"type":"text","value":"Check which test was more reliable","position":{"start":{"line":1285,"column":1},"end":{"line":1285,"column":1}},"key":"dtxXgMZMvj"}],"key":"CSHYLSyLQ2"},{"type":"listItem","spread":true,"position":{"start":{"line":1286,"column":1},"end":{"line":1286,"column":1}},"children":[{"type":"text","value":"Validate the validation equipment itself","position":{"start":{"line":1286,"column":1},"end":{"line":1286,"column":1}},"key":"I71AHJsCO0"}],"key":"IiJ06HAwuA"},{"type":"listItem","spread":true,"position":{"start":{"line":1287,"column":1},"end":{"line":1287,"column":1}},"children":[{"type":"text","value":"Require agreement between multiple independent methods","position":{"start":{"line":1287,"column":1},"end":{"line":1287,"column":1}},"key":"eHGCVhENx1"}],"key":"Whccc9Gpqf"},{"type":"listItem","spread":true,"position":{"start":{"line":1288,"column":1},"end":{"line":1289,"column":1}},"children":[{"type":"text","value":"Flag when results were suspiciously perfect","position":{"start":{"line":1288,"column":1},"end":{"line":1288,"column":1}},"key":"gRctKnjxTZ"}],"key":"vHas8knEtL"}],"key":"y1xdmQtoUp"},{"type":"paragraph","position":{"start":{"line":1290,"column":1},"end":{"line":1290,"column":1}},"children":[{"type":"text","value":"A proper validation would have looked like:","position":{"start":{"line":1290,"column":1},"end":{"line":1290,"column":1}},"key":"tDiqrlRpbm"}],"key":"xAapvbo2f8"},{"type":"code","lang":"python","value":"def validate_mirror_comprehensive(test1, test2, test3):\n    \"\"\"Require agreement between independent tests.\"\"\"\n    # Check all tests are within tolerance of each other\n    if not all_agree([test1, test2, test3], tolerance=0.001):\n        raise ValueError(\"Independent tests disagree!\")\n    \n    # Check results aren't suspiciously perfect\n    if any(is_too_perfect(test) for test in [test1, test2, test3]):\n        raise ValueError(\"Measurement suspiciously perfect - check equipment!\")\n    \n    # Validate the validators\n    if not validate_test_equipment():\n        raise ValueError(\"Test equipment out of calibration!\")\n    \n    return statistics.mean([test1, test2, test3])","position":{"start":{"line":1292,"column":1},"end":{"line":1308,"column":1}},"key":"HzSFA4t5oa"},{"type":"paragraph","position":{"start":{"line":1310,"column":1},"end":{"line":1310,"column":1}},"children":[{"type":"text","value":"The incorrect mirror required a dramatic Space Shuttle servicing mission in 1993 to install corrective optics. The lesson? In scientific computing, your validation functions are as critical as your calculations. A thorough validation function—checking multiple independent sources, validating the validators, and flagging suspicious results—would have caught this error on the ground instead of in orbit.","position":{"start":{"line":1310,"column":1},"end":{"line":1310,"column":1}},"key":"RnHcukBSOt"}],"key":"ow7wQAUGQf"},{"type":"paragraph","position":{"start":{"line":1312,"column":1},"end":{"line":1312,"column":1}},"children":[{"type":"text","value":"Today, Hubble’s legacy includes not just stunning images and revolutionary science, but also a fundamental lesson: never trust a single test, always validate your validators, and remember that perfect results are often perfectly wrong.","position":{"start":{"line":1312,"column":1},"end":{"line":1312,"column":1}},"key":"YReWSu8LQW"}],"key":"mUSKkdaTQy"},{"type":"code","lang":"","value":"\n## 5.6 Documentation and Testing\n\nGood documentation and testing make your functions trustworthy and reusable. Professional scientific code requires both to ensure reproducibility and reliability.\n\n### Documentation Levels\n\n```{code-cell} ipython3\n# Level 1: Minimal (but essential)\ndef quadratic_formula(a, b, c):\n    \"\"\"Solve ax² + bx + c = 0.\"\"\"\n    discriminant = b**2 - 4*a*c\n    if discriminant < 0:\n        return None, None\n    sqrt_disc = discriminant**0.5\n    return (-b + sqrt_disc)/(2*a), (-b - sqrt_disc)/(2*a)\n\n# Level 2: Professional documentation\ndef integrate_trapezoid(x_values, y_values):\n    \"\"\"\n    Integrate using the trapezoidal rule.\n    \n    Parameters\n    ----------\n    x_values : list or array\n        X coordinates of data points (must be sorted)\n    y_values : list or array\n        Y coordinates of data points\n    \n    Returns\n    -------\n    float\n        Approximate integral of y with respect to x\n    \n    Examples\n    --------\n    >>> x = [0, 1, 2, 3]\n    >>> y = [0, 1, 4, 9]  # y = x²\n    >>> integrate_trapezoid(x, y)\n    8.0  # Exact answer is 9\n    \n    Notes\n    -----\n    Uses the composite trapezoidal rule:\n    ∫y dx ≈ Σ(y[i] + y[i+1])/2 * (x[i+1] - x[i])\n    \n    More accurate for smooth functions with\n    many points.\n    \"\"\"\n    if len(x_values) != len(y_values):\n        raise ValueError(\"x and y must have same length\")\n    \n    integral = 0\n    for i in range(len(x_values) - 1):\n        dx = x_values[i + 1] - x_values[i]\n        avg_y = (y_values[i] + y_values[i + 1]) / 2\n        integral += avg_y * dx\n    \n    return integral\n\n# Test the function\nx = [0, 0.5, 1.0, 1.5, 2.0]\ny = [0, 0.25, 1.0, 2.25, 4.0]  # y = x²\nresult = integrate_trapezoid(x, y)\nprint(f\"Integral of x² from 0 to 2: {result:.3f}\")\nprint(f\"Exact answer: {8/3:.3f}\")\nprint(f\"Error: {abs(result - 8/3):.3f}\")\n```\n\n### Testing Your Functions\n\n```{code-cell} ipython3\ndef quadratic_formula(a, b, c):\n    \"\"\"\n    Solve quadratic equation ax² + bx + c = 0.\n    \n    Returns:\n        tuple: (root1, root2) or (None, None) if no real roots\n    \"\"\"\n    import math\n    \n    # Calculate discriminant\n    discriminant = b**2 - 4*a*c\n    \n    # Check if real roots exist\n    if discriminant < 0:\n        return None, None\n    elif discriminant == 0:\n        # One repeated root\n        root = -b / (2*a)\n        return root, root\n    else:\n        # Two distinct roots\n        sqrt_disc = math.sqrt(discriminant)\n        root1 = (-b + sqrt_disc) / (2*a)\n        root2 = (-b - sqrt_disc) / (2*a)\n        return root1, root2\n\ndef test_quadratic():\n    \"\"\"Test quadratic formula solver.\"\"\"\n    \n    # Test 1: Simple case (x² - 5x + 6 = 0)\n    # Roots should be 2 and 3\n    r1, r2 = quadratic_formula(1, -5, 6)\n    assert abs(r1 - 3) < 1e-10 or abs(r1 - 2) < 1e-10\n    assert abs(r2 - 3) < 1e-10 or abs(r2 - 2) < 1e-10\n    print(\"✓ Test 1: Simple roots\")\n    \n    # Test 2: No real roots (x² + 1 = 0)\n    r1, r2 = quadratic_formula(1, 0, 1)\n    assert r1 is None and r2 is None\n    print(\"✓ Test 2: No real roots\")\n    \n    # Test 3: Single root (x² - 2x + 1 = 0)\n    # Root should be 1 (twice)\n    r1, r2 = quadratic_formula(1, -2, 1)\n    assert abs(r1 - 1) < 1e-10\n    assert abs(r2 - 1) < 1e-10\n    print(\"✓ Test 3: Repeated root\")\n    \n    print(\"All tests passed!\")\n\n# Run tests\ntest_quadratic()\n```\n\n### Introduction to Type Hints (Optional Enhancement)\n\n:::{admonition} 📌 Type Hints are Optional\n:class: info\n\nType hints are an **optional** Python feature introduced in Python 3.5. They document expected types but **Python does not enforce them** - they're primarily for documentation and IDE support. \n\n**For this course**: Type hints are not required but can help make your code clearer. Focus on writing correct functions first, then add type hints if desired.","position":{"start":{"line":1313,"column":1},"end":{"line":1448,"column":1}},"key":"uPMIevngtl"},{"type":"paragraph","position":{"start":{"line":1450,"column":1},"end":{"line":1450,"column":1}},"children":[{"type":"text","value":"Python supports type hints to document expected types:","position":{"start":{"line":1450,"column":1},"end":{"line":1450,"column":1}},"key":"S6KHmGCbUZ"}],"key":"FbnKo88u40"}],"key":"gWtJ2w36A8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def kinetic_energy_typed(mass_g: float, velocity_cms: float) -> float:\n    \"\"\"\n    Calculate kinetic energy with type hints.\n    \n    The ': float' annotations indicate expected types.\n    The '-> float' indicates the return type.\n    These are documentation only - Python doesn't enforce them!\n    \"\"\"\n    return 0.5 * mass_g * velocity_cms**2\n\n# Type hints help IDEs provide better autocomplete and catch potential errors\nenergy: float = kinetic_energy_typed(9.109e-28, 3e9)\nprint(f\"Energy: {energy:.2e} ergs\")\n\n# Python still allows \"wrong\" types - hints aren't enforced!\n# This works even though we pass integers instead of floats:\nenergy2 = kinetic_energy_typed(1, 100)  # Still works!\nprint(f\"Integer inputs still work: {energy2} ergs\")\n\n# For more complex types, import from typing module\nfrom typing import List, Tuple, Optional\n\ndef analyze_data_typed(values: List[float]) -> Tuple[float, float, Optional[float]]:\n    \"\"\"\n    Analyze data with complex type hints.\n    \n    List[float] means a list of floats\n    Tuple[float, float, Optional[float]] means it returns\n    a tuple with two floats and maybe a third float (or None)\n    \"\"\"\n    if not values:\n        return 0.0, 0.0, None\n    \n    n = len(values)\n    mean = sum(values) / n\n    variance = sum((x - mean)**2 for x in values) / n\n    std_dev = variance ** 0.5\n    \n    sorted_vals = sorted(values)\n    median = sorted_vals[n // 2] if n % 2 == 1 else (sorted_vals[n//2-1] + sorted_vals[n//2]) / 2\n    \n    return mean, std_dev, median\n\n# The IDE now knows exactly what types are returned\nmean_val, std_val, median_val = analyze_data_typed([1.0, 2.0, 3.0, 4.0, 5.0])\nprint(f\"Mean: {mean_val:.1f}, Std: {std_val:.2f}, Median: {median_val:.1f}\")","key":"aC1MNArwvP"},{"type":"output","id":"69MxFDtqVSbOz9ZcdbXXt","data":[],"key":"ioZxw0kSI5"}],"key":"syAyH3AAKG"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🛠️ Debug This!","position":{"start":{"line":1501,"column":1},"end":{"line":1501,"column":1}},"key":"XfXugMAByg"}],"key":"yPcdIuBkX2"},{"type":"paragraph","position":{"start":{"line":1504,"column":1},"end":{"line":1504,"column":1}},"children":[{"type":"text","value":"This function has a subtle bug. Can you spot it?","position":{"start":{"line":1504,"column":1},"end":{"line":1504,"column":1}},"key":"bLVWpexgUc"}],"key":"evbDvssXIo"},{"type":"code","lang":"python","value":"def find_peaks(data, threshold):\n    \"\"\"Find all peaks above threshold - HAS BUG.\"\"\"\n    peaks = []\n    peak_indices = []\n    \n    for i in range(len(data)):\n        if data[i] > threshold:\n            # Check if it's a local maximum\n            if i == 0 or data[i] > data[i-1]:\n                if i == len(data)-1 or data[i] > data[i+1]:\n                    peaks.append(data[i])\n                    peak_indices.append(i)\n    \n    return peaks, peak_indices","position":{"start":{"line":1506,"column":1},"end":{"line":1521,"column":1}},"key":"IIYiHvMJu5"},{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Answer and Fix","key":"bbRAWOryAn"}],"key":"pkzCIIhufh"},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Bug","key":"yrKgd51Y55"}],"key":"SfxVDMv8mk"},{"type":"text","value":": The condition ","key":"MHrzzds1hW"},{"type":"inlineCode","value":"data[i] > data[i-1]","key":"k6WVqaOfj4"},{"type":"text","value":" should be ","key":"LeTlAjtcsh"},{"type":"inlineCode","value":"data[i] >= data[i-1]","key":"MTjvhGmLAe"},{"type":"text","value":" (same for i+1). Otherwise it misses peaks in plateaus where consecutive values are equal.","key":"aKlqwImVVa"}],"key":"EClFbrR90K"},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Fix","key":"RqlgOutq9R"}],"key":"fEHxWAi4bM"},{"type":"text","value":":","key":"BzyuVl5OHu"}],"key":"ScN5qCVJCC"},{"type":"code","lang":"python","meta":null,"value":"def find_peaks_fixed(data, threshold):\n    \"\"\"Find all peaks above threshold.\"\"\"\n    peaks = []\n    peak_indices = []\n    \n    for i in range(len(data)):\n        if data[i] > threshold:\n            # Check if it's a local maximum (>= for plateaus)\n            is_peak = True\n            \n            if i > 0 and data[i] < data[i-1]:\n                is_peak = False\n            if i < len(data)-1 and data[i] < data[i+1]:\n                is_peak = False\n                \n            if is_peak:\n                peaks.append(data[i])\n                peak_indices.append(i)\n    \n    return peaks, peak_indices","key":"RNVfDzojOM"},{"type":"paragraph","children":[{"type":"text","value":"This bug appeared in actual spectroscopy software, missing emission lines that had flat tops!","key":"ESBaoNc3Vi"}],"key":"USI0PGaixI"}],"key":"srLCqBZF4m"}],"class":"challenge","key":"Ai8oLeZC7y"},{"type":"heading","depth":2,"position":{"start":{"line":1556,"column":1},"end":{"line":1556,"column":1}},"children":[{"type":"text","value":"5.7 Performance Considerations","position":{"start":{"line":1556,"column":1},"end":{"line":1556,"column":1}},"key":"JYx9s0lEHU"}],"identifier":"id-5-7-performance-considerations","label":"5.7 Performance Considerations","html_id":"id-5-7-performance-considerations","implicit":true,"key":"zzNwemaBHn"},{"type":"paragraph","position":{"start":{"line":1558,"column":1},"end":{"line":1558,"column":1}},"children":[{"type":"text","value":"Understanding function overhead helps you write efficient code. Let’s measure and optimize!","position":{"start":{"line":1558,"column":1},"end":{"line":1558,"column":1}},"key":"SPeNFBlDjN"}],"key":"tqsxLbhP1H"},{"type":"heading","depth":3,"position":{"start":{"line":1560,"column":1},"end":{"line":1560,"column":1}},"children":[{"type":"text","value":"Function Call Overhead","position":{"start":{"line":1560,"column":1},"end":{"line":1560,"column":1}},"key":"PT6I63LyyC"}],"identifier":"function-call-overhead","label":"Function Call Overhead","html_id":"function-call-overhead","implicit":true,"key":"vXVCJMvnBb"}],"key":"HH0s8IQBc7"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import time\n\ndef simple_add(a, b):\n    \"\"\"Minimal work - overhead visible.\"\"\"\n    return a + b\n\ndef complex_calc(x):\n    \"\"\"Heavy computation - overhead negligible.\"\"\"\n    result = 0\n    for i in range(100):\n        result += (x + i) ** 0.5\n    return result / 100\n\n# Measure overhead\nn_calls = 100000\n\n# Simple function\nstart = time.perf_counter()\nfor _ in range(n_calls):\n    simple_add(1.0, 2.0)\nsimple_time = time.perf_counter() - start\n\n# Inline equivalent\nstart = time.perf_counter()\nfor _ in range(n_calls):\n    result = 1.0 + 2.0\ninline_time = time.perf_counter() - start\n\n# Complex function\nstart = time.perf_counter()\nfor _ in range(n_calls // 100):  # Fewer calls (it's slower)\n    complex_calc(1.0)\ncomplex_time = time.perf_counter() - start\n\nprint(\"Function Call Analysis:\")\nprint(f\"Simple function: {simple_time*1000:.1f} ms\")\nprint(f\"Inline addition: {inline_time*1000:.1f} ms\")\nprint(f\"Overhead factor: {simple_time/inline_time:.1f}x\")\nprint(f\"\\nComplex function: {complex_time*1000:.1f} ms\")\nprint(\"\\nLesson: Overhead only matters for trivial operations!\")","key":"UTs91Yu58R"},{"type":"output","id":"jx-jBv5eL5FOmONCzUDRB","data":[],"key":"d9UvIyiSB1"}],"key":"To4Pa0w0cJ"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":1605,"column":1},"end":{"line":1605,"column":1}},"children":[{"type":"text","value":"Memoization for Expensive Calculations","position":{"start":{"line":1605,"column":1},"end":{"line":1605,"column":1}},"key":"ubTHc8JfoV"}],"identifier":"memoization-for-expensive-calculations","label":"Memoization for Expensive Calculations","html_id":"memoization-for-expensive-calculations","implicit":true,"key":"clZCvKLh6Z"},{"type":"paragraph","position":{"start":{"line":1607,"column":1},"end":{"line":1608,"column":1}},"children":[{"type":"text","value":"{margin} Memoization\nCaching function results to avoid recomputing expensive operations.","position":{"start":{"line":1607,"column":1},"end":{"line":1607,"column":1}},"key":"ot1ka5ptqW"}],"key":"JGedt7dkXa"}],"key":"hS878s6HWG"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from functools import lru_cache\n\n# Fibonacci without memoization (exponentially slow!)\ndef fib_slow(n):\n    if n < 2:\n        return n\n    return fib_slow(n-1) + fib_slow(n-2)\n\n# Fibonacci with memoization (linear time!)\n@lru_cache(maxsize=128)\ndef fib_fast(n):\n    if n < 2:\n        return n\n    return fib_fast(n-1) + fib_fast(n-2)\n\n# Compare performance\nimport time\n\nn = 30\n\nstart = time.perf_counter()\nresult_slow = fib_slow(n)\ntime_slow = time.perf_counter() - start\n\nstart = time.perf_counter()\nresult_fast = fib_fast(n)\ntime_fast = time.perf_counter() - start\n\nprint(f\"Fibonacci({n}) = {result_fast}\")\nprint(f\"Without memoization: {time_slow*1000:.1f} ms\")\nprint(f\"With memoization: {time_fast*1000:.3f} ms\")\nprint(f\"Speedup: {time_slow/time_fast:.0f}x\")\n\n# Check cache statistics\nprint(f\"\\nCache info: {fib_fast.cache_info()}\")","key":"dnbDnvALWA"},{"type":"output","id":"LF7doWQ2KMPr2ZoS1ACMt","data":[],"key":"nYcY1IKcJy"}],"key":"orY95WDjAt"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":1648,"column":1},"end":{"line":1648,"column":1}},"children":[{"type":"text","value":"Practice Exercises","position":{"start":{"line":1648,"column":1},"end":{"line":1648,"column":1}},"key":"oUsKaStSL6"}],"identifier":"practice-exercises","label":"Practice Exercises","html_id":"practice-exercises","implicit":true,"key":"VqF4RNWh8f"},{"type":"heading","depth":3,"position":{"start":{"line":1650,"column":1},"end":{"line":1650,"column":1}},"children":[{"type":"text","value":"Exercise 5.1: Build Statistical Analysis Functions","position":{"start":{"line":1650,"column":1},"end":{"line":1650,"column":1}},"key":"QJQK05TKJr"}],"identifier":"exercise-5-1-build-statistical-analysis-functions","label":"Exercise 5.1: Build Statistical Analysis Functions","html_id":"exercise-5-1-build-statistical-analysis-functions","implicit":true,"key":"xoqAo28Gxg"},{"type":"paragraph","position":{"start":{"line":1652,"column":1},"end":{"line":1652,"column":1}},"children":[{"type":"text","value":"Create a suite of analysis functions for experimental data:","position":{"start":{"line":1652,"column":1},"end":{"line":1652,"column":1}},"key":"PtALngqEpm"}],"key":"ZoGWOLlrTQ"}],"key":"E5CRXV30vo"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def calculate_statistics(data):\n    \"\"\"\n    Calculate comprehensive statistics.\n    \n    TODO: Your implementation should:\n    1. Handle empty lists (return None or raise ValueError)\n    2. Check for None values in the data\n    3. Return a dictionary with: mean, std, min, max, median\n    \n    Example return value:\n    {'mean': 5.2, 'std': 1.3, 'min': 3.1, 'max': 7.8, 'median': 5.0}\n    \"\"\"\n    # Your implementation here\n    # Start with: if not data: return None\n    pass\n\ndef remove_outliers(data, n_sigma=3):\n    \"\"\"\n    Remove points more than n_sigma standard deviations from mean.\n    \n    TODO: Your implementation should:\n    1. Calculate mean and standard deviation\n    2. Keep only values within mean ± n_sigma*std\n    3. Return filtered list\n    \n    Hint: Use the statistics from calculate_statistics()\n    \"\"\"\n    # Your implementation here\n    pass\n\ndef bootstrap_error(data, statistic_func=None, n_samples=1000):\n    \"\"\"\n    Estimate error using bootstrap resampling.\n    \n    TODO (Advanced challenge!):\n    1. Default to mean if no statistic_func provided\n    2. Resample data with replacement n_samples times\n    3. Calculate statistic for each resample\n    4. Return standard deviation of the statistics\n    \n    Hint: Use random.choices(data, k=len(data)) for resampling\n    \"\"\"\n    # Your implementation here\n    pass\n\n# Test with sample data\ntest_data = [9.8, 9.7, 10.1, 9.9, 50.0, 9.8, 10.0, 9.9]  # Note outlier!\nprint(f\"Original data: {test_data}\")\nprint(\"Implement the functions above to analyze this data!\")\n\n# Once implemented, you should be able to:\n# stats = calculate_statistics(test_data)\n# clean_data = remove_outliers(test_data, n_sigma=2)\n# error = bootstrap_error(clean_data)","key":"sEjz6AN5yC"},{"type":"output","id":"uYVuAu0c3vW2XXeHeBkWM","data":[],"key":"UbXUl79j3b"}],"key":"GokHB1tM36"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":1711,"column":1},"end":{"line":1711,"column":1}},"children":[{"type":"text","value":"Exercise 5.2: Create a Scientific Module","position":{"start":{"line":1711,"column":1},"end":{"line":1711,"column":1}},"key":"To3Ha1rpS9"}],"identifier":"exercise-5-2-create-a-scientific-module","label":"Exercise 5.2: Create a Scientific Module","html_id":"exercise-5-2-create-a-scientific-module","implicit":true,"key":"aPm1oFtjIB"},{"type":"paragraph","position":{"start":{"line":1713,"column":1},"end":{"line":1713,"column":1}},"children":[{"type":"text","value":"Build ","position":{"start":{"line":1713,"column":1},"end":{"line":1713,"column":1}},"key":"JrIu9Wa5Vv"},{"type":"inlineCode","value":"analysis_tools.py","position":{"start":{"line":1713,"column":1},"end":{"line":1713,"column":1}},"key":"i6GfwKnitN"},{"type":"text","value":" module:","position":{"start":{"line":1713,"column":1},"end":{"line":1713,"column":1}},"key":"yFOBj5bfvz"}],"key":"QvpCAJiiNm"},{"type":"code","lang":"python","value":"\"\"\"\nanalysis_tools.py - Data analysis utilities\n\nTODO: Create this module with:\n1. Constants (confidence levels, etc.)\n2. Statistical functions\n3. Data cleaning functions\n4. Plotting helpers\n5. Module testing in __main__\n\"\"\"\n\n# Your module here","position":{"start":{"line":1715,"column":1},"end":{"line":1728,"column":1}},"key":"gZVOzQAnw6"},{"type":"heading","depth":3,"position":{"start":{"line":1730,"column":1},"end":{"line":1730,"column":1}},"children":[{"type":"text","value":"Exercise 5.3: Variable Star Analysis Functions","position":{"start":{"line":1730,"column":1},"end":{"line":1730,"column":1}},"key":"XgM1WoEcck"}],"identifier":"exercise-5-3-variable-star-analysis-functions","label":"Exercise 5.3: Variable Star Analysis Functions","html_id":"exercise-5-3-variable-star-analysis-functions","implicit":true,"key":"g2OP2z0eXJ"},{"type":"paragraph","position":{"start":{"line":1732,"column":1},"end":{"line":1732,"column":1}},"children":[{"type":"text","value":"Continue building our variable star analysis toolkit:","position":{"start":{"line":1732,"column":1},"end":{"line":1732,"column":1}},"key":"hGGwFFSRDV"}],"key":"e7W4uhflmL"}],"key":"jvSuSASyIL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def generate_cepheid_data(period_days=5.4, amplitude_mag=0.3, n_points=50):\n    \"\"\"\n    Generate simulated Cepheid variable star data.\n    \n    Parameters:\n        period_days: Period in days\n        amplitude_mag: Amplitude in magnitudes\n        n_points: Number of observations\n    \n    Returns:\n        times, magnitudes, errors (all as lists)\n    \"\"\"\n    import random\n    import math\n    \n    times = []\n    mags = []\n    errors = []\n    \n    for i in range(n_points):\n        # Irregular sampling\n        t = i * period_days / 10 + random.uniform(-0.1, 0.1)\n        \n        # Cepheid light curve (asymmetric - rises quickly, falls slowly)\n        phase = (t % period_days) / period_days\n        \n        if phase < 0.3:\n            # Rising branch (quick brightening)\n            mag = 12.0 - amplitude_mag * (phase / 0.3)\n        else:\n            # Falling branch (slow dimming)\n            mag = 12.0 - amplitude_mag * math.exp(-(phase - 0.3) / 0.4)\n        \n        # Add realistic noise\n        mag += random.gauss(0, 0.02)\n        error = 0.01 + 0.01 * random.random()\n        \n        times.append(t)\n        mags.append(mag)\n        errors.append(error)\n    \n    return times, mags, errors\n\n# Create analysis functions (for you to implement)\ndef find_period_simple(times, mags):\n    \"\"\"\n    TODO: Estimate period from data.\n    Hint: Look for repeating patterns in brightness!\n    \n    One approach:\n    1. Find time between brightness minima\n    2. Average these intervals\n    3. Return estimated period\n    \"\"\"\n    # Your implementation here\n    pass\n\ndef phase_fold(times, mags, period):\n    \"\"\"\n    TODO: Fold data on given period.\n    \n    Algorithm:\n    1. Calculate phase for each time: phase = (time % period) / period\n    2. Sort by phase\n    3. Return phases and corresponding magnitudes\n    \"\"\"\n    # Your implementation here\n    pass\n\n# Generate and analyze data\nt, m, e = generate_cepheid_data()\nprint(f\"Generated {len(t)} observations\")\nprint(f\"Time range: {min(t):.1f} to {max(t):.1f} days\")\nprint(f\"Magnitude range: {min(m):.2f} to {max(m):.2f}\")\nprint(\"\\nImplement the analysis functions to find the period!\")","key":"M8GgRyImHz"},{"type":"output","id":"8ejQRszPv19poml0c_80z","data":[],"key":"cA8w8GRFJB"}],"key":"dv8pHoMvTE"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":1812,"column":1},"end":{"line":1812,"column":1}},"children":[{"type":"text","value":"Main Takeaways","position":{"start":{"line":1812,"column":1},"end":{"line":1812,"column":1}},"key":"AaghaKpSJL"}],"identifier":"main-takeaways","label":"Main Takeaways","html_id":"main-takeaways","implicit":true,"key":"k9L7Ttcutb"},{"type":"paragraph","position":{"start":{"line":1814,"column":1},"end":{"line":1814,"column":1}},"children":[{"type":"text","value":"Functions transform programming from repetitive scripting into modular, maintainable software engineering. When you encapsulate logic in well-designed functions, you create building blocks that can be tested independently, shared with collaborators, and combined into complex analysis pipelines. The progression from simple functions to modules to packages mirrors how scientific software naturally grows—what starts as a quick calculation evolves into a shared tool used by entire research communities.","position":{"start":{"line":1814,"column":1},"end":{"line":1814,"column":1}},"key":"TOYtvVaU5F"}],"key":"BRC4uG3c2T"},{"type":"paragraph","position":{"start":{"line":1816,"column":1},"end":{"line":1816,"column":1}},"children":[{"type":"text","value":"The distinction between positional, keyword, and default arguments gives you the flexibility to design interfaces that are both powerful and intuitive. Positional arguments work well for obvious parameters like ","position":{"start":{"line":1816,"column":1},"end":{"line":1816,"column":1}},"key":"V9kcEyFDBB"},{"type":"inlineCode","value":"power(base, exponent)","position":{"start":{"line":1816,"column":1},"end":{"line":1816,"column":1}},"key":"MJixlEMwid"},{"type":"text","value":", while keyword arguments with defaults enable complex functions that remain simple for common cases. Understanding when to use each type—and the critical danger of mutable default arguments—prevents the subtle bugs that have plagued major scientific packages.","position":{"start":{"line":1816,"column":1},"end":{"line":1816,"column":1}},"key":"USY54r4vXx"}],"key":"B40Y2T8msC"},{"type":"paragraph","position":{"start":{"line":1818,"column":1},"end":{"line":1818,"column":1}},"children":[{"type":"text","value":"The scope rules and namespace concepts you’ve learned explain why variables sometimes behave unexpectedly in complex programs. Understanding the LEGB rule prevents frustrating bugs where variables have unexpected values or modifications in one place affect seemingly unrelated code. The mutable default argument trap demonstrates why understanding Python’s evaluation model is crucial for writing reliable code. These aren’t just academic concepts—they’ve caused real disasters in production systems.","position":{"start":{"line":1818,"column":1},"end":{"line":1818,"column":1}},"key":"GbjI33czec"}],"key":"pIDx9YE6UE"},{"type":"paragraph","position":{"start":{"line":1820,"column":1},"end":{"line":1820,"column":1}},"children":[{"type":"text","value":"Functional programming concepts like map, filter, and pure functions prepare you for modern scientific computing frameworks. JAX requires functional style for automatic differentiation, parallel processing works best with stateless functions, and testing becomes trivial when functions have no side effects. The ability to pass functions as arguments and return them from other functions enables powerful patterns like the specialized integrators we created with closures.","position":{"start":{"line":1820,"column":1},"end":{"line":1820,"column":1}},"key":"GzykWEMOtp"}],"key":"R6FbVcuQ53"},{"type":"paragraph","position":{"start":{"line":1822,"column":1},"end":{"line":1822,"column":1}},"children":[{"type":"text","value":"The performance measurements showed that function call overhead only matters for trivial operations in tight loops—exactly where you’ll want to use NumPy’s vectorized operations (Chapter 7) instead. For complex calculations, overhead is negligible compared to computation time. Memoization can provide dramatic speedups when expensive calculations repeat, as often happens in optimization and parameter searching.","position":{"start":{"line":1822,"column":1},"end":{"line":1822,"column":1}},"key":"LFV5IuyQ5z"}],"key":"LLk9wTZpP9"},{"type":"paragraph","position":{"start":{"line":1824,"column":1},"end":{"line":1824,"column":1}},"children":[{"type":"text","value":"Looking forward, the functions you’ve learned to write here form the foundation for object-oriented programming in Chapter 6, where functions become methods attached to objects. The module organization skills prepare you for building larger scientific packages, while the documentation practices ensure your code can be understood and maintained by others. Most importantly, thinking in terms of functional contracts and clear interfaces will make you a better computational scientist, capable of building the robust, efficient tools that modern research demands.","position":{"start":{"line":1824,"column":1},"end":{"line":1824,"column":1}},"key":"N5CHDOVqMr"}],"key":"D9M5KIKr99"},{"type":"heading","depth":2,"position":{"start":{"line":1826,"column":1},"end":{"line":1826,"column":1}},"children":[{"type":"text","value":"Definitions","position":{"start":{"line":1826,"column":1},"end":{"line":1826,"column":1}},"key":"JwaRaB7t0v"}],"identifier":"definitions","label":"Definitions","html_id":"definitions","implicit":true,"key":"CAkKjMz4gk"},{"type":"paragraph","position":{"start":{"line":1828,"column":1},"end":{"line":1828,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1828,"column":1},"end":{"line":1828,"column":1}},"children":[{"type":"text","value":"argument","position":{"start":{"line":1828,"column":1},"end":{"line":1828,"column":1}},"key":"R4skFsR8wZ"}],"key":"fJzT2B9pci"},{"type":"text","value":" - The actual value passed to a function when calling it (e.g., in ","position":{"start":{"line":1828,"column":1},"end":{"line":1828,"column":1}},"key":"rxHxQO5b76"},{"type":"inlineCode","value":"f(5)","position":{"start":{"line":1828,"column":1},"end":{"line":1828,"column":1}},"key":"kJwaCRAj8v"},{"type":"text","value":", 5 is an argument)","position":{"start":{"line":1828,"column":1},"end":{"line":1828,"column":1}},"key":"B43H2FocXs"}],"key":"IX5LFiIxir"},{"type":"paragraph","position":{"start":{"line":1830,"column":1},"end":{"line":1830,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1830,"column":1},"end":{"line":1830,"column":1}},"children":[{"type":"text","value":"closure","position":{"start":{"line":1830,"column":1},"end":{"line":1830,"column":1}},"key":"wSeY7irNoR"}],"key":"p5iMO7gYeA"},{"type":"text","value":" - A function that remembers variables from its enclosing scope even after that scope has finished executing","position":{"start":{"line":1830,"column":1},"end":{"line":1830,"column":1}},"key":"jmxXh0aOIf"}],"key":"DqcWLqAffa"},{"type":"paragraph","position":{"start":{"line":1832,"column":1},"end":{"line":1832,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1832,"column":1},"end":{"line":1832,"column":1}},"children":[{"type":"text","value":"decorator","position":{"start":{"line":1832,"column":1},"end":{"line":1832,"column":1}},"key":"cJxB3W2iDQ"}],"key":"SophPfuGCl"},{"type":"text","value":" - A function that modifies another function’s behavior without changing its code","position":{"start":{"line":1832,"column":1},"end":{"line":1832,"column":1}},"key":"qnZ33zb6yp"}],"key":"XVIL97H9DE"},{"type":"paragraph","position":{"start":{"line":1834,"column":1},"end":{"line":1834,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1834,"column":1},"end":{"line":1834,"column":1}},"children":[{"type":"text","value":"default argument","position":{"start":{"line":1834,"column":1},"end":{"line":1834,"column":1}},"key":"dVNuXsnP1o"}],"key":"mVh1DsHgxE"},{"type":"text","value":" - A parameter value used when no argument is provided during function call","position":{"start":{"line":1834,"column":1},"end":{"line":1834,"column":1}},"key":"I9qQ7SvNGU"}],"key":"YrXH2OwyES"},{"type":"paragraph","position":{"start":{"line":1836,"column":1},"end":{"line":1836,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1836,"column":1},"end":{"line":1836,"column":1}},"children":[{"type":"text","value":"docstring","position":{"start":{"line":1836,"column":1},"end":{"line":1836,"column":1}},"key":"gLQgt77KyR"}],"key":"VHJswTjKTh"},{"type":"text","value":" - A string literal that appears as the first statement in a function, module, or class to document its purpose","position":{"start":{"line":1836,"column":1},"end":{"line":1836,"column":1}},"key":"G2xTzy9sWm"}],"key":"Qa91LGQCwX"},{"type":"paragraph","position":{"start":{"line":1838,"column":1},"end":{"line":1838,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1838,"column":1},"end":{"line":1838,"column":1}},"children":[{"type":"text","value":"function","position":{"start":{"line":1838,"column":1},"end":{"line":1838,"column":1}},"key":"HLMIywg26f"}],"key":"luZgp7foFs"},{"type":"text","value":" - A reusable block of code that performs a specific task, taking inputs and optionally returning outputs","position":{"start":{"line":1838,"column":1},"end":{"line":1838,"column":1}},"key":"MBeNzKGxYX"}],"key":"ZT4iKpBBLi"},{"type":"paragraph","position":{"start":{"line":1840,"column":1},"end":{"line":1840,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1840,"column":1},"end":{"line":1840,"column":1}},"children":[{"type":"text","value":"global","position":{"start":{"line":1840,"column":1},"end":{"line":1840,"column":1}},"key":"uTcDS5Xkdo"}],"key":"FIbix4Nyb4"},{"type":"text","value":" - A keyword that allows a function to modify a variable in the global scope","position":{"start":{"line":1840,"column":1},"end":{"line":1840,"column":1}},"key":"wVbwSxkN4f"}],"key":"PKWIOXil1N"},{"type":"paragraph","position":{"start":{"line":1842,"column":1},"end":{"line":1842,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1842,"column":1},"end":{"line":1842,"column":1}},"children":[{"type":"text","value":"keyword argument","position":{"start":{"line":1842,"column":1},"end":{"line":1842,"column":1}},"key":"SY3sHR0mcr"}],"key":"oz2FPKdWEK"},{"type":"text","value":" - An argument passed to a function by explicitly naming the parameter","position":{"start":{"line":1842,"column":1},"end":{"line":1842,"column":1}},"key":"pvAirltqGJ"}],"key":"biDCxC59pW"},{"type":"paragraph","position":{"start":{"line":1844,"column":1},"end":{"line":1844,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1844,"column":1},"end":{"line":1844,"column":1}},"children":[{"type":"text","value":"lambda","position":{"start":{"line":1844,"column":1},"end":{"line":1844,"column":1}},"key":"ApO73Papzk"}],"key":"JRnnR5OXsp"},{"type":"text","value":" - An anonymous function defined inline using the ","position":{"start":{"line":1844,"column":1},"end":{"line":1844,"column":1}},"key":"zrO9cdEgpV"},{"type":"inlineCode","value":"lambda","position":{"start":{"line":1844,"column":1},"end":{"line":1844,"column":1}},"key":"nOn5a4ZXC4"},{"type":"text","value":" keyword","position":{"start":{"line":1844,"column":1},"end":{"line":1844,"column":1}},"key":"LK8lrd3N9d"}],"key":"RFbddTylLY"},{"type":"paragraph","position":{"start":{"line":1846,"column":1},"end":{"line":1846,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1846,"column":1},"end":{"line":1846,"column":1}},"children":[{"type":"text","value":"LEGB","position":{"start":{"line":1846,"column":1},"end":{"line":1846,"column":1}},"key":"II8RyMcHYH"}],"key":"bGkQ4AJU6T"},{"type":"text","value":" - The order Python searches for variables: Local, Enclosing, Global, Built-in","position":{"start":{"line":1846,"column":1},"end":{"line":1846,"column":1}},"key":"gT10Gk1Qmp"}],"key":"cihaK9FA2p"},{"type":"paragraph","position":{"start":{"line":1848,"column":1},"end":{"line":1848,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1848,"column":1},"end":{"line":1848,"column":1}},"children":[{"type":"text","value":"memoization","position":{"start":{"line":1848,"column":1},"end":{"line":1848,"column":1}},"key":"y4DJ6UB8cF"}],"key":"c0Y4bxUZkU"},{"type":"text","value":" - Caching function results to avoid recomputing expensive operations","position":{"start":{"line":1848,"column":1},"end":{"line":1848,"column":1}},"key":"uUtYfpgcoa"}],"key":"ZpUI0Rzbo4"},{"type":"paragraph","position":{"start":{"line":1850,"column":1},"end":{"line":1850,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1850,"column":1},"end":{"line":1850,"column":1}},"children":[{"type":"text","value":"module","position":{"start":{"line":1850,"column":1},"end":{"line":1850,"column":1}},"key":"zKlKKbK44V"}],"key":"JGAZGjKye0"},{"type":"text","value":" - A Python file containing definitions and statements that can be imported and reused","position":{"start":{"line":1850,"column":1},"end":{"line":1850,"column":1}},"key":"dgkPbKTlEQ"}],"key":"oHR5QdDN2R"},{"type":"paragraph","position":{"start":{"line":1852,"column":1},"end":{"line":1852,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1852,"column":1},"end":{"line":1852,"column":1}},"children":[{"type":"text","value":"namespace","position":{"start":{"line":1852,"column":1},"end":{"line":1852,"column":1}},"key":"ynUUJ9qlj7"}],"key":"pzu2iFDNx4"},{"type":"text","value":" - A container that holds a set of identifiers and their associated objects","position":{"start":{"line":1852,"column":1},"end":{"line":1852,"column":1}},"key":"ib3hUkgxSG"}],"key":"LsFzpxVRdr"},{"type":"paragraph","position":{"start":{"line":1854,"column":1},"end":{"line":1854,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1854,"column":1},"end":{"line":1854,"column":1}},"children":[{"type":"text","value":"package","position":{"start":{"line":1854,"column":1},"end":{"line":1854,"column":1}},"key":"sLUb5eU43D"}],"key":"xLWSEesU7k"},{"type":"text","value":" - A directory containing multiple Python modules and an ","position":{"start":{"line":1854,"column":1},"end":{"line":1854,"column":1}},"key":"lWLvJMPt2s"},{"type":"inlineCode","value":"__init__.py","position":{"start":{"line":1854,"column":1},"end":{"line":1854,"column":1}},"key":"zWqxbst9su"},{"type":"text","value":" file","position":{"start":{"line":1854,"column":1},"end":{"line":1854,"column":1}},"key":"yLsVKEiZgX"}],"key":"QHlF66iZWK"},{"type":"paragraph","position":{"start":{"line":1856,"column":1},"end":{"line":1856,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1856,"column":1},"end":{"line":1856,"column":1}},"children":[{"type":"text","value":"parameter","position":{"start":{"line":1856,"column":1},"end":{"line":1856,"column":1}},"key":"PoQYkg5w3s"}],"key":"vZ9FtA23vT"},{"type":"text","value":" - A variable in a function definition that receives a value when the function is called","position":{"start":{"line":1856,"column":1},"end":{"line":1856,"column":1}},"key":"yuGZT5m62b"}],"key":"qWzGMSwseR"},{"type":"paragraph","position":{"start":{"line":1858,"column":1},"end":{"line":1858,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1858,"column":1},"end":{"line":1858,"column":1}},"children":[{"type":"text","value":"positional argument","position":{"start":{"line":1858,"column":1},"end":{"line":1858,"column":1}},"key":"oBIaRLyfwg"}],"key":"AThMMQr4sm"},{"type":"text","value":" - An argument passed to a function based on its position in the parameter list","position":{"start":{"line":1858,"column":1},"end":{"line":1858,"column":1}},"key":"B3j2BvTks6"}],"key":"hQ4UagTbMt"},{"type":"paragraph","position":{"start":{"line":1860,"column":1},"end":{"line":1860,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1860,"column":1},"end":{"line":1860,"column":1}},"children":[{"type":"text","value":"pure function","position":{"start":{"line":1860,"column":1},"end":{"line":1860,"column":1}},"key":"H63jQZHOr3"}],"key":"FRi5VAZoJs"},{"type":"text","value":" - A function that always returns the same output for the same input with no side effects","position":{"start":{"line":1860,"column":1},"end":{"line":1860,"column":1}},"key":"YUto9BuD7M"}],"key":"ONqt6KHoeI"},{"type":"paragraph","position":{"start":{"line":1862,"column":1},"end":{"line":1862,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1862,"column":1},"end":{"line":1862,"column":1}},"children":[{"type":"text","value":"return value","position":{"start":{"line":1862,"column":1},"end":{"line":1862,"column":1}},"key":"Jt7JdUMfNz"}],"key":"LiLLVJoB9G"},{"type":"text","value":" - The result that a function sends back to the code that called it","position":{"start":{"line":1862,"column":1},"end":{"line":1862,"column":1}},"key":"Mea0GaM7Wf"}],"key":"Pa3Sxguuzl"},{"type":"paragraph","position":{"start":{"line":1864,"column":1},"end":{"line":1864,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1864,"column":1},"end":{"line":1864,"column":1}},"children":[{"type":"text","value":"scope","position":{"start":{"line":1864,"column":1},"end":{"line":1864,"column":1}},"key":"PJJA1U9kdA"}],"key":"VUvBWN9zXK"},{"type":"text","value":" - The region of a program where a variable is accessible","position":{"start":{"line":1864,"column":1},"end":{"line":1864,"column":1}},"key":"baDsn8aGs6"}],"key":"YYJS1Fgx0P"},{"type":"paragraph","position":{"start":{"line":1866,"column":1},"end":{"line":1866,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1866,"column":1},"end":{"line":1866,"column":1}},"children":[{"type":"text","value":"side effect","position":{"start":{"line":1866,"column":1},"end":{"line":1866,"column":1}},"key":"j3dkwyPgsY"}],"key":"fYDZ1Vc2rt"},{"type":"text","value":" - Any state change that occurs beyond returning a value from a function","position":{"start":{"line":1866,"column":1},"end":{"line":1866,"column":1}},"key":"ZYoEbfvIbP"}],"key":"AAfcenu9vq"},{"type":"paragraph","position":{"start":{"line":1868,"column":1},"end":{"line":1868,"column":1}},"children":[{"type":"text","value":"*","position":{"start":{"line":1868,"column":1},"end":{"line":1868,"column":1}},"key":"Mr8OKAdpNd"},{"type":"strong","position":{"start":{"line":1868,"column":1},"end":{"line":1868,"column":1}},"children":[{"type":"text","value":"args","position":{"start":{"line":1868,"column":1},"end":{"line":1868,"column":1}},"key":"gHI118vcpp"}],"key":"LSeOMuROM4"},{"type":"text","value":" - Syntax for collecting variable positional arguments into a tuple","position":{"start":{"line":1868,"column":1},"end":{"line":1868,"column":1}},"key":"HD7qoGvoXw"}],"key":"YNtwALCitb"},{"type":"paragraph","position":{"start":{"line":1870,"column":1},"end":{"line":1870,"column":1}},"children":[{"type":"text","value":"*","position":{"start":{"line":1870,"column":1},"end":{"line":1870,"column":1}},"key":"HjrUjQp2oI"},{"type":"strong","position":{"start":{"line":1870,"column":1},"end":{"line":1870,"column":1}},"children":[{"type":"text","value":"kwargs","position":{"start":{"line":1870,"column":1},"end":{"line":1870,"column":1}},"key":"TYiaTxXXPi"}],"key":"oIJfvYa9Fd"},{"type":"text","value":" - Syntax for collecting variable keyword arguments into a dictionary","position":{"start":{"line":1870,"column":1},"end":{"line":1870,"column":1}},"key":"ZFmEo7mplK"}],"key":"Yi8FR0HjOF"},{"type":"heading","depth":2,"position":{"start":{"line":1872,"column":1},"end":{"line":1872,"column":1}},"children":[{"type":"text","value":"Key Takeaways","position":{"start":{"line":1872,"column":1},"end":{"line":1872,"column":1}},"key":"leOdwfkrav"}],"identifier":"key-takeaways","label":"Key Takeaways","html_id":"key-takeaways","implicit":true,"key":"TpmMIUKZjG"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1874,"column":1},"end":{"line":1889,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1874,"column":1},"end":{"line":1874,"column":1}},"children":[{"type":"text","value":"Functions are contracts: they promise specific outputs for given inputs","position":{"start":{"line":1874,"column":1},"end":{"line":1874,"column":1}},"key":"bo9KT34Tmr"}],"key":"xi2GmQyrhD"},{"type":"listItem","spread":true,"position":{"start":{"line":1875,"column":1},"end":{"line":1875,"column":1}},"children":[{"type":"text","value":"Choose positional arguments for obvious parameters, keyword arguments for optional ones","position":{"start":{"line":1875,"column":1},"end":{"line":1875,"column":1}},"key":"PDwRKn7dgU"}],"key":"JUCammXlYA"},{"type":"listItem","spread":true,"position":{"start":{"line":1876,"column":1},"end":{"line":1876,"column":1}},"children":[{"type":"text","value":"The mutable default argument trap occurs because defaults are evaluated once at definition time","position":{"start":{"line":1876,"column":1},"end":{"line":1876,"column":1}},"key":"rXQfHy1M4m"}],"key":"aCvXeDAtDE"},{"type":"listItem","spread":true,"position":{"start":{"line":1877,"column":1},"end":{"line":1877,"column":1}},"children":[{"type":"text","value":"Always use ","position":{"start":{"line":1877,"column":1},"end":{"line":1877,"column":1}},"key":"k3fbLytBo3"},{"type":"inlineCode","value":"None","position":{"start":{"line":1877,"column":1},"end":{"line":1877,"column":1}},"key":"J5LMM3ouE7"},{"type":"text","value":" as a sentinel for mutable default arguments","position":{"start":{"line":1877,"column":1},"end":{"line":1877,"column":1}},"key":"Uri2Z9vrpd"}],"key":"ASlmWC3waC"},{"type":"listItem","spread":true,"position":{"start":{"line":1878,"column":1},"end":{"line":1878,"column":1}},"children":[{"type":"text","value":"Python searches for variables using LEGB: Local, Enclosing, Global, Built-in","position":{"start":{"line":1878,"column":1},"end":{"line":1878,"column":1}},"key":"NiQKVXrIcH"}],"key":"Vgsja8ZqIB"},{"type":"listItem","spread":true,"position":{"start":{"line":1879,"column":1},"end":{"line":1879,"column":1}},"children":[{"type":"text","value":"Global variables make code hard to test, debug, and parallelize","position":{"start":{"line":1879,"column":1},"end":{"line":1879,"column":1}},"key":"dHEzb1B3Cv"}],"key":"m2CtHtKrJh"},{"type":"listItem","spread":true,"position":{"start":{"line":1880,"column":1},"end":{"line":1880,"column":1}},"children":[{"type":"text","value":"Lambda functions are useful for simple operations but limited to single expressions","position":{"start":{"line":1880,"column":1},"end":{"line":1880,"column":1}},"key":"uZsE9Ahxvk"}],"key":"G1FDWSdP1A"},{"type":"listItem","spread":true,"position":{"start":{"line":1881,"column":1},"end":{"line":1881,"column":1}},"children":[{"type":"text","value":"Functional programming concepts (map, filter, reduce) prepare you for modern frameworks","position":{"start":{"line":1881,"column":1},"end":{"line":1881,"column":1}},"key":"Zss1rxqslR"}],"key":"un5o6aB4DU"},{"type":"listItem","spread":true,"position":{"start":{"line":1882,"column":1},"end":{"line":1882,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":1882,"column":1},"end":{"line":1882,"column":1}},"key":"e1MWwYVnaQ"},{"type":"inlineCode","value":"if __name__ == \"__main__\"","position":{"start":{"line":1882,"column":1},"end":{"line":1882,"column":1}},"key":"FsAKr0N2qa"},{"type":"text","value":" pattern makes modules both importable and executable","position":{"start":{"line":1882,"column":1},"end":{"line":1882,"column":1}},"key":"YJqrEkWe1E"}],"key":"rWdhjCe1jx"},{"type":"listItem","spread":true,"position":{"start":{"line":1883,"column":1},"end":{"line":1883,"column":1}},"children":[{"type":"text","value":"Never use ","position":{"start":{"line":1883,"column":1},"end":{"line":1883,"column":1}},"key":"rWj8uzfiAA"},{"type":"inlineCode","value":"from module import *","position":{"start":{"line":1883,"column":1},"end":{"line":1883,"column":1}},"key":"uws2Y2sr9c"},{"type":"text","value":" in production code—it causes namespace pollution","position":{"start":{"line":1883,"column":1},"end":{"line":1883,"column":1}},"key":"Mu67LK7AZl"}],"key":"fhZ9OMISd5"},{"type":"listItem","spread":true,"position":{"start":{"line":1884,"column":1},"end":{"line":1884,"column":1}},"children":[{"type":"text","value":"Docstrings are essential for scientific code that others will use and maintain","position":{"start":{"line":1884,"column":1},"end":{"line":1884,"column":1}},"key":"LQ5NgxZJxW"}],"key":"bMH65AYjov"},{"type":"listItem","spread":true,"position":{"start":{"line":1885,"column":1},"end":{"line":1885,"column":1}},"children":[{"type":"text","value":"Function call overhead matters only in tight loops with trivial operations","position":{"start":{"line":1885,"column":1},"end":{"line":1885,"column":1}},"key":"Hh3dQnJhj2"}],"key":"LnQqHp2XTL"},{"type":"listItem","spread":true,"position":{"start":{"line":1886,"column":1},"end":{"line":1886,"column":1}},"children":[{"type":"text","value":"Memoization can dramatically speed up expensive repeated calculations","position":{"start":{"line":1886,"column":1},"end":{"line":1886,"column":1}},"key":"JSGdnUxOQJ"}],"key":"o1W7vd2YnU"},{"type":"listItem","spread":true,"position":{"start":{"line":1887,"column":1},"end":{"line":1887,"column":1}},"children":[{"type":"text","value":"Testing and validation functions are as important as calculation functions","position":{"start":{"line":1887,"column":1},"end":{"line":1887,"column":1}},"key":"TSSNqJA5q3"}],"key":"omorDUnTIu"},{"type":"listItem","spread":true,"position":{"start":{"line":1888,"column":1},"end":{"line":1889,"column":1}},"children":[{"type":"text","value":"Performance optimization should follow: algorithm → vectorization → caching → parallelization","position":{"start":{"line":1888,"column":1},"end":{"line":1888,"column":1}},"key":"n83IG3v3sr"}],"key":"l5zD8wfuP1"}],"key":"oaKTTBse1z"},{"type":"heading","depth":2,"position":{"start":{"line":1890,"column":1},"end":{"line":1890,"column":1}},"children":[{"type":"text","value":"Quick Reference Tables","position":{"start":{"line":1890,"column":1},"end":{"line":1890,"column":1}},"key":"zDzJHGuZuA"}],"identifier":"quick-reference-tables","label":"Quick Reference Tables","html_id":"quick-reference-tables","implicit":true,"key":"PTGPEiPZTZ"},{"type":"heading","depth":3,"position":{"start":{"line":1892,"column":1},"end":{"line":1892,"column":1}},"children":[{"type":"text","value":"Function Definition Patterns","position":{"start":{"line":1892,"column":1},"end":{"line":1892,"column":1}},"key":"tK8rAhOHMU"}],"identifier":"function-definition-patterns","label":"Function Definition Patterns","html_id":"function-definition-patterns","implicit":true,"key":"UWA6siaamt"},{"type":"table","position":{"start":{"line":1894,"column":1},"end":{"line":1903,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1894,"column":1},"end":{"line":1894,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1894,"column":1},"end":{"line":1894,"column":1}},"children":[{"type":"text","value":"Pattern","position":{"start":{"line":1894,"column":1},"end":{"line":1894,"column":1}},"key":"m81xWMF6Tj"}],"key":"z0p9wCnQ4k"},{"type":"tableCell","header":true,"position":{"start":{"line":1894,"column":1},"end":{"line":1894,"column":1}},"children":[{"type":"text","value":"Syntax","position":{"start":{"line":1894,"column":1},"end":{"line":1894,"column":1}},"key":"DWgGISyAQj"}],"key":"OkjllOyB1I"},{"type":"tableCell","header":true,"position":{"start":{"line":1894,"column":1},"end":{"line":1894,"column":1}},"children":[{"type":"text","value":"Use Case","position":{"start":{"line":1894,"column":1},"end":{"line":1894,"column":1}},"key":"GmlyilykPk"}],"key":"xjQHEYOlyW"}],"key":"j3MY72Ik8A"},{"type":"tableRow","position":{"start":{"line":1896,"column":1},"end":{"line":1896,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1896,"column":1},"end":{"line":1896,"column":1}},"children":[{"type":"text","value":"Basic function","position":{"start":{"line":1896,"column":1},"end":{"line":1896,"column":1}},"key":"Dnlgj5mBt4"}],"key":"gYZA93gouz"},{"type":"tableCell","position":{"start":{"line":1896,"column":1},"end":{"line":1896,"column":1}},"children":[{"type":"inlineCode","value":"def func(x, y):","position":{"start":{"line":1896,"column":1},"end":{"line":1896,"column":1}},"key":"nwQHvDorr5"}],"key":"vbWKMoXWEH"},{"type":"tableCell","position":{"start":{"line":1896,"column":1},"end":{"line":1896,"column":1}},"children":[{"type":"text","value":"Simple operations","position":{"start":{"line":1896,"column":1},"end":{"line":1896,"column":1}},"key":"WB7EriRnOS"}],"key":"EMSN1DMu08"}],"key":"OT0C1SlCDl"},{"type":"tableRow","position":{"start":{"line":1897,"column":1},"end":{"line":1897,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1897,"column":1},"end":{"line":1897,"column":1}},"children":[{"type":"text","value":"Positional only","position":{"start":{"line":1897,"column":1},"end":{"line":1897,"column":1}},"key":"ozXEUSBmsK"}],"key":"bYAvXib8LZ"},{"type":"tableCell","position":{"start":{"line":1897,"column":1},"end":{"line":1897,"column":1}},"children":[{"type":"inlineCode","value":"def func(a, b, /):","position":{"start":{"line":1897,"column":1},"end":{"line":1897,"column":1}},"key":"MVyGRxdKta"}],"key":"WLgjtEsc54"},{"type":"tableCell","position":{"start":{"line":1897,"column":1},"end":{"line":1897,"column":1}},"children":[{"type":"text","value":"Force positional","position":{"start":{"line":1897,"column":1},"end":{"line":1897,"column":1}},"key":"IxbUrOl5N3"}],"key":"vLUeVk5UrY"}],"key":"Yie8d4Pqdi"},{"type":"tableRow","position":{"start":{"line":1898,"column":1},"end":{"line":1898,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1898,"column":1},"end":{"line":1898,"column":1}},"children":[{"type":"text","value":"Default arguments","position":{"start":{"line":1898,"column":1},"end":{"line":1898,"column":1}},"key":"Wf5Rnrp8MW"}],"key":"KxmYO6ITTj"},{"type":"tableCell","position":{"start":{"line":1898,"column":1},"end":{"line":1898,"column":1}},"children":[{"type":"inlineCode","value":"def func(x, y=10):","position":{"start":{"line":1898,"column":1},"end":{"line":1898,"column":1}},"key":"wPdyTSsAsE"}],"key":"lqGwoXmt7v"},{"type":"tableCell","position":{"start":{"line":1898,"column":1},"end":{"line":1898,"column":1}},"children":[{"type":"text","value":"Optional parameters","position":{"start":{"line":1898,"column":1},"end":{"line":1898,"column":1}},"key":"xX60MIfjP6"}],"key":"Wje8Lh0nxv"}],"key":"SvEVYHHIq2"},{"type":"tableRow","position":{"start":{"line":1899,"column":1},"end":{"line":1899,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1899,"column":1},"end":{"line":1899,"column":1}},"children":[{"type":"text","value":"Keyword only","position":{"start":{"line":1899,"column":1},"end":{"line":1899,"column":1}},"key":"J2EnwwJCyY"}],"key":"VW2V8LixMG"},{"type":"tableCell","position":{"start":{"line":1899,"column":1},"end":{"line":1899,"column":1}},"children":[{"type":"inlineCode","value":"def func(*, x, y):","position":{"start":{"line":1899,"column":1},"end":{"line":1899,"column":1}},"key":"KXy73c2Hv3"}],"key":"UZLn0ayvO5"},{"type":"tableCell","position":{"start":{"line":1899,"column":1},"end":{"line":1899,"column":1}},"children":[{"type":"text","value":"Force keywords","position":{"start":{"line":1899,"column":1},"end":{"line":1899,"column":1}},"key":"s9S4Cc6y4V"}],"key":"Dpbp91lfxt"}],"key":"gKXvewFXWl"},{"type":"tableRow","position":{"start":{"line":1900,"column":1},"end":{"line":1900,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1900,"column":1},"end":{"line":1900,"column":1}},"children":[{"type":"text","value":"Variable args","position":{"start":{"line":1900,"column":1},"end":{"line":1900,"column":1}},"key":"v7UnryPcgk"}],"key":"XjLRaX1rLG"},{"type":"tableCell","position":{"start":{"line":1900,"column":1},"end":{"line":1900,"column":1}},"children":[{"type":"inlineCode","value":"def func(*args):","position":{"start":{"line":1900,"column":1},"end":{"line":1900,"column":1}},"key":"Evxaz6pMM4"}],"key":"c7doEc0X1L"},{"type":"tableCell","position":{"start":{"line":1900,"column":1},"end":{"line":1900,"column":1}},"children":[{"type":"text","value":"Unknown number of inputs","position":{"start":{"line":1900,"column":1},"end":{"line":1900,"column":1}},"key":"smqgWkuLjF"}],"key":"ssGxReDUjT"}],"key":"M54DFg2Zy1"},{"type":"tableRow","position":{"start":{"line":1901,"column":1},"end":{"line":1901,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1901,"column":1},"end":{"line":1901,"column":1}},"children":[{"type":"text","value":"Keyword args","position":{"start":{"line":1901,"column":1},"end":{"line":1901,"column":1}},"key":"R7Hm0w1yI3"}],"key":"JuFBjjYDPo"},{"type":"tableCell","position":{"start":{"line":1901,"column":1},"end":{"line":1901,"column":1}},"children":[{"type":"inlineCode","value":"def func(**kwargs):","position":{"start":{"line":1901,"column":1},"end":{"line":1901,"column":1}},"key":"g5XEn1WtjP"}],"key":"zlKOvPoURY"},{"type":"tableCell","position":{"start":{"line":1901,"column":1},"end":{"line":1901,"column":1}},"children":[{"type":"text","value":"Flexible options","position":{"start":{"line":1901,"column":1},"end":{"line":1901,"column":1}},"key":"QzRoSph9Ia"}],"key":"O4gsMhSSom"}],"key":"w7QSwra2n6"},{"type":"tableRow","position":{"start":{"line":1902,"column":1},"end":{"line":1902,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1902,"column":1},"end":{"line":1902,"column":1}},"children":[{"type":"text","value":"Combined","position":{"start":{"line":1902,"column":1},"end":{"line":1902,"column":1}},"key":"MokbDfKhbb"}],"key":"eGg0CrZnpI"},{"type":"tableCell","position":{"start":{"line":1902,"column":1},"end":{"line":1902,"column":1}},"children":[{"type":"inlineCode","value":"def func(a, *args, x=1, **kwargs):","position":{"start":{"line":1902,"column":1},"end":{"line":1902,"column":1}},"key":"h93oIW7cPo"}],"key":"LQlOJjk1BQ"},{"type":"tableCell","position":{"start":{"line":1902,"column":1},"end":{"line":1902,"column":1}},"children":[{"type":"text","value":"Maximum flexibility","position":{"start":{"line":1902,"column":1},"end":{"line":1902,"column":1}},"key":"bCITOF62wK"}],"key":"jxS1DDCHPH"}],"key":"rWCespU0zb"},{"type":"tableRow","position":{"start":{"line":1903,"column":1},"end":{"line":1903,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1903,"column":1},"end":{"line":1903,"column":1}},"children":[{"type":"text","value":"Lambda","position":{"start":{"line":1903,"column":1},"end":{"line":1903,"column":1}},"key":"eLv2orlTgN"}],"key":"JAdezcXrf4"},{"type":"tableCell","position":{"start":{"line":1903,"column":1},"end":{"line":1903,"column":1}},"children":[{"type":"inlineCode","value":"lambda x: x**2","position":{"start":{"line":1903,"column":1},"end":{"line":1903,"column":1}},"key":"DdanDkra6T"}],"key":"lg00hHN1yN"},{"type":"tableCell","position":{"start":{"line":1903,"column":1},"end":{"line":1903,"column":1}},"children":[{"type":"text","value":"Simple inline functions","position":{"start":{"line":1903,"column":1},"end":{"line":1903,"column":1}},"key":"Qe7JzAiwjT"}],"key":"NGfLTZcmCx"}],"key":"HzrMcwiIyq"}],"key":"hlZNESO8VD"},{"type":"heading","depth":3,"position":{"start":{"line":1905,"column":1},"end":{"line":1905,"column":1}},"children":[{"type":"text","value":"When to Use Different Argument Types","position":{"start":{"line":1905,"column":1},"end":{"line":1905,"column":1}},"key":"ImwVEKvAdz"}],"identifier":"when-to-use-different-argument-types","label":"When to Use Different Argument Types","html_id":"when-to-use-different-argument-types","implicit":true,"key":"LQDb80lc61"},{"type":"table","position":{"start":{"line":1907,"column":1},"end":{"line":1913,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1907,"column":1},"end":{"line":1907,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1907,"column":1},"end":{"line":1907,"column":1}},"children":[{"type":"text","value":"Argument Type","position":{"start":{"line":1907,"column":1},"end":{"line":1907,"column":1}},"key":"JGOCipEtDG"}],"key":"TZKPU1gtkE"},{"type":"tableCell","header":true,"position":{"start":{"line":1907,"column":1},"end":{"line":1907,"column":1}},"children":[{"type":"text","value":"When to Use","position":{"start":{"line":1907,"column":1},"end":{"line":1907,"column":1}},"key":"JqMzKRLrv7"}],"key":"vOs7sflZCj"},{"type":"tableCell","header":true,"position":{"start":{"line":1907,"column":1},"end":{"line":1907,"column":1}},"children":[{"type":"text","value":"Example","position":{"start":{"line":1907,"column":1},"end":{"line":1907,"column":1}},"key":"aVPR9dFhre"}],"key":"HrhyfPGCV9"}],"key":"ceW24Lb22v"},{"type":"tableRow","position":{"start":{"line":1909,"column":1},"end":{"line":1909,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1909,"column":1},"end":{"line":1909,"column":1}},"children":[{"type":"text","value":"Positional","position":{"start":{"line":1909,"column":1},"end":{"line":1909,"column":1}},"key":"gWwzY4I8KB"}],"key":"ZUL88clC2l"},{"type":"tableCell","position":{"start":{"line":1909,"column":1},"end":{"line":1909,"column":1}},"children":[{"type":"text","value":"Obvious meaning, 1-3 params","position":{"start":{"line":1909,"column":1},"end":{"line":1909,"column":1}},"key":"ygLrCCv4Yr"}],"key":"DaFIyzapz7"},{"type":"tableCell","position":{"start":{"line":1909,"column":1},"end":{"line":1909,"column":1}},"children":[{"type":"inlineCode","value":"power(2, 3)","position":{"start":{"line":1909,"column":1},"end":{"line":1909,"column":1}},"key":"IyQYpNkh61"}],"key":"gwT4niHz3X"}],"key":"biz9wUbsLR"},{"type":"tableRow","position":{"start":{"line":1910,"column":1},"end":{"line":1910,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1910,"column":1},"end":{"line":1910,"column":1}},"children":[{"type":"text","value":"Keyword","position":{"start":{"line":1910,"column":1},"end":{"line":1910,"column":1}},"key":"pzYnNhiCvx"}],"key":"KMt5bFB9bi"},{"type":"tableCell","position":{"start":{"line":1910,"column":1},"end":{"line":1910,"column":1}},"children":[{"type":"text","value":"Many params, optional","position":{"start":{"line":1910,"column":1},"end":{"line":1910,"column":1}},"key":"ZEeOXfckN2"}],"key":"mTpVHAnuPI"},{"type":"tableCell","position":{"start":{"line":1910,"column":1},"end":{"line":1910,"column":1}},"children":[{"type":"inlineCode","value":"plot(data, color='red')","position":{"start":{"line":1910,"column":1},"end":{"line":1910,"column":1}},"key":"qveyQP5kYc"}],"key":"v0zvNkJL95"}],"key":"bbvEEyL5oZ"},{"type":"tableRow","position":{"start":{"line":1911,"column":1},"end":{"line":1911,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1911,"column":1},"end":{"line":1911,"column":1}},"children":[{"type":"text","value":"Default","position":{"start":{"line":1911,"column":1},"end":{"line":1911,"column":1}},"key":"zLhozctgWj"}],"key":"DDVK5XUzdb"},{"type":"tableCell","position":{"start":{"line":1911,"column":1},"end":{"line":1911,"column":1}},"children":[{"type":"text","value":"Common values","position":{"start":{"line":1911,"column":1},"end":{"line":1911,"column":1}},"key":"gA0qvyoEHh"}],"key":"FWN91tHUC1"},{"type":"tableCell","position":{"start":{"line":1911,"column":1},"end":{"line":1911,"column":1}},"children":[{"type":"inlineCode","value":"round(3.14, digits=2)","position":{"start":{"line":1911,"column":1},"end":{"line":1911,"column":1}},"key":"HZ9ZHo12Hp"}],"key":"PNdDRiom7p"}],"key":"EO7us7GCgk"},{"type":"tableRow","position":{"start":{"line":1912,"column":1},"end":{"line":1912,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1912,"column":1},"end":{"line":1912,"column":1}},"children":[{"type":"text","value":"*args","position":{"start":{"line":1912,"column":1},"end":{"line":1912,"column":1}},"key":"RfWtyrCmL5"}],"key":"yTF8p1OIAg"},{"type":"tableCell","position":{"start":{"line":1912,"column":1},"end":{"line":1912,"column":1}},"children":[{"type":"text","value":"Variable inputs","position":{"start":{"line":1912,"column":1},"end":{"line":1912,"column":1}},"key":"fG0CPs7yAz"}],"key":"qSVvbngo97"},{"type":"tableCell","position":{"start":{"line":1912,"column":1},"end":{"line":1912,"column":1}},"children":[{"type":"inlineCode","value":"maximum(1, 2, 3, 4)","position":{"start":{"line":1912,"column":1},"end":{"line":1912,"column":1}},"key":"zGBMOF2dLF"}],"key":"C5bMY47Uan"}],"key":"bytGNnYocd"},{"type":"tableRow","position":{"start":{"line":1913,"column":1},"end":{"line":1913,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1913,"column":1},"end":{"line":1913,"column":1}},"children":[{"type":"text","value":"**kwargs","position":{"start":{"line":1913,"column":1},"end":{"line":1913,"column":1}},"key":"nf3X6j8qcf"}],"key":"y6AwKcTNYP"},{"type":"tableCell","position":{"start":{"line":1913,"column":1},"end":{"line":1913,"column":1}},"children":[{"type":"text","value":"Configuration options","position":{"start":{"line":1913,"column":1},"end":{"line":1913,"column":1}},"key":"mcuVsnXxBM"}],"key":"omlFrAWSrY"},{"type":"tableCell","position":{"start":{"line":1913,"column":1},"end":{"line":1913,"column":1}},"children":[{"type":"inlineCode","value":"setup(debug=True, verbose=False)","position":{"start":{"line":1913,"column":1},"end":{"line":1913,"column":1}},"key":"rG7fo6XHJT"}],"key":"yGLzjSn4px"}],"key":"XlfQyXxXBX"}],"key":"SCZIqDpUO7"},{"type":"heading","depth":3,"position":{"start":{"line":1915,"column":1},"end":{"line":1915,"column":1}},"children":[{"type":"text","value":"Module Import Patterns","position":{"start":{"line":1915,"column":1},"end":{"line":1915,"column":1}},"key":"RgaJn6bPbW"}],"identifier":"module-import-patterns","label":"Module Import Patterns","html_id":"module-import-patterns","implicit":true,"key":"Cd7QP574Ci"},{"type":"table","position":{"start":{"line":1917,"column":1},"end":{"line":1923,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1917,"column":1},"end":{"line":1917,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1917,"column":1},"end":{"line":1917,"column":1}},"children":[{"type":"text","value":"Pattern","position":{"start":{"line":1917,"column":1},"end":{"line":1917,"column":1}},"key":"DSJ39fFBpX"}],"key":"NjhFk2R0Vs"},{"type":"tableCell","header":true,"position":{"start":{"line":1917,"column":1},"end":{"line":1917,"column":1}},"children":[{"type":"text","value":"Example","position":{"start":{"line":1917,"column":1},"end":{"line":1917,"column":1}},"key":"odG83lLkFx"}],"key":"eCuCtmT2Y5"},{"type":"tableCell","header":true,"position":{"start":{"line":1917,"column":1},"end":{"line":1917,"column":1}},"children":[{"type":"text","value":"When to Use","position":{"start":{"line":1917,"column":1},"end":{"line":1917,"column":1}},"key":"XsBmIqkR4Y"}],"key":"GrgQT4su0U"}],"key":"ajw1Izrd9D"},{"type":"tableRow","position":{"start":{"line":1919,"column":1},"end":{"line":1919,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1919,"column":1},"end":{"line":1919,"column":1}},"children":[{"type":"text","value":"Import module","position":{"start":{"line":1919,"column":1},"end":{"line":1919,"column":1}},"key":"alzAQO6FH2"}],"key":"VrCoglMgwj"},{"type":"tableCell","position":{"start":{"line":1919,"column":1},"end":{"line":1919,"column":1}},"children":[{"type":"inlineCode","value":"import numpy","position":{"start":{"line":1919,"column":1},"end":{"line":1919,"column":1}},"key":"PtIATIPsTb"}],"key":"NdZf8wJvkC"},{"type":"tableCell","position":{"start":{"line":1919,"column":1},"end":{"line":1919,"column":1}},"children":[{"type":"text","value":"Use many functions","position":{"start":{"line":1919,"column":1},"end":{"line":1919,"column":1}},"key":"DYHsJI4Fvl"}],"key":"ZIyTCJ2Fih"}],"key":"yaaxAZFRoW"},{"type":"tableRow","position":{"start":{"line":1920,"column":1},"end":{"line":1920,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1920,"column":1},"end":{"line":1920,"column":1}},"children":[{"type":"text","value":"Import with alias","position":{"start":{"line":1920,"column":1},"end":{"line":1920,"column":1}},"key":"Pz8sSbP2Tw"}],"key":"s8557hyABn"},{"type":"tableCell","position":{"start":{"line":1920,"column":1},"end":{"line":1920,"column":1}},"children":[{"type":"inlineCode","value":"import numpy as np","position":{"start":{"line":1920,"column":1},"end":{"line":1920,"column":1}},"key":"OSplrWuR0g"}],"key":"HLWfxzL1h3"},{"type":"tableCell","position":{"start":{"line":1920,"column":1},"end":{"line":1920,"column":1}},"children":[{"type":"text","value":"Standard abbreviations","position":{"start":{"line":1920,"column":1},"end":{"line":1920,"column":1}},"key":"LH023Cx2Y9"}],"key":"RXMTOCcsxA"}],"key":"rIUobN3Hs6"},{"type":"tableRow","position":{"start":{"line":1921,"column":1},"end":{"line":1921,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1921,"column":1},"end":{"line":1921,"column":1}},"children":[{"type":"text","value":"Import specific","position":{"start":{"line":1921,"column":1},"end":{"line":1921,"column":1}},"key":"DbPv2uzj8s"}],"key":"lc8wk30jOY"},{"type":"tableCell","position":{"start":{"line":1921,"column":1},"end":{"line":1921,"column":1}},"children":[{"type":"inlineCode","value":"from math import sin, cos","position":{"start":{"line":1921,"column":1},"end":{"line":1921,"column":1}},"key":"UVemJ8N2EJ"}],"key":"b2wtOn0T7F"},{"type":"tableCell","position":{"start":{"line":1921,"column":1},"end":{"line":1921,"column":1}},"children":[{"type":"text","value":"Few specific functions","position":{"start":{"line":1921,"column":1},"end":{"line":1921,"column":1}},"key":"o5eTV9StF3"}],"key":"hexKJcChzE"}],"key":"gcKRCkenbZ"},{"type":"tableRow","position":{"start":{"line":1922,"column":1},"end":{"line":1922,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1922,"column":1},"end":{"line":1922,"column":1}},"children":[{"type":"text","value":"Import all (avoid!)","position":{"start":{"line":1922,"column":1},"end":{"line":1922,"column":1}},"key":"qpbacmMyrX"}],"key":"o21ltNVcaG"},{"type":"tableCell","position":{"start":{"line":1922,"column":1},"end":{"line":1922,"column":1}},"children":[{"type":"inlineCode","value":"from math import *","position":{"start":{"line":1922,"column":1},"end":{"line":1922,"column":1}},"key":"x7LoNCOVPC"}],"key":"NqFzmPs8RO"},{"type":"tableCell","position":{"start":{"line":1922,"column":1},"end":{"line":1922,"column":1}},"children":[{"type":"text","value":"Never in production","position":{"start":{"line":1922,"column":1},"end":{"line":1922,"column":1}},"key":"V01MNV8mVG"}],"key":"ozeQmMQtYe"}],"key":"AiHbFaPPhp"},{"type":"tableRow","position":{"start":{"line":1923,"column":1},"end":{"line":1923,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1923,"column":1},"end":{"line":1923,"column":1}},"children":[{"type":"text","value":"Relative import","position":{"start":{"line":1923,"column":1},"end":{"line":1923,"column":1}},"key":"g2xHNUQTJP"}],"key":"h3bhQWOSuu"},{"type":"tableCell","position":{"start":{"line":1923,"column":1},"end":{"line":1923,"column":1}},"children":[{"type":"inlineCode","value":"from . import module","position":{"start":{"line":1923,"column":1},"end":{"line":1923,"column":1}},"key":"k3x3R7oDI2"}],"key":"fIlwyA6AnW"},{"type":"tableCell","position":{"start":{"line":1923,"column":1},"end":{"line":1923,"column":1}},"children":[{"type":"text","value":"Within packages","position":{"start":{"line":1923,"column":1},"end":{"line":1923,"column":1}},"key":"qlhxAkXj6B"}],"key":"Q0GmY5G8pM"}],"key":"Ud5mozNQ6r"}],"key":"l54twiYdzx"},{"type":"heading","depth":3,"position":{"start":{"line":1925,"column":1},"end":{"line":1925,"column":1}},"children":[{"type":"text","value":"Common Function Bugs and Fixes","position":{"start":{"line":1925,"column":1},"end":{"line":1925,"column":1}},"key":"sjZN2odq9h"}],"identifier":"common-function-bugs-and-fixes","label":"Common Function Bugs and Fixes","html_id":"common-function-bugs-and-fixes","implicit":true,"key":"FHlFjWgnmS"},{"type":"table","position":{"start":{"line":1927,"column":1},"end":{"line":1934,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1927,"column":1},"end":{"line":1927,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1927,"column":1},"end":{"line":1927,"column":1}},"children":[{"type":"text","value":"Problem","position":{"start":{"line":1927,"column":1},"end":{"line":1927,"column":1}},"key":"ywKxhGGkTU"}],"key":"Bcp0sj9tK6"},{"type":"tableCell","header":true,"position":{"start":{"line":1927,"column":1},"end":{"line":1927,"column":1}},"children":[{"type":"text","value":"Symptom","position":{"start":{"line":1927,"column":1},"end":{"line":1927,"column":1}},"key":"fUpHYtbNET"}],"key":"ofjiNN97Af"},{"type":"tableCell","header":true,"position":{"start":{"line":1927,"column":1},"end":{"line":1927,"column":1}},"children":[{"type":"text","value":"Fix","position":{"start":{"line":1927,"column":1},"end":{"line":1927,"column":1}},"key":"oz9R4GEcFU"}],"key":"SrN2JqqSyZ"}],"key":"XatySDDMrG"},{"type":"tableRow","position":{"start":{"line":1929,"column":1},"end":{"line":1929,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1929,"column":1},"end":{"line":1929,"column":1}},"children":[{"type":"text","value":"Mutable default","position":{"start":{"line":1929,"column":1},"end":{"line":1929,"column":1}},"key":"nGbVClVpz7"}],"key":"aHQpTD2LGL"},{"type":"tableCell","position":{"start":{"line":1929,"column":1},"end":{"line":1929,"column":1}},"children":[{"type":"text","value":"Data persists between calls","position":{"start":{"line":1929,"column":1},"end":{"line":1929,"column":1}},"key":"aSSne1E9tB"}],"key":"Yx3wRt36zz"},{"type":"tableCell","position":{"start":{"line":1929,"column":1},"end":{"line":1929,"column":1}},"children":[{"type":"text","value":"Use ","position":{"start":{"line":1929,"column":1},"end":{"line":1929,"column":1}},"key":"gi5pka1M2H"},{"type":"inlineCode","value":"None","position":{"start":{"line":1929,"column":1},"end":{"line":1929,"column":1}},"key":"je2fPD7O4W"},{"type":"text","value":" sentinel","position":{"start":{"line":1929,"column":1},"end":{"line":1929,"column":1}},"key":"JTM49NpbMw"}],"key":"yTovgfeuyw"}],"key":"O5FsaBm4kT"},{"type":"tableRow","position":{"start":{"line":1930,"column":1},"end":{"line":1930,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1930,"column":1},"end":{"line":1930,"column":1}},"children":[{"type":"text","value":"UnboundLocalError","position":{"start":{"line":1930,"column":1},"end":{"line":1930,"column":1}},"key":"FTR2yOolQY"}],"key":"vwJGkjMRRl"},{"type":"tableCell","position":{"start":{"line":1930,"column":1},"end":{"line":1930,"column":1}},"children":[{"type":"text","value":"Can’t modify global","position":{"start":{"line":1930,"column":1},"end":{"line":1930,"column":1}},"key":"aDcN6GXWdl"}],"key":"GJe0qhZ0d7"},{"type":"tableCell","position":{"start":{"line":1930,"column":1},"end":{"line":1930,"column":1}},"children":[{"type":"text","value":"Use ","position":{"start":{"line":1930,"column":1},"end":{"line":1930,"column":1}},"key":"A9NLwDkVRS"},{"type":"inlineCode","value":"global","position":{"start":{"line":1930,"column":1},"end":{"line":1930,"column":1}},"key":"J9Fv29djLQ"},{"type":"text","value":" or pass value","position":{"start":{"line":1930,"column":1},"end":{"line":1930,"column":1}},"key":"BOGpPulTGr"}],"key":"IPSe0YMRf2"}],"key":"O7t1vHL8jG"},{"type":"tableRow","position":{"start":{"line":1931,"column":1},"end":{"line":1931,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1931,"column":1},"end":{"line":1931,"column":1}},"children":[{"type":"text","value":"Missing return","position":{"start":{"line":1931,"column":1},"end":{"line":1931,"column":1}},"key":"dlTqNfHI1M"}],"key":"kik6dyd3q6"},{"type":"tableCell","position":{"start":{"line":1931,"column":1},"end":{"line":1931,"column":1}},"children":[{"type":"text","value":"Function returns None","position":{"start":{"line":1931,"column":1},"end":{"line":1931,"column":1}},"key":"wLc3ObFY8y"}],"key":"V1idE1LglP"},{"type":"tableCell","position":{"start":{"line":1931,"column":1},"end":{"line":1931,"column":1}},"children":[{"type":"text","value":"Add ","position":{"start":{"line":1931,"column":1},"end":{"line":1931,"column":1}},"key":"EliFd26Zfr"},{"type":"inlineCode","value":"return","position":{"start":{"line":1931,"column":1},"end":{"line":1931,"column":1}},"key":"CRSCTsx3ZW"},{"type":"text","value":" statement","position":{"start":{"line":1931,"column":1},"end":{"line":1931,"column":1}},"key":"IGMAY151qH"}],"key":"kWvkUgMBy8"}],"key":"Xff0Jzr10l"},{"type":"tableRow","position":{"start":{"line":1932,"column":1},"end":{"line":1932,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1932,"column":1},"end":{"line":1932,"column":1}},"children":[{"type":"text","value":"Namespace pollution","position":{"start":{"line":1932,"column":1},"end":{"line":1932,"column":1}},"key":"ZHLwZjXKvK"}],"key":"Kdz0YPqvRG"},{"type":"tableCell","position":{"start":{"line":1932,"column":1},"end":{"line":1932,"column":1}},"children":[{"type":"text","value":"Name conflicts","position":{"start":{"line":1932,"column":1},"end":{"line":1932,"column":1}},"key":"aMk9SL0qlF"}],"key":"dS95pMo7oV"},{"type":"tableCell","position":{"start":{"line":1932,"column":1},"end":{"line":1932,"column":1}},"children":[{"type":"text","value":"Avoid wildcard imports","position":{"start":{"line":1932,"column":1},"end":{"line":1932,"column":1}},"key":"dU2JLvROh5"}],"key":"gv9fBVzHb7"}],"key":"Tr8NCkUshF"},{"type":"tableRow","position":{"start":{"line":1933,"column":1},"end":{"line":1933,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1933,"column":1},"end":{"line":1933,"column":1}},"children":[{"type":"text","value":"Slow recursion","position":{"start":{"line":1933,"column":1},"end":{"line":1933,"column":1}},"key":"jp7hn68Kwg"}],"key":"hREdxf4UcK"},{"type":"tableCell","position":{"start":{"line":1933,"column":1},"end":{"line":1933,"column":1}},"children":[{"type":"text","value":"Exponential time","position":{"start":{"line":1933,"column":1},"end":{"line":1933,"column":1}},"key":"vIOrviKAN9"}],"key":"CfhdgHS42K"},{"type":"tableCell","position":{"start":{"line":1933,"column":1},"end":{"line":1933,"column":1}},"children":[{"type":"text","value":"Add memoization","position":{"start":{"line":1933,"column":1},"end":{"line":1933,"column":1}},"key":"z84uQYl3aa"}],"key":"Ec97mQ9y1m"}],"key":"eW3aH4YWAM"},{"type":"tableRow","position":{"start":{"line":1934,"column":1},"end":{"line":1934,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1934,"column":1},"end":{"line":1934,"column":1}},"children":[{"type":"text","value":"Type confusion","position":{"start":{"line":1934,"column":1},"end":{"line":1934,"column":1}},"key":"iNu8xM4bWE"}],"key":"w4TrsV7hHv"},{"type":"tableCell","position":{"start":{"line":1934,"column":1},"end":{"line":1934,"column":1}},"children":[{"type":"text","value":"Unexpected types","position":{"start":{"line":1934,"column":1},"end":{"line":1934,"column":1}},"key":"xwEu1Y1YYF"}],"key":"GgY4Jl4Hry"},{"type":"tableCell","position":{"start":{"line":1934,"column":1},"end":{"line":1934,"column":1}},"children":[{"type":"text","value":"Add type hints/validation","position":{"start":{"line":1934,"column":1},"end":{"line":1934,"column":1}},"key":"ncbmYfRLPy"}],"key":"ynpBfW7Xj5"}],"key":"FQi60ZInRQ"}],"key":"uZcU6ovxiS"},{"type":"heading","depth":2,"position":{"start":{"line":1936,"column":1},"end":{"line":1936,"column":1}},"children":[{"type":"text","value":"Next Chapter Preview","position":{"start":{"line":1936,"column":1},"end":{"line":1936,"column":1}},"key":"gISwJAI30k"}],"identifier":"next-chapter-preview","label":"Next Chapter Preview","html_id":"next-chapter-preview","implicit":true,"key":"rLv1qztR0r"},{"type":"paragraph","position":{"start":{"line":1938,"column":1},"end":{"line":1938,"column":1}},"children":[{"type":"text","value":"With functions and modules mastered, Chapter 6 introduces Object-Oriented Programming (OOP)—a paradigm that bundles data and behavior together. You’ll learn to create classes that model physical systems naturally: a ","position":{"start":{"line":1938,"column":1},"end":{"line":1938,"column":1}},"key":"OU9pgzrI0d"},{"type":"inlineCode","value":"Particle","position":{"start":{"line":1938,"column":1},"end":{"line":1938,"column":1}},"key":"J8rtSjG0Qh"},{"type":"text","value":" class with position and velocity attributes, methods to calculate energy and momentum, and special methods that make your objects work seamlessly with Python’s built-in functions.","position":{"start":{"line":1938,"column":1},"end":{"line":1938,"column":1}},"key":"S5WKMdXucc"}],"key":"z1zImfPcIG"},{"type":"paragraph","position":{"start":{"line":1940,"column":1},"end":{"line":1940,"column":1}},"children":[{"type":"text","value":"The functional programming concepts from this chapter provide essential background for OOP. Methods are just functions attached to objects, and understanding scope prepares you for the ","position":{"start":{"line":1940,"column":1},"end":{"line":1940,"column":1}},"key":"KUwdO2baS1"},{"type":"inlineCode","value":"self","position":{"start":{"line":1940,"column":1},"end":{"line":1940,"column":1}},"key":"TSxZ81m8th"},{"type":"text","value":" parameter that confuses many beginners. The module organization skills you’ve developed will expand to organizing classes and building object hierarchies. Most importantly, the design thinking you’ve practiced—creating clean interfaces and thinking about contracts—directly applies to designing effective classes that model the complex systems you’ll encounter in computational physics.","position":{"start":{"line":1940,"column":1},"end":{"line":1940,"column":1}},"key":"trRnzi1kDi"}],"key":"Mpo9jeVxwR"},{"type":"heading","depth":2,"position":{"start":{"line":1942,"column":1},"end":{"line":1942,"column":1}},"children":[{"type":"text","value":"References","position":{"start":{"line":1942,"column":1},"end":{"line":1942,"column":1}},"key":"Euv4IvDwa0"}],"identifier":"references","label":"References","html_id":"references","implicit":true,"key":"wxnQ84B9CT"},{"type":"heading","depth":3,"position":{"start":{"line":1944,"column":1},"end":{"line":1944,"column":1}},"children":[{"type":"text","value":"Historical Events and Technical Details","position":{"start":{"line":1944,"column":1},"end":{"line":1944,"column":1}},"key":"p4wv1XEOx5"}],"identifier":"historical-events-and-technical-details","label":"Historical Events and Technical Details","html_id":"historical-events-and-technical-details","implicit":true,"key":"yqz4Q9vCHQ"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":1946,"column":1},"end":{"line":1965,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1946,"column":1},"end":{"line":1950,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":1946,"column":1},"end":{"line":1946,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1946,"column":1},"end":{"line":1946,"column":1}},"children":[{"type":"text","value":"Ariane 5 Flight 501 Failure (1996)","position":{"start":{"line":1946,"column":1},"end":{"line":1946,"column":1}},"key":"mze42XCQfV"}],"key":"srwfdBZbey"}],"key":"vHYyoT1WGj"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1947,"column":1},"end":{"line":1950,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1947,"column":1},"end":{"line":1947,"column":1}},"children":[{"type":"text","value":"Lions, J. L. et al. (1996). “ARIANE 5 Flight 501 Failure: Report by the Inquiry Board.” European Space Agency. Paris: ESA.","position":{"start":{"line":1947,"column":1},"end":{"line":1947,"column":1}},"key":"vhO5BKkxAX"}],"key":"UUrU9LjTR6"},{"type":"listItem","spread":true,"position":{"start":{"line":1948,"column":1},"end":{"line":1948,"column":1}},"children":[{"type":"text","value":"Gleick, J. (1996). “A Bug and A Crash.” ","position":{"start":{"line":1948,"column":1},"end":{"line":1948,"column":1}},"key":"ip9wwDS4mV"},{"type":"emphasis","position":{"start":{"line":1948,"column":1},"end":{"line":1948,"column":1}},"children":[{"type":"text","value":"The New York Times Magazine","position":{"start":{"line":1948,"column":1},"end":{"line":1948,"column":1}},"key":"jbCLcIbuEQ"}],"key":"a3SjfPddij"},{"type":"text","value":", December 1, 1996.","position":{"start":{"line":1948,"column":1},"end":{"line":1948,"column":1}},"key":"ueAW5FWzrI"}],"key":"B0Qe0j8c3z"},{"type":"listItem","spread":true,"position":{"start":{"line":1949,"column":1},"end":{"line":1950,"column":1}},"children":[{"type":"text","value":"Nuseibeh, B. (1997). “Ariane 5: Who Dunnit?” ","position":{"start":{"line":1949,"column":1},"end":{"line":1949,"column":1}},"key":"UKDw5eEqaR"},{"type":"emphasis","position":{"start":{"line":1949,"column":1},"end":{"line":1949,"column":1}},"children":[{"type":"text","value":"IEEE Software","position":{"start":{"line":1949,"column":1},"end":{"line":1949,"column":1}},"key":"T6IlsbsJTt"}],"key":"BiKlwfWDuI"},{"type":"text","value":", 14(3), 15-16.","position":{"start":{"line":1949,"column":1},"end":{"line":1949,"column":1}},"key":"aO6ZvoezgC"}],"key":"ZmsaDBls0U"}],"key":"IRDJze2aVK"}],"key":"QF5FHlhSzB"},{"type":"listItem","spread":true,"position":{"start":{"line":1951,"column":1},"end":{"line":1956,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":1951,"column":1},"end":{"line":1951,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1951,"column":1},"end":{"line":1951,"column":1}},"children":[{"type":"text","value":"LIGO Gravitational Wave Detection (2015)","position":{"start":{"line":1951,"column":1},"end":{"line":1951,"column":1}},"key":"qPpXAyWn5s"}],"key":"Hs0t2DGIHA"}],"key":"a5ZZgSpt42"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1952,"column":1},"end":{"line":1956,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1952,"column":1},"end":{"line":1952,"column":1}},"children":[{"type":"text","value":"Abbott, B. P. et al. (LIGO Scientific Collaboration) (2016). “Observation of Gravitational Waves from a Binary Black Hole Merger.” ","position":{"start":{"line":1952,"column":1},"end":{"line":1952,"column":1}},"key":"ftdSS781y3"},{"type":"emphasis","position":{"start":{"line":1952,"column":1},"end":{"line":1952,"column":1}},"children":[{"type":"text","value":"Physical Review Letters","position":{"start":{"line":1952,"column":1},"end":{"line":1952,"column":1}},"key":"sU9cWZUs2w"}],"key":"PXICWhn8HL"},{"type":"text","value":", 116(6), 061102.","position":{"start":{"line":1952,"column":1},"end":{"line":1952,"column":1}},"key":"oYlzDRxixq"}],"key":"QBlFMRChEK"},{"type":"listItem","spread":true,"position":{"start":{"line":1953,"column":1},"end":{"line":1953,"column":1}},"children":[{"type":"text","value":"Abbott, B. P. et al. (2016). “GW150914: The Advanced LIGO Detectors in the Era of First Discoveries.” ","position":{"start":{"line":1953,"column":1},"end":{"line":1953,"column":1}},"key":"k4j4xKW9TX"},{"type":"emphasis","position":{"start":{"line":1953,"column":1},"end":{"line":1953,"column":1}},"children":[{"type":"text","value":"Physical Review Letters","position":{"start":{"line":1953,"column":1},"end":{"line":1953,"column":1}},"key":"yVw3LH2REf"}],"key":"DBtxqv3Jyf"},{"type":"text","value":", 116(13), 131103.","position":{"start":{"line":1953,"column":1},"end":{"line":1953,"column":1}},"key":"zxZ3dYbvLs"}],"key":"nr4M9QlOHF"},{"type":"listItem","spread":true,"position":{"start":{"line":1954,"column":1},"end":{"line":1954,"column":1}},"children":[{"type":"text","value":"LIGO Scientific Collaboration. (2021). “LIGO Algorithm Library - LALSuite.” Available at: ","position":{"start":{"line":1954,"column":1},"end":{"line":1954,"column":1}},"key":"grtz237es4"},{"type":"link","url":"https://lscsoft.docs.ligo.org/lalsuite/","position":{"start":{"line":1954,"column":1},"end":{"line":1954,"column":1}},"children":[{"type":"text","value":"https://​lscsoft​.docs​.ligo​.org​/lalsuite/","position":{"start":{"line":1954,"column":1},"end":{"line":1954,"column":1}},"key":"sOkn9nfrng"}],"urlSource":"https://lscsoft.docs.ligo.org/lalsuite/","key":"k9Y7eoUT9S"}],"key":"sFJEj63IgQ"},{"type":"listItem","spread":true,"position":{"start":{"line":1955,"column":1},"end":{"line":1956,"column":1}},"children":[{"type":"text","value":"LIGO Open Science Center. (2024). “LIGO Open Data.” Available at: ","position":{"start":{"line":1955,"column":1},"end":{"line":1955,"column":1}},"key":"f4UoQzAGfI"},{"type":"link","url":"https://www.gw-openscience.org/","position":{"start":{"line":1955,"column":1},"end":{"line":1955,"column":1}},"children":[{"type":"text","value":"https://​www​.gw​-openscience​.org/","position":{"start":{"line":1955,"column":1},"end":{"line":1955,"column":1}},"key":"XAgzTiq1wt"}],"urlSource":"https://www.gw-openscience.org/","key":"cIhYANkgK0"}],"key":"TNy2hJprAz"}],"key":"ctwSvduqq4"}],"key":"wSRrX3IvMQ"},{"type":"listItem","spread":true,"position":{"start":{"line":1957,"column":1},"end":{"line":1961,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":1957,"column":1},"end":{"line":1957,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1957,"column":1},"end":{"line":1957,"column":1}},"children":[{"type":"text","value":"Hubble Space Telescope Mirror Error (1990)","position":{"start":{"line":1957,"column":1},"end":{"line":1957,"column":1}},"key":"h8LczFBZFW"}],"key":"B7mGCrS0E6"}],"key":"NwSZsbeU6R"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1958,"column":1},"end":{"line":1961,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1958,"column":1},"end":{"line":1958,"column":1}},"children":[{"type":"text","value":"Allen, L. et al. (1990). “The Hubble Space Telescope Optical Systems Failure Report.” NASA-TM-103443.","position":{"start":{"line":1958,"column":1},"end":{"line":1958,"column":1}},"key":"w3AMv03mTe"}],"key":"jGSbCK7a6K"},{"type":"listItem","spread":true,"position":{"start":{"line":1959,"column":1},"end":{"line":1959,"column":1}},"children":[{"type":"text","value":"Chaisson, E. (1994). ","position":{"start":{"line":1959,"column":1},"end":{"line":1959,"column":1}},"key":"NHRV5lNz6v"},{"type":"emphasis","position":{"start":{"line":1959,"column":1},"end":{"line":1959,"column":1}},"children":[{"type":"text","value":"The Hubble Wars","position":{"start":{"line":1959,"column":1},"end":{"line":1959,"column":1}},"key":"LE4PJ7MyzT"}],"key":"h1c5hmkyX4"},{"type":"text","value":". New York: HarperCollins. ISBN 0-06-017114-6.","position":{"start":{"line":1959,"column":1},"end":{"line":1959,"column":1}},"key":"BBgbfbHssa"}],"key":"u3LRfX5Mkt"},{"type":"listItem","spread":true,"position":{"start":{"line":1960,"column":1},"end":{"line":1961,"column":1}},"children":[{"type":"text","value":"Leckrone, D. S. (1995). “The Hubble Space Telescope Servicing Mission.” ","position":{"start":{"line":1960,"column":1},"end":{"line":1960,"column":1}},"key":"KdvEJ7fqND"},{"type":"emphasis","position":{"start":{"line":1960,"column":1},"end":{"line":1960,"column":1}},"children":[{"type":"text","value":"Astrophysics and Space Science","position":{"start":{"line":1960,"column":1},"end":{"line":1960,"column":1}},"key":"AFys2ng5cP"}],"key":"F579dQJ76m"},{"type":"text","value":", 226(1), 1-24.","position":{"start":{"line":1960,"column":1},"end":{"line":1960,"column":1}},"key":"XNrwZntvjW"}],"key":"wNN6SBlMZj"}],"key":"Ejs0KYZrN6"}],"key":"zkN0yphuLx"},{"type":"listItem","spread":true,"position":{"start":{"line":1962,"column":1},"end":{"line":1965,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":1962,"column":1},"end":{"line":1962,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1962,"column":1},"end":{"line":1962,"column":1}},"children":[{"type":"text","value":"Mars Climate Orbiter Loss (1999)","position":{"start":{"line":1962,"column":1},"end":{"line":1962,"column":1}},"key":"Ih2A7NKUBu"}],"key":"xl6nLd7qJS"}],"key":"qDrwejX0hw"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1963,"column":1},"end":{"line":1965,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1963,"column":1},"end":{"line":1963,"column":1}},"children":[{"type":"text","value":"Stephenson, A. G. et al. (1999). “Mars Climate Orbiter Mishap Investigation Board Report.” NASA.","position":{"start":{"line":1963,"column":1},"end":{"line":1963,"column":1}},"key":"nzcS7jJ0EQ"}],"key":"CXeZziFPTz"},{"type":"listItem","spread":true,"position":{"start":{"line":1964,"column":1},"end":{"line":1965,"column":1}},"children":[{"type":"text","value":"Oberg, J. (1999). “Why the Mars Probe Went Off Course.” ","position":{"start":{"line":1964,"column":1},"end":{"line":1964,"column":1}},"key":"KBAH0MkEnU"},{"type":"emphasis","position":{"start":{"line":1964,"column":1},"end":{"line":1964,"column":1}},"children":[{"type":"text","value":"IEEE Spectrum","position":{"start":{"line":1964,"column":1},"end":{"line":1964,"column":1}},"key":"z6WvTRQVNa"}],"key":"jdnvS618R3"},{"type":"text","value":", 36(12), 34-39.","position":{"start":{"line":1964,"column":1},"end":{"line":1964,"column":1}},"key":"vOgrP9WpPf"}],"key":"vHabOmSKjn"}],"key":"OiLukuyF8a"}],"key":"XGRjDsfIQU"}],"key":"IRzw2uddgh"},{"type":"heading","depth":3,"position":{"start":{"line":1966,"column":1},"end":{"line":1966,"column":1}},"children":[{"type":"text","value":"Python Documentation","position":{"start":{"line":1966,"column":1},"end":{"line":1966,"column":1}},"key":"VhaFjJNgFw"}],"identifier":"python-documentation","label":"Python Documentation","html_id":"python-documentation","implicit":true,"key":"qX7702sRmC"},{"type":"list","ordered":true,"start":5,"spread":false,"position":{"start":{"line":1968,"column":1},"end":{"line":1973,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1968,"column":1},"end":{"line":1970,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":1968,"column":1},"end":{"line":1968,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1968,"column":1},"end":{"line":1968,"column":1}},"children":[{"type":"text","value":"Python Language Reference","position":{"start":{"line":1968,"column":1},"end":{"line":1968,"column":1}},"key":"AmlFA4ZauU"}],"key":"Pst6l8SVmL"}],"key":"MHJofQoSje"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1969,"column":1},"end":{"line":1970,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1969,"column":1},"end":{"line":1970,"column":1}},"children":[{"type":"text","value":"Van Rossum, G., & Drake, F. L. (2024). “Python Language Reference, version 3.12.” Python Software Foundation. Available at: ","position":{"start":{"line":1969,"column":1},"end":{"line":1969,"column":1}},"key":"cmEJxwISld"},{"type":"link","url":"https://docs.python.org/3/reference/","position":{"start":{"line":1969,"column":1},"end":{"line":1969,"column":1}},"children":[{"type":"text","value":"https://​docs​.python​.org​/3​/reference/","position":{"start":{"line":1969,"column":1},"end":{"line":1969,"column":1}},"key":"ft23426s0k"}],"urlSource":"https://docs.python.org/3/reference/","key":"peFUVntPaE"}],"key":"CUNAyUXszk"}],"key":"hZLbUiEpht"}],"key":"U18iEZo1pI"},{"type":"listItem","spread":true,"position":{"start":{"line":1971,"column":1},"end":{"line":1973,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":1971,"column":1},"end":{"line":1971,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1971,"column":1},"end":{"line":1971,"column":1}},"children":[{"type":"text","value":"Scientific Python Resources","position":{"start":{"line":1971,"column":1},"end":{"line":1971,"column":1}},"key":"wXsCkrYAnm"}],"key":"keF5it2moM"}],"key":"vFtdBy15yh"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1972,"column":1},"end":{"line":1973,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1972,"column":1},"end":{"line":1972,"column":1}},"children":[{"type":"text","value":"Harris, C. R. et al. (2020). “Array programming with NumPy.” ","position":{"start":{"line":1972,"column":1},"end":{"line":1972,"column":1}},"key":"Kv65uu3rwZ"},{"type":"emphasis","position":{"start":{"line":1972,"column":1},"end":{"line":1972,"column":1}},"children":[{"type":"text","value":"Nature","position":{"start":{"line":1972,"column":1},"end":{"line":1972,"column":1}},"key":"CspV6hJlTd"}],"key":"QHSzK9eSMb"},{"type":"text","value":", 585(7825), 357-362.","position":{"start":{"line":1972,"column":1},"end":{"line":1972,"column":1}},"key":"OEdvp9oYIT"}],"key":"AxiACzKPlt"},{"type":"listItem","spread":true,"position":{"start":{"line":1973,"column":1},"end":{"line":1973,"column":1}},"children":[{"type":"text","value":"VanderPlas, J. (2016). ","position":{"start":{"line":1973,"column":1},"end":{"line":1973,"column":1}},"key":"nr36X8Omgf"},{"type":"emphasis","position":{"start":{"line":1973,"column":1},"end":{"line":1973,"column":1}},"children":[{"type":"text","value":"Python Data Science Handbook","position":{"start":{"line":1973,"column":1},"end":{"line":1973,"column":1}},"key":"dDZ5q8lwVA"}],"key":"eIIr37ZNpM"},{"type":"text","value":". O’Reilly Media. ISBN: 978-1491912058.","position":{"start":{"line":1973,"column":1},"end":{"line":1973,"column":1}},"key":"ArRetrwQ7n"}],"key":"a3X3mIc8aB"}],"key":"u0hFRikC9N"}],"key":"qjxYhvcVDo"}],"key":"k2eCKqgt1s"}],"key":"z7TKPixQ5p"}],"key":"oLLUHDGyma"},"references":{"cite":{"order":[],"data":{}}}}