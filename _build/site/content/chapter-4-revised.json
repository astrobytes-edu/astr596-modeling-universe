{"version":2,"kind":"Notebook","sha256":"9c301cf88528ce10201df57d661757f176bad031c6939772e0b1c101f4ee3447","slug":"chapter-4-revised","location":"/03-scientific-computing-with-python/01-python-fundamentals/chapter-4-revised.md","dependencies":[],"frontmatter":{"title":"Chapter 4: Data Structures - Organizing Scientific Data","kernelspec":{"name":"python3","display_name":"Python 3","language":"python"},"jupytext":{"formats":"md:myst","text_representation":{"extension":".md","format_name":"myst"}},"content_includes_title":false,"authors":[{"nameParsed":{"literal":"Anna Rosen","given":"Anna","family":"Rosen"},"name":"Anna Rosen","orcid":"0000-0003-4423-0660","email":"alrosen@sdsu.edu","affiliations":["San Diego State University"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/astrobytes-edu/astr596-modeling-universe","subject":"Modeling the Universe","venue":{"title":"ASTR 596 - Fall 2025","url":"https://www.anna-rosen.com"},"keywords":["computational astrophysics","python","numerical methods","machine learning","monte carlo","neural networks","radiative transfer","bayesian inference","JAX"],"affiliations":[{"id":"San Diego State University","name":"San Diego State University"}],"numbering":{"title":{"offset":2}},"edit_url":"https://github.com/astrobytes-edu/astr596-modeling-universe/blob/main/03-scientific-computing-with-python/01-python-fundamentals/chapter-4-revised.md","exports":[{"format":"md","filename":"chapter-4-revised.md","url":"/chapter-4-revised-473d447b0154fe0efb75a41414fab0d6.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Learning Objectives","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"T7MPRs9IeW"}],"identifier":"learning-objectives","label":"Learning Objectives","html_id":"learning-objectives","implicit":true,"key":"lTkjnYLc1d"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"By the end of this chapter, you will be able to:","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"xQ9eo0JTy0"}],"key":"v1YtlerPAp"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":19,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Choose optimal data structures based on algorithmic requirements and performance constraints","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"AVSCjxai62"}],"key":"HR74bKsAJz"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Predict whether operations will be O(1) constant time or O(n) linear time","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"WJO0YsQBz7"}],"key":"ZCKALuRjaJ"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Understand memory layout and why it matters for scientific computing","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"KpyvaQ6Fx4"}],"key":"DZBm872rxT"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Implement defensive copying strategies to prevent aliasing bugs","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"aAJjjxqegO"}],"key":"DRB5e5Zmnx"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Profile memory usage and optimize data structure choices for large datasets","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"zLdb3wDO9K"}],"key":"d1kSUH0Eau"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Design data structures that prepare you for vectorized computing","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"HShceimEC2"}],"key":"HvBGmm9yvS"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Debug common bugs related to mutability, aliasing, and hashability","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"bCZehH8Bq7"}],"key":"svhdsbvsAk"},{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Apply data structure patterns to real computational astrophysics problems","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"dsUOpwSpHw"}],"key":"b7dxvhb15t"}],"key":"pZhTozkM4w"},{"type":"heading","depth":2,"position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Prerequisites Check","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"eusyW5asvq"}],"identifier":"prerequisites-check","label":"Prerequisites Check","html_id":"prerequisites-check","implicit":true,"key":"LKnYWI4vWP"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"âœ… Before Starting This Chapter","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"PrpSS0Zxru"}],"key":"NFoDkmeX43"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":33,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"You can write loops and conditional statements fluently (Chapter 3)","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"nmVAt3O4se"}],"checked":false,"key":"EmJpM60mkq"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"You understand the difference between assignment and equality (Chapter 2)","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"VKUpz4fCUq"}],"checked":false,"key":"K29gvLqBy6"},{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"You can use IPython for testing and timing code (Chapter 1)","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"Yy3la1Cj8R"}],"checked":false,"key":"BLlf7TgwiX"},{"type":"listItem","spread":true,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"You understand floating-point precision issues (Chapter 2)","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"OyfApxBXlg"}],"checked":false,"key":"P0XEXXyRGt"},{"type":"listItem","spread":true,"position":{"start":{"line":37,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"You understand defensive programming principles (Chapter 1)","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"wJn3TPg36A"}],"checked":false,"key":"Gg9YEQLCBz"}],"key":"Fwhypr5w3s"},{"type":"paragraph","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"If any boxes are unchecked, review the indicated chapters first.","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"yvfiUvJRuB"}],"key":"cmv20CGtad"}],"class":"note","key":"A9XGUBJLjS"},{"type":"heading","depth":2,"position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"Chapter Overview","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"Suu3gN05O2"}],"identifier":"chapter-overview","label":"Chapter Overview","html_id":"chapter-overview","implicit":true,"key":"zgwBWoju1e"},{"type":"paragraph","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"Imagine youâ€™re simulating the gravitational interactions between a million particles in a galaxy formation model. Each timestep, you need to find which particles are close enough to interact strongly. With the wrong data structure, this neighbor search could take hours per timestep. With the right oneâ€”a spatial hash table or octreeâ€”it takes seconds. Thatâ€™s the difference between a simulation finishing in a day versus running for months. This chapter teaches you to make these critical choices that determine whether your code scales to research-grade problems or remains stuck with toy models.","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"GKMtewwWh7"}],"key":"r19IjynfdA"},{"type":"paragraph","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"This chapter transforms you from someone who stores data to someone who orchestrates it strategically for computational astrophysics. Youâ€™ll discover not just that dictionary lookups are fast, but ","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"Y0XGYTnCtU"},{"type":"emphasis","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"why","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"DafdtCdUS9"}],"key":"qNq9L88d2D"},{"type":"text","value":" theyâ€™re fastâ€”through hash functions that turn particle positions into array indices. Youâ€™ll understand ","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"V0RL15l6zt"},{"type":"emphasis","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"when","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"gtZ3dT4vhQ"}],"key":"gFIAeeYpp4"},{"type":"text","value":" they might failâ€”like when hash collisions cluster your particles. And youâ€™ll learn ","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"TlvLDeCo9U"},{"type":"emphasis","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"how","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"Zbbco7jo13"}],"key":"ICOJdnqHKo"},{"type":"text","value":" to verify performance yourselfâ€”because in computational science, measurement beats assumption every time.","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"Rxc6K4SLQs"}],"key":"hxHwQv4aof"},{"type":"paragraph","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"These concepts directly prepare you for the numerical computing ahead. The memory layout discussions explain why NumPy arrays can be 100Ã— more efficient than Python lists for vector operations. The immutability concepts prepare you for functional programming paradigms used in modern frameworks like JAX, where immutable operations enable automatic differentiation. The performance profiling skills will help you identify bottlenecks whether youâ€™re evolving stellar models or solving magnetohydrodynamics equations. By chapterâ€™s end, youâ€™ll think about data organization like a computational astrophysicist, architecting for performance from the start.","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"P3p13Ba8NN"}],"key":"fsdEO5TgJX"},{"type":"heading","depth":2,"position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"4.1 What Is a Data Structure?","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"xhBqYOOvU6"}],"identifier":"id-4-1-what-is-a-data-structure","label":"4.1 What Is a Data Structure?","html_id":"id-4-1-what-is-a-data-structure","implicit":true,"key":"HQpcVYVYOc"},{"type":"aside","children":[{"type":"paragraph","position":{"start":{"line":53,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"strong","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"data structure","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"I5xKKdm9H6"}],"key":"mjVoDYCyeY"},{"type":"text","value":"\nA way of organizing data in memory to enable efficient access and modification","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"BUm8GtS5J8"}],"key":"wqfgkOYqTH"}],"key":"eeBgU5rp8r"},{"type":"paragraph","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"A ","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"EF31AbXaSF"},{"type":"strong","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"data structure","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"xZ01Si3XdV"}],"key":"nhrZUnhwry"},{"type":"text","value":" is fundamentally about organizing information to match your access patterns. Think about an N-body simulation: you could store particles in order of creation (like a ","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"i8CUCORf2e"},{"type":"strong","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"list","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"aUTBqjjwMf"}],"key":"s8Oa9rXDC3"},{"type":"text","value":"), organize them by spatial region for fast neighbor finding (like a ","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"ztSBeybsEN"},{"type":"strong","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"dictionary","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"oGYLgmWOf9"}],"key":"YRN61jIMuv"},{"type":"text","value":" of cells), or track unique particle IDs (like a ","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"QzFH57x0UM"},{"type":"strong","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"set","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"lVAcQJcoTv"}],"key":"KeeAfPgtza"},{"type":"text","value":"). Each choice profoundly affects your simulationâ€™s performanceâ€”the difference between ","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"fWsebk5tas"},{"type":"strong","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"O(nÂ²)","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"EzHvcn4tTp"}],"key":"lqbknmaR0I"},{"type":"text","value":" all-pairs checks and ","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"OhNKPkLV3d"},{"type":"strong","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"O(n log n)","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"t7UQR3aUw7"}],"key":"DqS2DS0kko"},{"type":"text","value":" tree-based algorithms.","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"UvxA5dH7Dz"}],"key":"GBScbpODE2"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"ğŸŒŸ The More You Know: The Cassini Spacecraft Memory Crisis","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"EHwMEjjN8c"}],"key":"DKjKUdycrb"},{"type":"paragraph","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"In 1997, the Cassini spacecraft nearly failed before reaching Saturn due to a memory overflow bug in its attitude control system. The flight software used an inefficient data structure to track thruster firings, allocating new memory for each event without reusing space. After millions of small adjustments during the 7-year journey, the embedded systemâ€™s limited memory filled up.","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"NkrtIbJyMC"}],"key":"BOO7Ig4MfE"},{"type":"paragraph","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"children":[{"type":"text","value":"NASA engineers had to upload a patch while Cassini was millions of miles away, switching to a circular buffer data structure that reused memory. According to NASA/JPLâ€™s Cassini Program documentation and lessons learned database (JPL D-18441, 1998), the fix was deployed via Deep Space Network commands, requiring precise timing due to the 84-minute round-trip signal delay. The wrong data structure choice nearly lost a $3.26 billion mission.","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"QiQPVRzVH8"}],"key":"WZCTLhmJcO"},{"type":"paragraph","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"children":[{"type":"text","value":"This incident, detailed in â€œCassini Attitude Control Flight Software: Lessons Learnedâ€ (IEEE Aerospace Conference, 2000), demonstrates that understanding data structures isnâ€™t academicâ€”itâ€™s mission-critical. Modern spacecraft now use formal verification methods to prove memory bounds on their data structures.","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"lzBb4BxXOf"}],"key":"ByhLM1T0gs"}],"class":"tip, dropdown","key":"S1LKlUIWyZ"},{"type":"heading","depth":3,"position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"text","value":"Building Intuition: Measuring Speed Empirically","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"N8yIYJOhyA"}],"identifier":"building-intuition-measuring-speed-empirically","label":"Building Intuition: Measuring Speed Empirically","html_id":"building-intuition-measuring-speed-empirically","implicit":true,"key":"FVW5k6vqxe"},{"type":"paragraph","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"Ready to discover something that will transform how you think about organizing data in your simulations? Weâ€™re going to measure the dramatic performance difference between different data structures. This empirical approachâ€”measure first, understand why, then optimizeâ€”is exactly how computational astrophysicists approach performance optimization.","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"RYCQ8Yu86F"}],"key":"RzfWEAQH0i"}],"key":"PXaeIErWmq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Let's discover why data structure choice matters for physics simulations!\nimport time\nimport random\n\n# Create test data representing particle IDs in a simulation\nsizes = [100, 1000, 10000, 100000]\n\nprint(\"Searching for a particle NOT in the collection (worst case):\")\nprint(\"=\" * 60)\n\nfor n in sizes:\n    # Simulate particle IDs\n    particle_list = list(range(n))\n    particle_set = set(range(n))\n    \n    # Search for a particle that escaped (not in our domain)\n    escaped_particle = -1\n    \n    # Time list search - what you might naturally try first\n    start = time.perf_counter()\n    found = escaped_particle in particle_list\n    list_time = time.perf_counter() - start\n    \n    # Time set search - the optimized approach\n    start = time.perf_counter()\n    found = escaped_particle in particle_set\n    set_time = time.perf_counter() - start\n    \n    print(f\"Size {n:6d}: List: {list_time*1e6:8.2f} Î¼s, \"\n          f\"Set: {set_time*1e6:8.2f} Î¼s\")\n    if list_time > 0:\n        print(f\"           Set is {list_time/set_time:,.0f}Ã— faster!\")\n\nprint(\"\\nFor collision detection between 100,000 particles:\")\nprint(\"List approach: hours per timestep\")\nprint(\"Set approach: milliseconds per timestep!\")","key":"aGSiEhQlYP"},{"type":"output","id":"kgeMmd3oIQcCNvTBDEpFH","data":[],"key":"MWy42lq3lj"}],"key":"B9GReS3K5v"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"children":[{"type":"text","value":"This performance difference isnâ€™t just academicâ€”it determines whether your galaxy simulation can evolve for billions of years or gets stuck after a few million. The secret behind this magic is the hash table, which youâ€™re about to understand completely.","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"cZe8FVheqK"}],"key":"ZAPLNhzBgu"},{"type":"heading","depth":3,"position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"text","value":"Understanding Big-O Notation","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"S6oMqgv3fJ"}],"identifier":"understanding-big-o-notation","label":"Understanding Big-O Notation","html_id":"understanding-big-o-notation","implicit":true,"key":"LKDyZokcxV"},{"type":"paragraph","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"children":[{"type":"text","value":"Now that youâ€™ve witnessed this dramatic performance difference empirically, letâ€™s understand the mathematical pattern behind it. ","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"M4kzuCTjoX"},{"type":"strong","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"children":[{"type":"text","value":"Big-O notation","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"XoTM27GOUK"}],"key":"CdUAjFE1eZ"},{"type":"text","value":" describes how an algorithmâ€™s runtime scales with input sizeâ€”itâ€™s the language computational physicists use to discuss whether an algorithm is feasible for large-scale simulations.","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"A35Zgd9yYo"}],"key":"okHQ1c5Ha5"}],"key":"VILo0eXWHH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\nimport math\n\n# Visualize how different algorithms scale for physics simulations\nn = range(1, 101)\nconstant = [1 for _ in n]\nlogarithmic = [math.log(x) for x in n]\nlinear = list(n)\nquadratic = [x**2 for x in n]\n\nplt.figure(figsize=(10, 6))\nplt.plot(n, constant, label='O(1) - Hash table lookup', linewidth=2)\nplt.plot(n, logarithmic, label='O(log n) - Tree-based (Barnes-Hut)', linewidth=2)\nplt.plot(n, linear, label='O(n) - Direct summation', linewidth=2)\nplt.plot(n, quadratic, label='O(nÂ²) - All-pairs (naive N-body)', linewidth=2)\n\nplt.xlim(0, 100)\nplt.ylim(0, 500)\nplt.xlabel('Number of Particles (thousands)')\nplt.ylabel('Time (arbitrary units)')\nplt.title('N-body Algorithm Scaling: Why Data Structures Matter')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.show()\n\nprint(\"For a million-particle simulation:\")\nprint(f\"  O(1): 1 operation - spatial hash lookup\")\nprint(f\"  O(log n): {math.log2(1e6):.0f} operations - octree traversal\")\nprint(f\"  O(n): 1,000,000 operations - single particle force sum\")\nprint(f\"  O(nÂ²): 1,000,000,000,000 operations - all pairs (impossible!)\")","key":"JuvkFtjiMz"},{"type":"output","id":"oJ8m_NbVnMEewE9TiQq1M","data":[],"key":"d3v3n5HUae"}],"key":"O65kqTSy58"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"This graph reveals why algorithmic complexity matters for computational physics. The naive ","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"bmnphnJ9ED"},{"type":"strong","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"O(nÂ²)","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"tc8QjXdkn0"}],"key":"RJWaAL7o1U"},{"type":"text","value":" approach that checks all particle pairs becomes impossible beyond a few thousand particles. But with smart ","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"lv3NV4ZfHi"},{"type":"strong","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"data structures","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"m4UCrfPzBN"}],"key":"FgecGJKo2U"},{"type":"text","value":" like octrees (","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"HK90j2tH2X"},{"type":"strong","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"O(n log n)","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"p8v96NkTrN"}],"key":"FUZnTofh85"},{"type":"text","value":") or spatial hashing (","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"mVB3MdfDvi"},{"type":"strong","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"Je53cmAhy4"}],"key":"l16qi9jJBH"},{"type":"text","value":"), we can simulate entire galaxies!","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"Jdg8UdyV61"}],"key":"ABuBJ2AwWp"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"ğŸ’¡ Computational Thinking: The Time-Space Tradeoff in Physics Simulations","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"vRWZvq5IB4"}],"key":"a9uaCv2E7C"},{"type":"paragraph","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"text","value":"This universal pattern appears throughout computational physics: trading memory for speed.","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"E9kSgTShsQ"}],"key":"absXPR6oOP"},{"type":"paragraph","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"children":[{"type":"strong","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"children":[{"type":"text","value":"The Pattern:","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"KO8YUCC2fX"}],"key":"QZGAYYrsFb"}],"key":"Xedjr07emF"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":159,"column":1},"end":{"line":161,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"children":[{"type":"text","value":"Use more memory â†’ organize data cleverly â†’ enable faster computation","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"key":"Or6nicrEA9"}],"key":"DymvNri3F7"},{"type":"listItem","spread":true,"position":{"start":{"line":160,"column":1},"end":{"line":161,"column":1}},"children":[{"type":"text","value":"Use less memory â†’ simpler organization â†’ slower computation","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"AAx6vJjcan"}],"key":"at4DcAzyxa"}],"key":"DsYGzpyBP4"},{"type":"paragraph","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"strong","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"Real Physics Examples:","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"jQ547ksepm"}],"key":"w3NTyM0EBI"}],"key":"CSJVdVceYN"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":163,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"strong","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"text","value":"Particle mesh methods","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"Vn0vk6LQK9"}],"key":"udFVUMgwsS"},{"type":"text","value":": Store density on a grid (memory) to avoid O(nÂ²) particle interactions","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"vQWcTIUlxM"}],"key":"QGScmdMS2t"},{"type":"listItem","spread":true,"position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"children":[{"type":"strong","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"children":[{"type":"text","value":"Neighbor lists","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"zNcc7OsrYt"}],"key":"RZa8SzEMOY"},{"type":"text","value":" in molecular dynamics: Store nearby atoms (memory) vs O(nÂ²) distance checks","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"dp40YOmMLs"}],"key":"ksuVO7sn9h"},{"type":"listItem","spread":true,"position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"children":[{"type":"strong","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"children":[{"type":"text","value":"Octrees","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"nUj47Ozn4e"}],"key":"dWi5N8bYMU"},{"type":"text","value":" in N-body codes: Store spatial hierarchy (memory) for O(n log n) force calculation","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"y5u0eqrIqd"}],"key":"bGR5QqZyoN"},{"type":"listItem","spread":true,"position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"strong","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"text","value":"Lookup tables","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"FyyqXk5ZTx"}],"key":"Xi2tNXk9eI"},{"type":"text","value":" for equation of state: Store pre-computed values vs recalculating","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"lsMrd8TSfu"}],"key":"t4Ht1GNMBR"},{"type":"listItem","spread":true,"position":{"start":{"line":167,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"strong","position":{"start":{"line":167,"column":1},"end":{"line":167,"column":1}},"children":[{"type":"text","value":"FFT","position":{"start":{"line":167,"column":1},"end":{"line":167,"column":1}},"key":"hp2SePo0Yc"}],"key":"aSjh3ioeg1"},{"type":"text","value":" for spectral methods: Store complex coefficients for O(n log n) vs O(nÂ²) convolution","position":{"start":{"line":167,"column":1},"end":{"line":167,"column":1}},"key":"JhnSVyskgH"}],"key":"zfeAhOb7Vt"}],"key":"BWDMHzUhEG"},{"type":"paragraph","position":{"start":{"line":169,"column":1},"end":{"line":169,"column":1}},"children":[{"type":"text","value":"Example: The GADGET cosmology code uses 200 bytes per particle (vs 24 for just position/velocity) to achieve O(n log n) scaling, enabling billion-particle simulations. This 8Ã— memory cost enables 1000Ã— speedup!","position":{"start":{"line":169,"column":1},"end":{"line":169,"column":1}},"key":"OD6odRT8O2"}],"key":"teQL2LQA1u"}],"class":"important","key":"N8Gze0MvL9"},{"type":"heading","depth":2,"position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"4.2 Lists: Pythonâ€™s Workhorse Sequence","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"vMjlovHBe3"}],"identifier":"id-4-2-lists-pythons-workhorse-sequence","label":"4.2 Lists: Pythonâ€™s Workhorse Sequence","html_id":"id-4-2-lists-pythons-workhorse-sequence","implicit":true,"key":"rwmElZbebH"},{"type":"paragraph","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"strong","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"text","value":"Lists","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"KGaSxcGaTU"}],"key":"soqnlXivkU"},{"type":"text","value":" are Pythonâ€™s most versatile ","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"NfQ4VLKKcp"},{"type":"strong","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"text","value":"data structure","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"hK9cvWSLrg"}],"key":"AIi6L96qjz"},{"type":"text","value":"â€”perfect for particle arrays, time series, or any ordered collection. But hereâ€™s something crucial for scientific computing: Python ","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"vDFvtATzgI"},{"type":"strong","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"text","value":"lists","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"sMAt4YP8h1"}],"key":"DTFFAOnc0T"},{"type":"text","value":" donâ€™t store your numbers directly! Understanding this explains why NumPy arrays are so much faster for numerical work.","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"CaBSKANRDt"}],"key":"NP0m4BL1NU"},{"type":"heading","depth":3,"position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"children":[{"type":"text","value":"How Lists Really Work in Memory","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"FLAguuw0kj"}],"identifier":"how-lists-really-work-in-memory","label":"How Lists Really Work in Memory","html_id":"how-lists-really-work-in-memory","implicit":true,"key":"mArYfeto61"},{"type":"paragraph","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"children":[{"type":"text","value":"Letâ€™s explore how Python actually stores your simulation data in memory. This knowledge will help you understand when to use Python ","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"dmik7AUcoZ"},{"type":"strong","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"children":[{"type":"text","value":"lists","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"sANX0GJSsN"}],"key":"Hi55cdfHDv"},{"type":"text","value":" versus when you need NumPy arrays.","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"tsviU5ZzNE"}],"key":"GQqL1p5kOC"}],"key":"jDRzSidRLi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import sys\n\n# Let's examine memory usage for particle data\n# Position of one particle in 3D space\nposition = [1.5e10, 2.3e10, 0.8e10]  # cm (typical for solar system)\n\n# The list container itself\nlist_size = sys.getsizeof(position)\nprint(f\"List container: {list_size} bytes\")\n\n# Each float is a full Python object!\nelement_sizes = [sys.getsizeof(x) for x in position]\nprint(f\"Each coordinate: {element_sizes[0]} bytes\")\n\n# Total memory footprint\ntotal = list_size + sum(element_sizes)\nprint(f\"Total: {total} bytes for 3 floats!\")\nprint(f\"That's {total/24:.1f}Ã— more than raw floats would need!\")\n\nprint(\"\\nWhy so much memory?\")\nprint(\"- List stores pointers, not values\")\nprint(\"- Each float is a full object with type info\")\nprint(\"- Python must track reference counts\")\nprint(\"\\nNote: Memory sizes vary by Python version and system architecture.\")\nprint(\"Use sys.getsizeof() to check your specific environment.\")\nprint(\"\\nThis is why NumPy arrays (Chapter 7) store raw values contiguously!\")","key":"xvxvv36u3o"},{"type":"output","id":"ssaCr-Rr9zh8M5RY16-eA","data":[],"key":"ZE1pCa8Z4o"}],"key":"BVriIhXkAO"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"children":[{"type":"text","value":"Hereâ€™s whatâ€™s actually happening in memory when you store particle positions:","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"VUtdYBnVtj"}],"key":"mc5HdufiWw"},{"type":"code","lang":"","value":"Python List of Positions:          Objects in Memory:\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ size: 3         â”‚               â”‚ float: 1.5e10    â”‚\nâ”‚ capacity: 4     â”‚          â”Œâ”€â”€â”€>â”‚ type info        â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚    â”‚ ref count        â”‚\nâ”‚ pointer â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\nâ”‚ pointer â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ pointer â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”          â”‚ float: 2.3e10    â”‚\nâ”‚ (unused)        â”‚    â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                                  â”‚ float: 0.8e10    â”‚\n                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nNumPy Array (preview):\nâ”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”\nâ”‚1.5 â”‚2.3 â”‚0.8 â”‚  <- Raw values, no pointers!\nâ””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜","position":{"start":{"line":211,"column":1},"end":{"line":229,"column":1}},"key":"DDFvzt1OaW"},{"type":"heading","depth":3,"position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"List Operations: Performance for Simulations","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"c5eXOPVVZF"}],"identifier":"list-operations-performance-for-simulations","label":"List Operations: Performance for Simulations","html_id":"list-operations-performance-for-simulations","implicit":true,"key":"AFJtrpRZ9G"},{"type":"paragraph","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"children":[{"type":"text","value":"Different ","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"OCwNzdAyNX"},{"type":"strong","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"children":[{"type":"text","value":"list","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"fIV3OvEaGj"}],"key":"pvRgJz9BRc"},{"type":"text","value":" operations have vastly different costsâ€”critical knowledge when processing particle data or building spatial ","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"ORBpi8RnCw"},{"type":"strong","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"children":[{"type":"text","value":"data structures","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"OVFXGA3Y1N"}],"key":"OkXfzDCvHh"},{"type":"text","value":".","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"JCMAagdbhZ"}],"key":"JLUhkv09SF"}],"key":"D1xZgRLjUP"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import time\n\n# Simulate a growing particle system\nparticles = list(range(100_000))\n\n# Adding particles at the END (common pattern)\nstart = time.perf_counter()\nparticles.append(100_000)  # New particle enters domain\nparticles.pop()            # Remove for fair comparison\nend_time = time.perf_counter() - start\n\n# Adding particles at the BEGINNING (avoid this!)\nstart = time.perf_counter()\nparticles.insert(0, -1)    # Insert at front\nparticles.pop(0)           # Remove from front\nbegin_time = time.perf_counter() - start\n\nprint(f\"Adding particle at END:   {end_time*1e6:.2f} microseconds\")\nprint(f\"Adding particle at START: {begin_time*1e6:.2f} microseconds\")\nprint(f\"\\nBeginning is {begin_time/end_time:.0f}Ã— slower!\")\n\nprint(\"\\nWhy? Inserting at the beginning shifts ALL particles in memory!\")\nprint(\"For particle systems, use collections.deque if you need\")\nprint(\"fast operations at both ends (e.g., boundary conditions).\")","key":"f9B4EDoVOl"},{"type":"output","id":"HZgsyVnAsHfxFTl1n3xnt","data":[],"key":"nl1LlqU6hX"}],"key":"YD4dGytDv9"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"ğŸ’¡ Performance Tip: When Both Ends Matter","position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"key":"ilfwPDWBCR"}],"key":"hNw4rY7TlW"},{"type":"paragraph","position":{"start":{"line":265,"column":1},"end":{"line":265,"column":1}},"children":[{"type":"text","value":"If your simulation needs fast operations at both ends (like particles entering/leaving through boundaries), use ","position":{"start":{"line":265,"column":1},"end":{"line":265,"column":1}},"key":"Bw9iVnhDUe"},{"type":"inlineCode","value":"collections.deque","position":{"start":{"line":265,"column":1},"end":{"line":265,"column":1}},"key":"Y35s3EFbOU"},{"type":"text","value":":","position":{"start":{"line":265,"column":1},"end":{"line":265,"column":1}},"key":"nGPL6ThVLw"}],"key":"vTWPuIbfhr"},{"type":"code","lang":"python","value":"from collections import deque\nparticles = deque(maxlen=1000000)  # Efficient at both ends!","position":{"start":{"line":267,"column":1},"end":{"line":270,"column":1}},"key":"rdWOqpAUBZ"},{"type":"paragraph","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"children":[{"type":"text","value":"This is why molecular dynamics codes use specialized data structures for boundary particles.","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"tQGnymdRcN"}],"key":"GcU94MDYRm"}],"class":"tip","key":"zSbKeWzWZ8"},{"type":"heading","depth":3,"position":{"start":{"line":275,"column":1},"end":{"line":275,"column":1}},"children":[{"type":"text","value":"List Growth Strategy: Understanding Dynamic Arrays","position":{"start":{"line":275,"column":1},"end":{"line":275,"column":1}},"key":"XhVkPSKUOC"}],"identifier":"list-growth-strategy-understanding-dynamic-arrays","label":"List Growth Strategy: Understanding Dynamic Arrays","html_id":"list-growth-strategy-understanding-dynamic-arrays","implicit":true,"key":"lPTeZVG3bl"},{"type":"paragraph","position":{"start":{"line":277,"column":1},"end":{"line":277,"column":1}},"children":[{"type":"text","value":"Watch how Python manages memory as your particle system grows. This pattern appears in many languages and understanding it helps you write efficient simulation codes.","position":{"start":{"line":277,"column":1},"end":{"line":277,"column":1}},"key":"N5WTZY2EHm"}],"key":"gQqNwbTpzr"}],"key":"JvS8P2lmp9"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import sys\n\n# Track memory allocation as particle system grows\nparticles = []\nprevious_size = 0\n\nprint(\"Watch Python's list growth strategy:\")\nprint(\"(Critical for understanding simulation performance)\")\nprint(\"Length â†’ Capacity (overallocation)\")\nprint(\"-\" * 40)\n\nfor i in range(20):\n    old_size = sys.getsizeof(particles)\n    particles.append(i)\n    new_size = sys.getsizeof(particles)\n    \n    if new_size != old_size:\n        # Calculate capacity from size change\n        capacity = (new_size - sys.getsizeof([])) // 8\n        actual_length = len(particles)\n        overalloc = ((capacity - actual_length) / actual_length * 100 \n                     if actual_length > 0 else 0)\n        print(f\"{actual_length:4d} â†’ {capacity:4d} \"\n              f\"({overalloc:5.1f}% extra)\")\n\nprint(\"\\nWhy this matters for physics simulations:\")\nprint(\"- Amortized O(1) append: Usually fast, occasionally slow (reallocation)\")\nprint(\"- Memory fragmentation: Growing lists can scatter in memory\")\nprint(\"- Cache misses: Non-contiguous memory hurts performance\")\nprint(\"This is why production codes pre-allocate arrays when particle count is known!\")","key":"wbFhGqo1UA"},{"type":"output","id":"N-gSnI99UoK-ky9fQmMpt","data":[],"key":"Ia0Sm67Fdo"}],"key":"kcOyOnpd9i"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"children":[{"type":"text","value":"This growth pattern is why appending to lists is â€œamortized O(1)â€â€”usually fast, occasionally slow when reallocation happens. For time-critical simulations, pre-allocate your arrays when possible!","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"key":"TGpTkQ7kFB"}],"key":"UYHliyoBqS"},{"type":"heading","depth":2,"position":{"start":{"line":314,"column":1},"end":{"line":314,"column":1}},"children":[{"type":"text","value":"4.3 Tuples: The Power of Immutability","position":{"start":{"line":314,"column":1},"end":{"line":314,"column":1}},"key":"lzZyOgFx2L"}],"identifier":"id-4-3-tuples-the-power-of-immutability","label":"4.3 Tuples: The Power of Immutability","html_id":"id-4-3-tuples-the-power-of-immutability","implicit":true,"key":"HmPh8h0aDk"},{"type":"aside","children":[{"type":"paragraph","position":{"start":{"line":317,"column":1},"end":{"line":318,"column":1}},"children":[{"type":"strong","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"children":[{"type":"text","value":"immutable","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"key":"EwXsreyZap"}],"key":"ZAJUf8PCeM"},{"type":"text","value":"\nObjects whose state cannot be modified after creation","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"key":"EP77uLvQSG"}],"key":"jqNRmpaPGG"}],"key":"h32Vr1creh"},{"type":"paragraph","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"text","value":"What if you need to guarantee that initial conditions or physical constants wonâ€™t change during your simulation? Enter ","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"lcEWZodqLm"},{"type":"strong","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"text","value":"tuples","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"J4X5IUfrXP"}],"key":"Ogfz3o8bxV"},{"type":"text","value":"â€”Pythonâ€™s ","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"R866PR0rUH"},{"type":"strong","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"text","value":"immutable","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"mNjtXAFPxP"}],"key":"AFjDdg4Ab9"},{"type":"text","value":" sequences. This isnâ€™t a limitationâ€”itâ€™s protection against an entire category of bugs that plague scientific codes!","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"L4kXDG9YLj"}],"key":"Hwsz249v6x"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"âš ï¸ Common Bug Alert: The Accidental Modification Disaster","position":{"start":{"line":323,"column":1},"end":{"line":323,"column":1}},"key":"lRgVZUf8Lm"}],"key":"GYRuYSoOy2"},{"type":"paragraph","position":{"start":{"line":326,"column":1},"end":{"line":326,"column":1}},"children":[{"type":"text","value":"One of the most insidious bugs in computational physics happens when functions unexpectedly modify their inputs. Remember the defensive programming principles from Chapter 1? Hereâ€™s why they matter:","position":{"start":{"line":326,"column":1},"end":{"line":326,"column":1}},"key":"tAuN0SayRN"}],"key":"KVh7LHG1FZ"},{"type":"code","lang":"python","value":"# THE BUG THAT CORRUPTS YOUR SIMULATION:\ndef evolve_system(state, dt):\n    # Trying to be clever, modifying in-place\n    state[0] += state[1] * dt  # Modifies original!\n    state[1] += calculate_force(state[0]) * dt\n    return state\n\ninitial_state = [1.0, 0.0]  # Position, velocity\nstate_t1 = evolve_system(initial_state, 0.01)\nprint(initial_state)  # [1.01, ...] - Initial conditions corrupted!\n\n# THE FIX: Use tuples to prevent modification\ninitial_state = (1.0, 0.0)  # Tuple!\n# Now modification attempts raise errors immediately!","position":{"start":{"line":328,"column":1},"end":{"line":343,"column":1}},"key":"Tu5iEi7bmk"},{"type":"paragraph","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"text","value":"This connects directly to Chapter 1â€™s defensive programming: catch errors early, fail loudly!","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"HT0ItFyI3K"}],"key":"KdScgi8wt6"}],"class":"warning","key":"QSxvLWxleO"},{"type":"heading","depth":3,"position":{"start":{"line":348,"column":1},"end":{"line":348,"column":1}},"children":[{"type":"text","value":"Understanding Immutability in Physics Simulations","position":{"start":{"line":348,"column":1},"end":{"line":348,"column":1}},"key":"zL82f6sjh1"}],"identifier":"understanding-immutability-in-physics-simulations","label":"Understanding Immutability in Physics Simulations","html_id":"understanding-immutability-in-physics-simulations","implicit":true,"key":"Gb30Trd1Wc"},{"type":"paragraph","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"children":[{"type":"text","value":"Letâ€™s see how ","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"key":"aQ34TEGQ13"},{"type":"strong","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"children":[{"type":"text","value":"immutability","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"key":"Y9XVLE7yVm"}],"key":"WrjN26ND71"},{"type":"text","value":" protects your simulations and enables powerful optimizations:","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"key":"rEPqVuJeyr"}],"key":"rdmRHWTD3s"}],"key":"ipGa8qzBjN"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Physical constants should NEVER change during simulation\nclass PhysicsConstants:\n    \"\"\"Demonstrating safe vs unsafe constant storage.\"\"\"\n    \n    # UNSAFE: Mutable list (can be accidentally modified)\n    unsafe_constants = [\n        6.674e-8,   # G (cmÂ³/g/sÂ²)\n        2.998e10,   # c (cm/s)\n        1.381e-16,  # k_B (erg/K)\n    ]\n    \n    # SAFE: Immutable tuple (modification attempts fail loudly)\n    safe_constants = (\n        6.674e-8,   # G (cmÂ³/g/sÂ²)\n        2.998e10,   # c (cm/s)\n        1.381e-16,  # k_B (erg/K)\n    )\n\n# Demonstration of the danger\ndef buggy_calculation(constants):\n    \"\"\"This function has a typo that modifies constants!\"\"\"\n    if isinstance(constants, list):\n        # Oops! Used = instead of == in a complex calculation\n        constants[0] = constants[0] * 1e10  # BUG: Modifies G!\n        return \"Calculated (with hidden corruption)\"\n    else:\n        # With tuple, this would raise an error immediately\n        try:\n            constants[0] = constants[0] * 1e10\n        except TypeError as e:\n            return f\"Caught bug immediately: {e}\"\n\n# Test with both\nprint(\"With list:\", buggy_calculation(PhysicsConstants.unsafe_constants.copy()))\nprint(\"With tuple:\", buggy_calculation(PhysicsConstants.safe_constants))\n\nprint(\"\\nImmutability turns subtle runtime corruption into immediate, obvious errors!\")","key":"fcWZO7IfwU"},{"type":"output","id":"VhGi5Wny9WWhyZdYsYdbg","data":[],"key":"Y5nNsLcZEE"}],"key":"YbGrpltqH2"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"children":[{"type":"text","value":"Tuples as Dictionary Keys: Caching Expensive Calculations","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"key":"A1ebrsh4QK"}],"identifier":"tuples-as-dictionary-keys-caching-expensive-calculations","label":"Tuples as Dictionary Keys: Caching Expensive Calculations","html_id":"tuples-as-dictionary-keys-caching-expensive-calculations","implicit":true,"key":"CoZrY57LQz"},{"type":"paragraph","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"children":[{"type":"text","value":"Hereâ€™s where ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"zEyzkRcwKb"},{"type":"strong","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"children":[{"type":"text","value":"immutability","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"FVKj6Heu4P"}],"key":"XScJffQzWF"},{"type":"text","value":" becomes a superpower for computational physicsâ€”","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"ApHSDY3mDY"},{"type":"strong","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"children":[{"type":"text","value":"tuples","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"Y2DQHlFZGF"}],"key":"TSf1leCVPD"},{"type":"text","value":" can be ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"fPBZKhJ0Oj"},{"type":"strong","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"children":[{"type":"text","value":"dictionary","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"HlCJul1VWa"}],"key":"GzcvuF3JSu"},{"type":"text","value":" keys, enabling powerful ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"zPZEibl1hH"},{"type":"strong","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"children":[{"type":"text","value":"memoization","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"YOFGssHMAg"}],"key":"AS1WPePIEO"},{"type":"text","value":" patterns for expensive calculations:","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"zFIJc8TO06"}],"key":"diLQyHyw5T"}],"key":"NOWLOPuxws"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Cache expensive physics calculations\ncache = {}\ncalculation_count = 0\n\ndef gravitational_force(pos1, pos2, m1, m2):\n    \"\"\"Calculate gravitational force with automatic caching.\"\"\"\n    global calculation_count\n    \n    # Create cache key from positions (must be tuples!)\n    cache_key = (pos1, pos2, m1, m2)\n    \n    if cache_key in cache:\n        print(f\"  Cache hit! Avoided expensive calculation\")\n        return cache[cache_key]\n    \n    # Expensive calculation\n    calculation_count += 1\n    print(f\"  Computing force (calculation #{calculation_count})\")\n    \n    # Unpack positions\n    x1, y1, z1 = pos1\n    x2, y2, z2 = pos2\n    \n    # Calculate distance\n    dx, dy, dz = x2 - x1, y2 - y1, z2 - z1\n    r = (dx**2 + dy**2 + dz**2) ** 0.5\n    \n    # Gravitational force\n    G = 6.674e-8  # cmÂ³/g/sÂ²\n    F = G * m1 * m2 / r**2\n    \n    # Cache for future use\n    cache[cache_key] = F\n    return F\n\n# Simulate repeated force calculations in N-body code\nsun_pos = (0.0, 0.0, 0.0)\nearth_pos = (1.496e13, 0.0, 0.0)  # 1 AU in cm\nm_sun = 1.989e33  # grams\nm_earth = 5.972e27  # grams\n\nprint(\"First calculation:\")\nF1 = gravitational_force(sun_pos, earth_pos, m_sun, m_earth)\n\nprint(\"\\nSecond calculation (same positions):\")\nF2 = gravitational_force(sun_pos, earth_pos, m_sun, m_earth)\n\nprint(f\"\\nForce: {F1:.2e} dynes\")\nprint(f\"Calculations performed: {calculation_count}\")\nprint(\"Caching with tuples can speed up N-body codes 10-100Ã—!\")","key":"po6s84JapU"},{"type":"output","id":"NrM1DjBlfKfu8jMsIIrbT","data":[],"key":"qxrik2jFE1"}],"key":"yXpmArSRVw"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":449,"column":1},"end":{"line":449,"column":1}},"children":[{"type":"text","value":"4.4 The Mutable vs Immutable Distinction","position":{"start":{"line":449,"column":1},"end":{"line":449,"column":1}},"key":"kPBkAdzd17"}],"identifier":"id-4-4-the-mutable-vs-immutable-distinction","label":"4.4 The Mutable vs Immutable Distinction","html_id":"id-4-4-the-mutable-vs-immutable-distinction","implicit":true,"key":"bILahTelXn"},{"type":"paragraph","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"children":[{"type":"text","value":"Time for one of Pythonâ€™s most important concepts for scientific computing! Understanding ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"hKNvqpTZXm"},{"type":"strong","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"children":[{"type":"text","value":"mutability","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"RJhFS8oB6S"}],"key":"ENSJekfx1G"},{"type":"text","value":" is the key to avoiding mysterious bugs where your simulation state changes unexpectedly. This connects directly to Chapter 1â€™s defensive programming principlesâ€”catching errors early prevents corrupted results.","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"CHpVRsR8gO"}],"key":"BP5pDY7bBX"},{"type":"heading","depth":3,"position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"children":[{"type":"text","value":"Pythonâ€™s Reference Model in Physics Simulations","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"l6EWTmsDef"}],"identifier":"pythons-reference-model-in-physics-simulations","label":"Pythonâ€™s Reference Model in Physics Simulations","html_id":"pythons-reference-model-in-physics-simulations","implicit":true,"key":"A5QqKwGAFq"},{"type":"paragraph","position":{"start":{"line":455,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"text","value":"Python doesnâ€™t store values in variablesâ€”it stores ","position":{"start":{"line":455,"column":1},"end":{"line":455,"column":1}},"key":"pz5S0Jo2do"},{"type":"strong","position":{"start":{"line":455,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"text","value":"references","position":{"start":{"line":455,"column":1},"end":{"line":455,"column":1}},"key":"uxW7CL0RSq"}],"key":"pG3uQAr7De"},{"type":"text","value":" to objects. This has profound implications for simulation codes:","position":{"start":{"line":455,"column":1},"end":{"line":455,"column":1}},"key":"YMiUkxfT3X"}],"key":"mOFHouRzp8"}],"key":"Oi4PmIBH2N"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Critical concept for simulation state management!\n\nprint(\"With IMMUTABLE objects (safe for constants):\")\nG_constant = 6.674e-8\nG_backup = G_constant\nprint(f\"Initially: G={G_constant:.3e}, backup={G_backup:.3e}\")\nprint(f\"Same object in memory? {G_constant is G_backup}\")\n\nG_backup = 6.674e-7  # Creates NEW object (typo won't affect original)\nprint(f\"After change: G={G_constant:.3e}, backup={G_backup:.3e}\")\nprint(\"Original constant is safe!\")\n\nprint(\"\\n\" + \"=\"*50)\nprint(\"With MUTABLE objects (dangerous for state!):\")\n\n# Particle system state\nparticles = [[1.0, 2.0, 3.0], [4.0, 5.0, 6.0]]  # Positions\nbackup = particles  # Think you're making a backup?\n\nprint(f\"Initially: same object? {particles is backup}\")\n\n# Modify what you think is the backup\nbackup[0][0] = 999.0  # Trying to test something\n\nprint(f\"Original particles: {particles}\")\nprint(f\"'Backup': {backup}\")\nprint(\"ğŸ˜± You just corrupted your simulation state!\")\n\nprint(\"\\nLesson: Use copy.deepcopy() for simulation state backups!\")","key":"LSe76DJ3J6"},{"type":"output","id":"43K0u-YBzS7mws3Q0d7Xa","data":[],"key":"aNFz9Ak5EK"}],"key":"DZ9aalMyjG"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"ğŸŒŸ The More You Know: The Knight Capital Trading Disaster","position":{"start":{"line":489,"column":1},"end":{"line":489,"column":1}},"key":"ttSYAcVjyt"}],"key":"ot2Az96A0e"},{"type":"paragraph","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"children":[{"type":"text","value":"On August 1, 2012, Knight Capital Group lost $440 million in 45 minutes due to a ","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"xDQHNU9PdW"},{"type":"strong","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"children":[{"type":"text","value":"data structure","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"WNVbYIoNZ5"}],"key":"Jn0tDEo3ro"},{"type":"text","value":" ","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"wQlFzt4yeE"},{"type":"strong","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"children":[{"type":"text","value":"aliasing","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"SGDCpDUjqK"}],"key":"pTIwfzdi3o"},{"type":"text","value":" bug. According to SEC Release No. 70694 (October 16, 2013) and Knightâ€™s own 8-K filing with the SEC on August 2, 2012, the incident stemmed from code deployment inconsistencies.","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"cAsj727I54"}],"key":"axSNfOXoG3"},{"type":"paragraph","position":{"start":{"line":494,"column":1},"end":{"line":494,"column":1}},"children":[{"type":"text","value":"The company deployed new trading software to 8 servers but accidentally left old code (called â€œPower Pegâ€) on one server. Both old and new systems shared a configuration ","position":{"start":{"line":494,"column":1},"end":{"line":494,"column":1}},"key":"uqCGvzQ8op"},{"type":"strong","position":{"start":{"line":494,"column":1},"end":{"line":494,"column":1}},"children":[{"type":"text","value":"dictionary","position":{"start":{"line":494,"column":1},"end":{"line":494,"column":1}},"key":"qypI4YAkWy"}],"key":"pzsh6aAFYp"},{"type":"text","value":". The old code interpreted a flag in this shared ","position":{"start":{"line":494,"column":1},"end":{"line":494,"column":1}},"key":"ZRpANQYL7T"},{"type":"strong","position":{"start":{"line":494,"column":1},"end":{"line":494,"column":1}},"children":[{"type":"text","value":"dictionary","position":{"start":{"line":494,"column":1},"end":{"line":494,"column":1}},"key":"YcIFU3YM9H"}],"key":"QAKUBom5wC"},{"type":"text","value":" as enabling test mode, while the new code used the same flag to enable live trading.","position":{"start":{"line":494,"column":1},"end":{"line":494,"column":1}},"key":"qL0TPMLzWH"}],"key":"H76c7bKdIW"},{"type":"paragraph","position":{"start":{"line":496,"column":1},"end":{"line":496,"column":1}},"children":[{"type":"text","value":"As reported by Reuters and Bloomberg at the time, when markets opened, 7 servers correctly processed orders while the 8th server executed everything as real trades. In 45 minutes, the rogue server executed 4 million trades worth $7 billionâ€”roughly 10% of total US equity volume that day.","position":{"start":{"line":496,"column":1},"end":{"line":496,"column":1}},"key":"CEetGUJLYI"}],"key":"goRxYN1MUA"},{"type":"paragraph","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"children":[{"type":"text","value":"The shared ","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"key":"H9aGNNL2lM"},{"type":"strong","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"children":[{"type":"text","value":"mutable","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"key":"W7RAZMST02"}],"key":"d24JrGmhyb"},{"type":"text","value":" state (the configuration ","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"key":"POMGTYICeG"},{"type":"strong","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"children":[{"type":"text","value":"dictionary","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"key":"M36yG4m9CW"}],"key":"IVLhabuIAS"},{"type":"text","value":") without proper version control created perfect conditions for disaster. Knight Capital, once the largest trader in US equities, was acquired for a fraction of its value within a week. The incident led to new regulations about algorithmic trading systems and configuration management.","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"key":"CcKPPaQ6Ak"}],"key":"L81ayxW4sn"},{"type":"paragraph","position":{"start":{"line":500,"column":1},"end":{"line":500,"column":1}},"children":[{"type":"text","value":"The lesson for scientific computing: When multiple systems or simulation components share ","position":{"start":{"line":500,"column":1},"end":{"line":500,"column":1}},"key":"MTsfPw7LQl"},{"type":"strong","position":{"start":{"line":500,"column":1},"end":{"line":500,"column":1}},"children":[{"type":"text","value":"mutable","position":{"start":{"line":500,"column":1},"end":{"line":500,"column":1}},"key":"X5VFIlZexz"}],"key":"Vk3rWwhNWm"},{"type":"text","value":" ","position":{"start":{"line":500,"column":1},"end":{"line":500,"column":1}},"key":"RmtkGwnlvc"},{"type":"strong","position":{"start":{"line":500,"column":1},"end":{"line":500,"column":1}},"children":[{"type":"text","value":"data structures","position":{"start":{"line":500,"column":1},"end":{"line":500,"column":1}},"key":"UVryj604SK"}],"key":"nODULAkBZk"},{"type":"text","value":", confusion about state can have catastrophic consequences. Always use defensive copying and ","position":{"start":{"line":500,"column":1},"end":{"line":500,"column":1}},"key":"byLDHPLj1q"},{"type":"strong","position":{"start":{"line":500,"column":1},"end":{"line":500,"column":1}},"children":[{"type":"text","value":"immutable","position":{"start":{"line":500,"column":1},"end":{"line":500,"column":1}},"key":"WPRDir8XHG"}],"key":"NH0pT7mlTE"},{"type":"text","value":" configurations where possible!","position":{"start":{"line":500,"column":1},"end":{"line":500,"column":1}},"key":"LY3AdxeuKo"}],"key":"XeYGmZ2vAJ"}],"class":"tip, dropdown","key":"lg1CXBijPQ"},{"type":"heading","depth":3,"position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"text","value":"The Classic Mutable Default Argument Bug","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"rCpjwa4xxG"}],"identifier":"the-classic-mutable-default-argument-bug","label":"The Classic Mutable Default Argument Bug","html_id":"the-classic-mutable-default-argument-bug","implicit":true,"key":"g0l6MZvmPt"},{"type":"paragraph","position":{"start":{"line":505,"column":1},"end":{"line":505,"column":1}},"children":[{"type":"text","value":"This bug is so dangerous that Python linters specifically check for it. Itâ€™s particularly insidious in iterative simulations:","position":{"start":{"line":505,"column":1},"end":{"line":505,"column":1}},"key":"rigR6iEAC5"}],"key":"ILeWdqirvX"}],"key":"RyTseVxGRW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# THE BUG: Default mutable created ONCE at function definition!\ndef accumulate_energies_buggy(energy, history=[]):\n    \"\"\"BUGGY: Trying to track energy history.\"\"\"\n    history.append(energy)\n    return history\n\n# Simulate multiple independent runs\nprint(\"Run 1:\")\nrun1 = accumulate_energies_buggy(100)\nrun1 = accumulate_energies_buggy(95)\nprint(f\"  Energy history: {run1}\")\n\nprint(\"\\nRun 2 (should be independent):\")\nrun2 = accumulate_energies_buggy(200)\nprint(f\"  Energy history: {run2}\")\nprint(\"  Contains Run 1 data! Runs are coupled! ğŸ˜±\")\n\nprint(\"\\n\" + \"=\"*50)\nprint(\"THE FIX: Use None sentinel pattern\")\n\ndef accumulate_energies_fixed(energy, history=None):\n    \"\"\"Safe version - creates new list for each run.\"\"\"\n    if history is None:\n        history = []  # Fresh list for each simulation\n    history.append(energy)\n    return history\n\nprint(\"\\nRun 3:\")\nrun3 = accumulate_energies_fixed(100)\nrun3 = accumulate_energies_fixed(95)\nprint(f\"  Energy history: {run3}\")\n\nprint(\"\\nRun 4 (properly independent):\")\nrun4 = accumulate_energies_fixed(200)\nprint(f\"  Energy history: {run4}\")\nprint(\"  Runs are independent! âœ…\")","key":"UA7eyuzRNa"},{"type":"output","id":"d4cwU5tBLdhtBUoqp5vdb","data":[],"key":"qvf48Z5ks4"}],"key":"MRRi5tNCQ7"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":546,"column":1},"end":{"line":546,"column":1}},"children":[{"type":"text","value":"Shallow vs Deep Copies in Grid Simulations","position":{"start":{"line":546,"column":1},"end":{"line":546,"column":1}},"key":"B0ln99Nktb"}],"identifier":"shallow-vs-deep-copies-in-grid-simulations","label":"Shallow vs Deep Copies in Grid Simulations","html_id":"shallow-vs-deep-copies-in-grid-simulations","implicit":true,"key":"fwNxnlLzNw"},{"type":"paragraph","position":{"start":{"line":548,"column":1},"end":{"line":548,"column":1}},"children":[{"type":"text","value":"This distinction is critical for grid-based simulations in computational fluid dynamics or stellar atmospheres:","position":{"start":{"line":548,"column":1},"end":{"line":548,"column":1}},"key":"DBChFkawAQ"}],"key":"CIHtV0FasY"}],"key":"d39j7amgp8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import copy\n\n# Create a 2D grid for temperature distribution\nprint(\"Simulating heat diffusion on a grid:\")\ngrid = [[20.0, 20.0, 20.0],\n        [20.0, 50.0, 20.0],  # Hot spot in center\n        [20.0, 20.0, 20.0]]\nprint(f\"Initial grid: {grid[1]}\")  # Middle row\n\n# Shallow copy - DANGEROUS for grids!\nprint(\"\\n--- SHALLOW COPY (aliases inner arrays) ---\")\ngrid_next_shallow = grid.copy()\n# Try to update center point for next timestep\ngrid_next_shallow[1][1] = 35.0  # Cooling\n\nprint(f\"Original grid center: {grid[1][1]}Â°C\")\nprint(f\"Next step grid center: {grid_next_shallow[1][1]}Â°C\")\nprint(\"ğŸ˜± Modified both grids! Simulation is corrupted!\")\n\n# Reset\ngrid = [[20.0, 20.0, 20.0],\n        [20.0, 50.0, 20.0],\n        [20.0, 20.0, 20.0]]\n\n# Deep copy - SAFE for grids!\nprint(\"\\n--- DEEP COPY (independent arrays) ---\")\ngrid_next_deep = copy.deepcopy(grid)\ngrid_next_deep[1][1] = 35.0  # Cooling\n\nprint(f\"Original grid center: {grid[1][1]}Â°C\")\nprint(f\"Next step grid center: {grid_next_deep[1][1]}Â°C\")\nprint(\"âœ… Grids are independent! Simulation is correct!\")\n\nprint(\"\\nMemory visualization:\")\nprint(\"Shallow: grid â†’ [ref1, ref2, ref3] â†’ same inner arrays\")\nprint(\"Deep:    grid â†’ [ref1, ref2, ref3] â†’ independent arrays\")","key":"ynuIwuTZpW"},{"type":"output","id":"FX4T8RuYbaaxdH4NUP2tZ","data":[],"key":"Ea0s43TqjR"}],"key":"NXkNbgY0Tv"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":589,"column":1},"end":{"line":589,"column":1}},"children":[{"type":"text","value":"4.5 Dictionaries: O(1) Lookup Magic for Physics","position":{"start":{"line":589,"column":1},"end":{"line":589,"column":1}},"key":"Jyz7UzZF7E"}],"identifier":"id-4-5-dictionaries-o-1-lookup-magic-for-physics","label":"4.5 Dictionaries: O(1) Lookup Magic for Physics","html_id":"id-4-5-dictionaries-o-1-lookup-magic-for-physics","implicit":true,"key":"YxTl1aF0Lg"},{"type":"paragraph","position":{"start":{"line":591,"column":1},"end":{"line":591,"column":1}},"children":[{"type":"text","value":"Now we explore one of computer scienceâ€™s most elegant inventionsâ€”the ","position":{"start":{"line":591,"column":1},"end":{"line":591,"column":1}},"key":"iy3pECyw7M"},{"type":"strong","position":{"start":{"line":591,"column":1},"end":{"line":591,"column":1}},"children":[{"type":"text","value":"dictionary","position":{"start":{"line":591,"column":1},"end":{"line":591,"column":1}},"key":"fXJjObpSU5"}],"key":"dPp3n9HnzO"},{"type":"text","value":"! In computational physics, ","position":{"start":{"line":591,"column":1},"end":{"line":591,"column":1}},"key":"hgZK9dcTzA"},{"type":"strong","position":{"start":{"line":591,"column":1},"end":{"line":591,"column":1}},"children":[{"type":"text","value":"dictionaries","position":{"start":{"line":591,"column":1},"end":{"line":591,"column":1}},"key":"CFTgyfVhFw"}],"key":"Oh9BnOgFwq"},{"type":"text","value":" are perfect for particle properties, lookup tables, and ","position":{"start":{"line":591,"column":1},"end":{"line":591,"column":1}},"key":"uH999fEglr"},{"type":"strong","position":{"start":{"line":591,"column":1},"end":{"line":591,"column":1}},"children":[{"type":"text","value":"caching","position":{"start":{"line":591,"column":1},"end":{"line":591,"column":1}},"key":"ERpiWF3WQK"}],"key":"BiJyMNkAZN"},{"type":"text","value":" expensive calculations. Youâ€™re about to understand exactly how they achieve near-instantaneous lookups regardless of size.","position":{"start":{"line":591,"column":1},"end":{"line":591,"column":1}},"key":"s6huTQMvA8"}],"key":"ZfXIuEohRJ"},{"type":"heading","depth":3,"position":{"start":{"line":593,"column":1},"end":{"line":593,"column":1}},"children":[{"type":"text","value":"Organizing Simulation Data with Dictionaries","position":{"start":{"line":593,"column":1},"end":{"line":593,"column":1}},"key":"yqbxYENGAt"}],"identifier":"organizing-simulation-data-with-dictionaries","label":"Organizing Simulation Data with Dictionaries","html_id":"organizing-simulation-data-with-dictionaries","implicit":true,"key":"ccLwoJ5A0Q"},{"type":"paragraph","position":{"start":{"line":595,"column":1},"end":{"line":595,"column":1}},"children":[{"type":"text","value":"Letâ€™s see how ","position":{"start":{"line":595,"column":1},"end":{"line":595,"column":1}},"key":"o4PJI5jhYG"},{"type":"strong","position":{"start":{"line":595,"column":1},"end":{"line":595,"column":1}},"children":[{"type":"text","value":"dictionaries","position":{"start":{"line":595,"column":1},"end":{"line":595,"column":1}},"key":"B1MOLLjqFw"}],"key":"xAfiiDCLac"},{"type":"text","value":" transform particle management in an N-body simulation:","position":{"start":{"line":595,"column":1},"end":{"line":595,"column":1}},"key":"T1VSV1vXR6"}],"key":"ps53l2H5kw"}],"key":"zaGtdo0aaz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# N-body simulation: Managing particle properties efficiently\nimport json\nimport math\n\n# Individual particle data (could have thousands)\nparticles = {\n    'particle_0001': {\n        'mass': 1.989e30,  # grams (0.001 solar masses)\n        'position': [1.5e13, 0.0, 0.0],  # cm\n        'velocity': [0.0, 3.0e6, 0.0],   # cm/s\n        'type': 'star'\n    },\n    'particle_0002': {\n        'mass': 5.972e27,  # grams (Earth mass)\n        'position': [2.5e13, 0.0, 0.0],\n        'velocity': [0.0, 2.5e6, 0.0],\n        'type': 'planet'\n    },\n    'particle_0003': {\n        'mass': 7.342e25,  # grams (Moon mass)\n        'position': [2.54e13, 0.0, 0.0],\n        'velocity': [0.0, 2.4e6, 0.0],\n        'type': 'moon'\n    }\n}\n\n# O(1) lookup by particle ID - instant access!\ntarget = 'particle_0002'\nprint(f\"Accessing {target}:\")\nprint(f\"  Mass: {particles[target]['mass']:.2e} g\")\nprint(f\"  Type: {particles[target]['type']}\")\n\n# Organize by type for efficient group operations\nby_type = {}\nfor pid, data in particles.items():\n    ptype = data['type']\n    if ptype not in by_type:\n        by_type[ptype] = []\n    by_type[ptype].append(pid)\n\nprint(f\"\\nParticles by type: {by_type}\")\n\n# Calculate total mass by type (common in simulations)\nfor ptype, pids in by_type.items():\n    total_mass = sum(particles[pid]['mass'] for pid in pids)\n    print(f\"{ptype}: {total_mass:.2e} g\")\n\nprint(\"\\nDictionaries are perfect for:\")\nprint(\"- O(1) particle lookup by ID\")\nprint(\"- Grouping particles by properties\")\nprint(\"- Storing heterogeneous particle data\")","key":"SBfX5T9Qyr"},{"type":"output","id":"4ZVihyspgp67lNIq4FII4","data":[],"key":"R9JI5XUgur"}],"key":"L3MjPNTudm"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":651,"column":1},"end":{"line":651,"column":1}},"children":[{"type":"text","value":"Understanding Hash Tables for Physics Applications","position":{"start":{"line":651,"column":1},"end":{"line":651,"column":1}},"key":"jb2W00dhDh"}],"identifier":"understanding-hash-tables-for-physics-applications","label":"Understanding Hash Tables for Physics Applications","html_id":"understanding-hash-tables-for-physics-applications","implicit":true,"key":"LVSRvB7qEu"},{"type":"paragraph","position":{"start":{"line":653,"column":1},"end":{"line":653,"column":1}},"children":[{"type":"text","value":"Letâ€™s demystify how ","position":{"start":{"line":653,"column":1},"end":{"line":653,"column":1}},"key":"JxH2s8rtwV"},{"type":"strong","position":{"start":{"line":653,"column":1},"end":{"line":653,"column":1}},"children":[{"type":"text","value":"dictionaries","position":{"start":{"line":653,"column":1},"end":{"line":653,"column":1}},"key":"kyk2EJS958"}],"key":"P6ap31w5mc"},{"type":"text","value":" achieve ","position":{"start":{"line":653,"column":1},"end":{"line":653,"column":1}},"key":"Rcd2fJQek6"},{"type":"strong","position":{"start":{"line":653,"column":1},"end":{"line":653,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":653,"column":1},"end":{"line":653,"column":1}},"key":"ysnz8t6NGZ"}],"key":"dAYf4KFcjN"},{"type":"text","value":" lookupâ€”critical for lookup tables in equation of state calculations:","position":{"start":{"line":653,"column":1},"end":{"line":653,"column":1}},"key":"x1mFyltx5O"}],"key":"LihRw09Zh9"}],"key":"gENnZvkkRK"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def demonstrate_hashing_for_physics():\n    \"\"\"Show how hash tables enable fast lookups in physics codes.\"\"\"\n    \n    # Common lookup table keys in physics simulations\n    physics_keys = [\n        (1.0e6, 1.0e-3),   # (Temperature, Density) for EOS\n        (2.0e6, 2.0e-3),\n        (5.0e6, 1.0e-2),\n        \"H_ionization\",     # Reaction rates\n        \"He_ionization\",\n        \"opacity_rosseland\" # Opacity types\n    ]\n    \n    print(\"How hash tables accelerate physics lookups:\")\n    print(\"=\" * 60)\n    print(\"Key                  â†’ Hash        â†’ Bucket\")\n    print(\"-\" * 60)\n    \n    for key in physics_keys:\n        hash_value = hash(key)\n        # Simplified bucket calculation\n        bucket = abs(hash_value) % 100\n        if isinstance(key, tuple):\n            key_str = f\"T={key[0]:.0e}, Ï={key[1]:.0e}\"\n        else:\n            key_str = str(key)\n        print(f\"{key_str:20s} â†’ {hash_value:11d} â†’ {bucket:3d}\")\n    \n    print(\"\\nThe O(1) lookup process for equation of state:\")\n    print(\"1. Hash (T, Ï) pair â†’ integer\")\n    print(\"2. Map to bucket index\")\n    print(\"3. Direct array access!\")\n    print(\"\\nThis is why EOS tables are fast despite millions of entries!\")\n\ndemonstrate_hashing_for_physics()","key":"uXqLOrjtcx"},{"type":"output","id":"MfAFYUdLYwdZKN5CVnEK-","data":[],"key":"AXCAdUuQVB"}],"key":"d1KIlsMuvE"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":693,"column":1},"end":{"line":693,"column":1}},"children":[{"type":"text","value":"Dictionary Performance for Particle Lookups","position":{"start":{"line":693,"column":1},"end":{"line":693,"column":1}},"key":"Y9UO8ZYwJS"}],"identifier":"dictionary-performance-for-particle-lookups","label":"Dictionary Performance for Particle Lookups","html_id":"dictionary-performance-for-particle-lookups","implicit":true,"key":"KHyQ7bP76y"},{"type":"paragraph","position":{"start":{"line":695,"column":1},"end":{"line":695,"column":1}},"children":[{"type":"text","value":"Time to see the dramatic performance difference for particle system queries:","position":{"start":{"line":695,"column":1},"end":{"line":695,"column":1}},"key":"WyMcWFQjWk"}],"key":"ajefXjq7GV"}],"key":"kvqevYjl1R"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import time\nimport random\n\n# Create a large particle system\nn_particles = 1_000_000\nprint(f\"Creating system with {n_particles:,} particles...\")\n\n# List approach (what beginners might try)\nparticle_list = [(f\"particle_{i:07d}\", random.uniform(1e27, 1e30)) \n                 for i in range(n_particles)]\n\n# Dictionary approach (professional solution)\nparticle_dict = {f\"particle_{i:07d}\": random.uniform(1e27, 1e30) \n                 for i in range(n_particles)}\n\n# Search for specific particle\ntarget = \"particle_0500000\"\n\n# Time list search - O(n)\nstart = time.perf_counter()\nfor pid, mass in particle_list:\n    if pid == target:\n        mass_list = mass\n        break\nlist_time = time.perf_counter() - start\n\n# Time dict lookup - O(1)\nstart = time.perf_counter()\nmass_dict = particle_dict[target]\ndict_time = time.perf_counter() - start\n\nprint(f\"\\nFinding {target} among {n_particles:,} particles:\")\nprint(f\"List search: {list_time*1000:.3f} ms\")\nprint(f\"Dict lookup: {dict_time*1000:.6f} ms\")\nprint(f\"Dictionary is {list_time/dict_time:,.0f}Ã— faster!\")\n\nprint(\"\\nFor timestep calculations accessing many particles:\")\nprint(\"List: Each access is O(n) - simulation grinds to a halt\")\nprint(\"Dict: Each access is O(1) - scales to millions of particles\")","key":"qFoWzsjIhQ"},{"type":"output","id":"NOM5UE61k4DtuC3LdnmGO","data":[],"key":"ZC410UZ3kB"}],"key":"iG2svHnT5T"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"ğŸ’¡ Computational Thinking: Memoization in Physics Calculations","position":{"start":{"line":739,"column":1},"end":{"line":739,"column":1}},"key":"NGLHMUuvqt"}],"key":"wdrlANDyCt"},{"type":"paragraph","position":{"start":{"line":742,"column":1},"end":{"line":742,"column":1}},"children":[{"type":"text","value":"This ","position":{"start":{"line":742,"column":1},"end":{"line":742,"column":1}},"key":"fuMlgUye5M"},{"type":"strong","position":{"start":{"line":742,"column":1},"end":{"line":742,"column":1}},"children":[{"type":"text","value":"caching","position":{"start":{"line":742,"column":1},"end":{"line":742,"column":1}},"key":"s1q0btRuei"}],"key":"IblQnjcBmg"},{"type":"text","value":" pattern dramatically speeds up physics codes:","position":{"start":{"line":742,"column":1},"end":{"line":742,"column":1}},"key":"tVeSP3tvq6"}],"key":"R96DZ8Iv1w"},{"type":"code","lang":"python","value":"from functools import lru_cache\n\n@lru_cache(maxsize=10000)\ndef equation_of_state(temperature, density):\n    # Expensive calculation cached automatically\n    return complex_eos_calculation(temperature, density)","position":{"start":{"line":744,"column":1},"end":{"line":751,"column":1}},"key":"ise8H9Seox"},{"type":"paragraph","position":{"start":{"line":753,"column":1},"end":{"line":753,"column":1}},"children":[{"type":"strong","position":{"start":{"line":753,"column":1},"end":{"line":753,"column":1}},"children":[{"type":"text","value":"Real physics applications:","position":{"start":{"line":753,"column":1},"end":{"line":753,"column":1}},"key":"f8uIHDFDwm"}],"key":"cEnQ26b1Az"}],"key":"zuuKtbNxLl"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":754,"column":1},"end":{"line":758,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":754,"column":1},"end":{"line":754,"column":1}},"children":[{"type":"strong","position":{"start":{"line":754,"column":1},"end":{"line":754,"column":1}},"children":[{"type":"text","value":"Nuclear reaction rates","position":{"start":{"line":754,"column":1},"end":{"line":754,"column":1}},"key":"Q429ZuGz4P"}],"key":"QPHKwv4JWA"},{"type":"text","value":": ","position":{"start":{"line":754,"column":1},"end":{"line":754,"column":1}},"key":"vUYXRuxDHI"},{"type":"strong","position":{"start":{"line":754,"column":1},"end":{"line":754,"column":1}},"children":[{"type":"text","value":"Cache","position":{"start":{"line":754,"column":1},"end":{"line":754,"column":1}},"key":"ALWK54x0Fa"}],"key":"ujCRNzkLu4"},{"type":"text","value":" temperature-dependent rates","position":{"start":{"line":754,"column":1},"end":{"line":754,"column":1}},"key":"RDQbzX1neG"}],"key":"C3ZRp0k0Xq"},{"type":"listItem","spread":true,"position":{"start":{"line":755,"column":1},"end":{"line":755,"column":1}},"children":[{"type":"strong","position":{"start":{"line":755,"column":1},"end":{"line":755,"column":1}},"children":[{"type":"text","value":"Opacity calculations","position":{"start":{"line":755,"column":1},"end":{"line":755,"column":1}},"key":"XwEt1mzxJv"}],"key":"MsSPh15glV"},{"type":"text","value":": ","position":{"start":{"line":755,"column":1},"end":{"line":755,"column":1}},"key":"bOJ5GOShzo"},{"type":"strong","position":{"start":{"line":755,"column":1},"end":{"line":755,"column":1}},"children":[{"type":"text","value":"Cache","position":{"start":{"line":755,"column":1},"end":{"line":755,"column":1}},"key":"FF6J8Oz1xV"}],"key":"Ooxl3BdrOT"},{"type":"text","value":" (T, Ï, composition) lookups","position":{"start":{"line":755,"column":1},"end":{"line":755,"column":1}},"key":"wU3mKa433I"}],"key":"q6IQ3gtdbO"},{"type":"listItem","spread":true,"position":{"start":{"line":756,"column":1},"end":{"line":756,"column":1}},"children":[{"type":"strong","position":{"start":{"line":756,"column":1},"end":{"line":756,"column":1}},"children":[{"type":"text","value":"Stellar atmospheres","position":{"start":{"line":756,"column":1},"end":{"line":756,"column":1}},"key":"dWkt2MP34x"}],"key":"KR4ubVrH67"},{"type":"text","value":": ","position":{"start":{"line":756,"column":1},"end":{"line":756,"column":1}},"key":"SLbQs6mh6a"},{"type":"strong","position":{"start":{"line":756,"column":1},"end":{"line":756,"column":1}},"children":[{"type":"text","value":"Cache","position":{"start":{"line":756,"column":1},"end":{"line":756,"column":1}},"key":"PYrsu1UkaR"}],"key":"KT8glQs80O"},{"type":"text","value":" radiative transfer solutions","position":{"start":{"line":756,"column":1},"end":{"line":756,"column":1}},"key":"Nm0oZeNcZN"}],"key":"mXe8PDQKCy"},{"type":"listItem","spread":true,"position":{"start":{"line":757,"column":1},"end":{"line":758,"column":1}},"children":[{"type":"strong","position":{"start":{"line":757,"column":1},"end":{"line":757,"column":1}},"children":[{"type":"text","value":"Cosmological simulations","position":{"start":{"line":757,"column":1},"end":{"line":757,"column":1}},"key":"jU4Jr8t80p"}],"key":"xEUcwtdl2X"},{"type":"text","value":": ","position":{"start":{"line":757,"column":1},"end":{"line":757,"column":1}},"key":"cJh8Q37fcc"},{"type":"strong","position":{"start":{"line":757,"column":1},"end":{"line":757,"column":1}},"children":[{"type":"text","value":"Cache","position":{"start":{"line":757,"column":1},"end":{"line":757,"column":1}},"key":"bNPzsiyRgh"}],"key":"Z5HHbnmCs7"},{"type":"text","value":" cooling functions","position":{"start":{"line":757,"column":1},"end":{"line":757,"column":1}},"key":"JhWAfdSQIy"}],"key":"o7Iw6QIvAc"}],"key":"ijDDoaAl6N"},{"type":"paragraph","position":{"start":{"line":759,"column":1},"end":{"line":759,"column":1}},"children":[{"type":"text","value":"Example: The MESA stellar evolution code uses extensive ","position":{"start":{"line":759,"column":1},"end":{"line":759,"column":1}},"key":"ie76aXPtoC"},{"type":"strong","position":{"start":{"line":759,"column":1},"end":{"line":759,"column":1}},"children":[{"type":"text","value":"caching","position":{"start":{"line":759,"column":1},"end":{"line":759,"column":1}},"key":"CuD6IkYEvk"}],"key":"rtSmlsEmid"},{"type":"text","value":" of nuclear reaction rates, speeding up calculations by >100Ã— compared to recalculating every timestep.","position":{"start":{"line":759,"column":1},"end":{"line":759,"column":1}},"key":"NMgp8UQlZZ"}],"key":"yTHd44fasl"}],"class":"important","key":"aa6UN8ssSy"},{"type":"heading","depth":2,"position":{"start":{"line":762,"column":1},"end":{"line":762,"column":1}},"children":[{"type":"text","value":"4.6 Sets: Mathematical Operations for Particle Systems","position":{"start":{"line":762,"column":1},"end":{"line":762,"column":1}},"key":"DUGeKGWvX3"}],"identifier":"id-4-6-sets-mathematical-operations-for-particle-systems","label":"4.6 Sets: Mathematical Operations for Particle Systems","html_id":"id-4-6-sets-mathematical-operations-for-particle-systems","implicit":true,"key":"L2eZuGzVxz"},{"type":"paragraph","position":{"start":{"line":764,"column":1},"end":{"line":764,"column":1}},"children":[{"type":"strong","position":{"start":{"line":764,"column":1},"end":{"line":764,"column":1}},"children":[{"type":"text","value":"Sets","position":{"start":{"line":764,"column":1},"end":{"line":764,"column":1}},"key":"BWOoAzUE9C"}],"key":"uW6XWx1pKo"},{"type":"text","value":" are perfect for tracking unique particles, finding neighbors, and performing mathematical operations on particle groups. They provide ","position":{"start":{"line":764,"column":1},"end":{"line":764,"column":1}},"key":"nJbuN2hhkJ"},{"type":"strong","position":{"start":{"line":764,"column":1},"end":{"line":764,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":764,"column":1},"end":{"line":764,"column":1}},"key":"dTNsm21lgZ"}],"key":"SVWgb1TMIk"},{"type":"text","value":" membership testing plus elegant ","position":{"start":{"line":764,"column":1},"end":{"line":764,"column":1}},"key":"N22yT1xL1X"},{"type":"strong","position":{"start":{"line":764,"column":1},"end":{"line":764,"column":1}},"children":[{"type":"text","value":"set","position":{"start":{"line":764,"column":1},"end":{"line":764,"column":1}},"key":"EJSWkFcaCB"}],"key":"vo48cVONDy"},{"type":"text","value":" operationsâ€”ideal for computational physics!","position":{"start":{"line":764,"column":1},"end":{"line":764,"column":1}},"key":"S56WF7u4Kb"}],"key":"jhpM7BwNcD"},{"type":"heading","depth":3,"position":{"start":{"line":766,"column":1},"end":{"line":766,"column":1}},"children":[{"type":"text","value":"Set Operations in Particle Dynamics","position":{"start":{"line":766,"column":1},"end":{"line":766,"column":1}},"key":"stBI3VLrLH"}],"identifier":"set-operations-in-particle-dynamics","label":"Set Operations in Particle Dynamics","html_id":"set-operations-in-particle-dynamics","implicit":true,"key":"Ok4NgW9He9"}],"key":"QSjbJHpDSm"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Particle tracking across domain boundaries\n# (Common in parallel simulations with domain decomposition)\n\n# Particles in different processor domains\ndomain_A = {'p001', 'p002', 'p003', 'p004', 'p005'}\ndomain_B = {'p004', 'p005', 'p006', 'p007'}\ndomain_C = {'p003', 'p007', 'p008', 'p009'}\n\n# Particles that need communication (on boundaries)\nboundary_particles = (domain_A & domain_B) | (domain_B & domain_C) | (domain_A & domain_C)\nprint(f\"Boundary particles needing communication: {boundary_particles}\")\n\n# Particles unique to each domain (no communication needed)\ninterior_A = domain_A - domain_B - domain_C\ninterior_B = domain_B - domain_A - domain_C\ninterior_C = domain_C - domain_A - domain_B\nprint(f\"Interior particles (A): {interior_A}\")\n\n# Check particle conservation\nall_particles = domain_A | domain_B | domain_C\nprint(f\"Total unique particles: {len(all_particles)}\")\n\n# Particles in multiple domains (need consistency check)\nduplicated = set()\nall_domains = [domain_A, domain_B, domain_C]\nfor i in range(len(all_domains)):\n    for j in range(i+1, len(all_domains)):\n        duplicated |= (all_domains[i] & all_domains[j])\n\nprint(f\"Particles in multiple domains: {duplicated}\")\nprint(\"\\nSets make domain decomposition bookkeeping trivial!\")","key":"aq5NJ8AtZJ"},{"type":"output","id":"fxKHu4Fc616PPv4lGtoWi","data":[],"key":"sIuhA5GK7S"}],"key":"bISq06igIW"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":802,"column":1},"end":{"line":802,"column":1}},"children":[{"type":"text","value":"Performance: Sets vs Lists for Neighbor Finding","position":{"start":{"line":802,"column":1},"end":{"line":802,"column":1}},"key":"l7MfCqOB3V"}],"identifier":"performance-sets-vs-lists-for-neighbor-finding","label":"Performance: Sets vs Lists for Neighbor Finding","html_id":"performance-sets-vs-lists-for-neighbor-finding","implicit":true,"key":"qCMXC1ZZtg"}],"key":"ownavzTLtE"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import time\n\n# Simulate neighbor finding in particle simulation\nn_particles = 100_000\nn_neighbors = 100\n\nprint(f\"Finding neighbors among {n_particles:,} particles...\")\n\n# Create particle IDs\nall_particles = [f\"p_{i:06d}\" for i in range(n_particles)]\nneighbors = [f\"p_{i:06d}\" for i in range(n_neighbors)]\n\n# Convert to set for fast lookup\nall_particles_set = set(all_particles)\n\n# Test if neighbors exist - List approach\nstart = time.perf_counter()\nfor neighbor in neighbors:\n    found = neighbor in all_particles  # O(n) each time!\nlist_time = time.perf_counter() - start\n\n# Test if neighbors exist - Set approach  \nstart = time.perf_counter()\nfor neighbor in neighbors:\n    found = neighbor in all_particles_set  # O(1) each time!\nset_time = time.perf_counter() - start\n\nprint(f\"\\nChecking {n_neighbors} potential neighbors:\")\nprint(f\"List approach: {list_time*1000:.2f} ms\")\nprint(f\"Set approach:  {set_time*1000:.5f} ms\")\nprint(f\"Set is {list_time/set_time:,.0f}Ã— faster!\")\n\nprint(\"\\nFor molecular dynamics with millions of particles:\")\nprint(\"Set-based neighbor lists are essential for performance!\")","key":"kv1jRsvdZa"},{"type":"output","id":"jq0L313DunfXoJMc2x1Oe","data":[],"key":"gggDTBgnWI"}],"key":"AiUmQQnzL1"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"âœ… Check Your Understanding","position":{"start":{"line":841,"column":1},"end":{"line":841,"column":1}},"key":"yZ4HJmvsp7"}],"key":"JOIHbmViej"},{"type":"paragraph","position":{"start":{"line":844,"column":1},"end":{"line":844,"column":1}},"children":[{"type":"text","value":"Why is checking particle membership ","position":{"start":{"line":844,"column":1},"end":{"line":844,"column":1}},"key":"KuPHvKWZoq"},{"type":"strong","position":{"start":{"line":844,"column":1},"end":{"line":844,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":844,"column":1},"end":{"line":844,"column":1}},"key":"JPLUf4yFbO"}],"key":"XNdWx7DM1O"},{"type":"text","value":" with ","position":{"start":{"line":844,"column":1},"end":{"line":844,"column":1}},"key":"g3JmBufm18"},{"type":"strong","position":{"start":{"line":844,"column":1},"end":{"line":844,"column":1}},"children":[{"type":"text","value":"lists","position":{"start":{"line":844,"column":1},"end":{"line":844,"column":1}},"key":"v2O5SeLIin"}],"key":"w8tQYEsSEg"},{"type":"text","value":" but ","position":{"start":{"line":844,"column":1},"end":{"line":844,"column":1}},"key":"I5vMO96DuO"},{"type":"strong","position":{"start":{"line":844,"column":1},"end":{"line":844,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":844,"column":1},"end":{"line":844,"column":1}},"key":"C8KKZxrmm9"}],"key":"k1pgjn1RJH"},{"type":"text","value":" with ","position":{"start":{"line":844,"column":1},"end":{"line":844,"column":1}},"key":"wh7nmAZXL5"},{"type":"strong","position":{"start":{"line":844,"column":1},"end":{"line":844,"column":1}},"children":[{"type":"text","value":"sets","position":{"start":{"line":844,"column":1},"end":{"line":844,"column":1}},"key":"hRbxevKDM7"}],"key":"qTwQWiVmBT"},{"type":"text","value":"?","position":{"start":{"line":844,"column":1},"end":{"line":844,"column":1}},"key":"nThbeNQStu"}],"key":"HqZJEW6cPB"},{"type":"paragraph","position":{"start":{"line":846,"column":1},"end":{"line":846,"column":1}},"children":[{"type":"text","value":"Think about the search process...","position":{"start":{"line":846,"column":1},"end":{"line":846,"column":1}},"key":"Rl6szQJEhd"}],"key":"KQ3hptWoTU"},{"type":"paragraph","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"children":[{"type":"strong","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"children":[{"type":"text","value":"Answer:","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"key":"P3jwWE5Iqi"}],"key":"XPIxkZrgnb"},{"type":"text","value":" ","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"key":"f1UoFLOPro"},{"type":"strong","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"children":[{"type":"text","value":"Lists","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"key":"EM78VvJ4oL"}],"key":"yjZg3AZW1u"},{"type":"text","value":" must check each element sequentially until finding a match (or reaching the end)â€”this is ","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"key":"g5sehhm6XZ"},{"type":"strong","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"key":"mxDXLDV0zo"}],"key":"AnV3Mpmzns"},{"type":"text","value":" linear time. ","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"key":"nbeFF4cmbU"},{"type":"strong","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"children":[{"type":"text","value":"Sets","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"key":"wVPghHf8R6"}],"key":"XkcelqBjAh"},{"type":"text","value":" use ","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"key":"eszzwPsJPD"},{"type":"strong","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"children":[{"type":"text","value":"hash tables","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"key":"x8TnDa5Fse"}],"key":"sL3uaTGu0n"},{"type":"text","value":": they compute a hash of the particle ID and jump directly to where it would be storedâ€”this is ","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"key":"PdZ8hNiLi9"},{"type":"strong","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"key":"YBU64kJNPx"}],"key":"UMY50E1YdH"},{"type":"text","value":" constant time.","position":{"start":{"line":848,"column":1},"end":{"line":848,"column":1}},"key":"cOZgXYO7TL"}],"key":"LzmtJCPirB"},{"type":"paragraph","position":{"start":{"line":850,"column":1},"end":{"line":850,"column":1}},"children":[{"type":"text","value":"For a million-particle simulation, this is the difference between microseconds and seconds per lookup. When youâ€™re checking thousands of particle interactions per timestep, this performance difference determines whether your simulation finishes in hours or weeks!","position":{"start":{"line":850,"column":1},"end":{"line":850,"column":1}},"key":"CpT3iITvLA"}],"key":"Sv8coq05Dy"}],"class":"hint","key":"n2lPyhm8yF"},{"type":"heading","depth":2,"position":{"start":{"line":853,"column":1},"end":{"line":853,"column":1}},"children":[{"type":"text","value":"4.7 Memory and Performance for Scientific Computing","position":{"start":{"line":853,"column":1},"end":{"line":853,"column":1}},"key":"wN4IdtQUSi"}],"identifier":"id-4-7-memory-and-performance-for-scientific-computing","label":"4.7 Memory and Performance for Scientific Computing","html_id":"id-4-7-memory-and-performance-for-scientific-computing","implicit":true,"key":"C6aeXIDsh2"},{"type":"paragraph","position":{"start":{"line":855,"column":1},"end":{"line":855,"column":1}},"children":[{"type":"text","value":"Understanding memory layout is crucial for scientific computing. These concepts explain why specialized numerical libraries are so much faster than pure Python and will help you write ","position":{"start":{"line":855,"column":1},"end":{"line":855,"column":1}},"key":"VT8tL4Gogb"},{"type":"strong","position":{"start":{"line":855,"column":1},"end":{"line":855,"column":1}},"children":[{"type":"text","value":"cache","position":{"start":{"line":855,"column":1},"end":{"line":855,"column":1}},"key":"McZfdAgSYG"}],"key":"XInNzfNriz"},{"type":"text","value":"-efficient simulation codes.","position":{"start":{"line":855,"column":1},"end":{"line":855,"column":1}},"key":"j5eYeX6lP6"}],"key":"xapokKUIwM"},{"type":"heading","depth":3,"position":{"start":{"line":857,"column":1},"end":{"line":857,"column":1}},"children":[{"type":"text","value":"Memory Usage in Particle Systems","position":{"start":{"line":857,"column":1},"end":{"line":857,"column":1}},"key":"EkXwfHsxdx"}],"identifier":"memory-usage-in-particle-systems","label":"Memory Usage in Particle Systems","html_id":"memory-usage-in-particle-systems","implicit":true,"key":"d8LhrP5fEu"},{"type":"paragraph","position":{"start":{"line":859,"column":1},"end":{"line":859,"column":1}},"children":[{"type":"text","value":"Letâ€™s examine memory costs for different ","position":{"start":{"line":859,"column":1},"end":{"line":859,"column":1}},"key":"UHskSL1LX7"},{"type":"strong","position":{"start":{"line":859,"column":1},"end":{"line":859,"column":1}},"children":[{"type":"text","value":"data structures","position":{"start":{"line":859,"column":1},"end":{"line":859,"column":1}},"key":"dtey3OdXAo"}],"key":"SXEdzvoJnT"},{"type":"text","value":" in a particle simulation context:","position":{"start":{"line":859,"column":1},"end":{"line":859,"column":1}},"key":"gu7I4XDvtl"}],"key":"vjjqul3Ts8"}],"key":"GG4hKUSNnt"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import sys\n\n# Stage 1: Basic Memory Measurement (8 lines)\ndef measure_particle_memory(n=10000):\n    \"\"\"Compare memory for particle ID storage.\"\"\"\n    ids_list = [f\"p_{i:06d}\" for i in range(n)]\n    ids_set = set(ids_list)\n    \n    print(f\"Storing {n:,} particle IDs:\")\n    print(f\"  List: {sys.getsizeof(ids_list):,} bytes\")\n    print(f\"  Set:  {sys.getsizeof(ids_set):,} bytes\")\n    print(f\"  Set overhead: {sys.getsizeof(ids_set)/sys.getsizeof(ids_list):.1f}Ã—\")\n\nmeasure_particle_memory()","key":"bga40gb7Za"},{"type":"output","id":"sTfWByQXNiuqPzZKCdBmr","data":[],"key":"M9pETDkcMF"}],"key":"qF3a2UWPC0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Stage 2: Understanding the Tradeoff (10 lines)\ndef understand_physics_tradeoffs():\n    \"\"\"Memory vs speed tradeoffs in physics codes.\"\"\"\n    # Small particle system\n    n = 100\n    positions = [[i*1.0, 0.0, 0.0] for i in range(n)]\n    \n    list_bytes = sys.getsizeof(positions)\n    # If we used spatial hashing (dict of cells)\n    dict_bytes = sys.getsizeof({i: pos for i, pos in enumerate(positions)})\n    \n    print(f\"100 particles as list: {list_bytes:,} bytes\")\n    print(f\"With spatial hash: ~{dict_bytes:,} bytes\")\n    print(f\"Extra {dict_bytes - list_bytes:,} bytes enables O(1) neighbor finding!\")\n    print(\"\\nReal codes like LAMMPS use this tradeoff extensively\")\n\nunderstand_physics_tradeoffs()","key":"KgcwosSQ5k"},{"type":"output","id":"_yRJ2oB8ZEGOSZp-PUuFv","data":[],"key":"hSd0YEBeKL"}],"key":"rOE4fuwQWM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Stage 3: Complete Memory Profile for Simulation (12 lines)\ndef profile_simulation_structures(n_particles=1000):\n    \"\"\"Memory comparison for complete particle system.\"\"\"\n    import numpy as np  # Preview of Chapter 7\n    \n    structures = {\n        'List of lists': [[i, i*1.0, 0.0, 0.0] for i in range(n_particles)],\n        'List of tuples': [(i, i*1.0, 0.0, 0.0) for i in range(n_particles)],\n        'Dictionary': {i: [i*1.0, 0.0, 0.0] for i in range(n_particles)},\n        'NumPy (preview)': np.zeros((n_particles, 4))\n    }\n    \n    print(f\"Memory for {n_particles:,} particles (ID, x, y, z):\")\n    print(\"-\" * 50)\n    for name, struct in structures.items():\n        size = sys.getsizeof(struct)\n        per_particle = size / n_particles\n        print(f\"{name:15s}: {size:8,} bytes ({per_particle:.1f} bytes/particle)\")\n\nprofile_simulation_structures()\nprint(\"\\nNotice NumPy's dramatic efficiency - that's Chapter 7!\")","key":"YeysxIDdP2"},{"type":"output","id":"7D8xyfqkgEOuVu66nxHhQ","data":[],"key":"q9IgcTse7L"}],"key":"xlKV3UEnBp"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":922,"column":1},"end":{"line":922,"column":1}},"children":[{"type":"text","value":"Cache Efficiency in Grid Computations","position":{"start":{"line":922,"column":1},"end":{"line":922,"column":1}},"key":"D4zvUEqMDc"}],"identifier":"cache-efficiency-in-grid-computations","label":"Cache Efficiency in Grid Computations","html_id":"cache-efficiency-in-grid-computations","implicit":true,"key":"wopXaTS4Hg"},{"type":"paragraph","position":{"start":{"line":924,"column":1},"end":{"line":924,"column":1}},"children":[{"type":"text","value":"Modern CPUs are fast, but memory access is slow. Understanding cache efficiency is critical for grid-based simulations:","position":{"start":{"line":924,"column":1},"end":{"line":924,"column":1}},"key":"B8HcN1iYaP"}],"key":"rqtULuLBPE"}],"key":"NTEjQlYJoZ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import time\n\n# Demonstrate cache effects in finite difference calculations\nsize = 500  # Grid size for heat equation\ngrid = [[20.0 + 0.1*i*j for j in range(size)] \n        for i in range(size)]\n\nprint(\"Simulating heat diffusion finite differences:\")\nprint(\"(Common in CFD and stellar atmosphere codes)\")\n\n# Row-major access (cache-friendly in Python)\nstart = time.perf_counter()\ntotal = 0.0\nfor i in range(size):\n    for j in range(size):\n        total += grid[i][j]\nrow_time = time.perf_counter() - start\n\n# Column-major access (cache-hostile in Python)\nstart = time.perf_counter()\ntotal = 0.0\nfor j in range(size):\n    for i in range(size):\n        total += grid[i][j]\ncol_time = time.perf_counter() - start\n\nprint(f\"\\nProcessing {size}Ã—{size} grid:\")\nprint(f\"Row-major (cache-friendly):   {row_time*1000:.1f} ms\")\nprint(f\"Column-major (cache-hostile): {col_time*1000:.1f} ms\")\nprint(f\"Column-major is {col_time/row_time:.1f}Ã— slower!\")\n\nprint(\"\\nNote: Python's object overhead masks some effects.\")\nprint(\"In NumPy/C/Fortran with contiguous arrays, this difference\")\nprint(\"can be 10-100Ã—! This is why CFD codes carefully order loops.\")","key":"uagG7dzgMF"},{"type":"output","id":"q7gB6Qm-aejiLST8lZAT-","data":[],"key":"im8DqJnLjx"}],"key":"BNgr6P2Car"},{"type":"block","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"âš ï¸ Common Bug Alert: The Iteration Modification Trap","position":{"start":{"line":963,"column":1},"end":{"line":963,"column":1}},"key":"DYqv3Ce9wk"}],"key":"uQ9AuGg1Ky"},{"type":"paragraph","position":{"start":{"line":966,"column":1},"end":{"line":966,"column":1}},"children":[{"type":"text","value":"Never modify a collection while iteratingâ€”a common bug in particle removal:","position":{"start":{"line":966,"column":1},"end":{"line":966,"column":1}},"key":"w6ba68uFYZ"}],"key":"IKuChzECu0"},{"type":"code","lang":"python","value":"# THE BUG - Skips particles!\nparticles = [p1, p2, p3, p4, p5]\nfor p in particles:\n    if p.escaped_boundary():\n        particles.remove(p)  # WRONG! Skips next particle\n\n# THE FIX 1: Iterate over copy\nfor p in particles.copy():\n    if p.escaped_boundary():\n        particles.remove(p)\n\n# THE FIX 2: List comprehension (best for physics)\nparticles = [p for p in particles if not p.escaped_boundary()]\n\n# THE FIX 3: Build removal list\nto_remove = []\nfor p in particles:\n    if p.escaped_boundary():\n        to_remove.append(p)\nfor p in to_remove:\n    particles.remove(p)","position":{"start":{"line":968,"column":1},"end":{"line":990,"column":1}},"key":"xChX3I7UVh"},{"type":"paragraph","position":{"start":{"line":992,"column":1},"end":{"line":992,"column":1}},"children":[{"type":"text","value":"This bug has corrupted many molecular dynamics simulations!","position":{"start":{"line":992,"column":1},"end":{"line":992,"column":1}},"key":"KkckMtT3It"}],"key":"BHuw6SJmKC"}],"class":"warning","key":"ryspIvn8iU"},{"type":"heading","depth":2,"position":{"start":{"line":995,"column":1},"end":{"line":995,"column":1}},"children":[{"type":"text","value":"4.8 Choosing the Right Structure for Physics","position":{"start":{"line":995,"column":1},"end":{"line":995,"column":1}},"key":"apfidtS9jg"}],"identifier":"id-4-8-choosing-the-right-structure-for-physics","label":"4.8 Choosing the Right Structure for Physics","html_id":"id-4-8-choosing-the-right-structure-for-physics","implicit":true,"key":"qbUOb6AUJm"},{"type":"paragraph","position":{"start":{"line":997,"column":1},"end":{"line":997,"column":1}},"children":[{"type":"text","value":"After exploring all options, how do you choose? Hereâ€™s your decision framework for computational physics:","position":{"start":{"line":997,"column":1},"end":{"line":997,"column":1}},"key":"OlYlk8mSIP"}],"key":"NtPwCQWqMM"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"âœ… Check Your Understanding","position":{"start":{"line":999,"column":1},"end":{"line":999,"column":1}},"key":"GfPBelisJ0"}],"key":"y1yEbrD1dq"},{"type":"paragraph","position":{"start":{"line":1002,"column":1},"end":{"line":1002,"column":1}},"children":[{"type":"text","value":"For each physics scenario, what ","position":{"start":{"line":1002,"column":1},"end":{"line":1002,"column":1}},"key":"BZj7pUswea"},{"type":"strong","position":{"start":{"line":1002,"column":1},"end":{"line":1002,"column":1}},"children":[{"type":"text","value":"data structure","position":{"start":{"line":1002,"column":1},"end":{"line":1002,"column":1}},"key":"fgrGxn20Cd"}],"key":"GnRGi5pQJS"},{"type":"text","value":" would you choose?","position":{"start":{"line":1002,"column":1},"end":{"line":1002,"column":1}},"key":"gKQK3Stxw5"}],"key":"u8GuJ4uz30"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":1004,"column":1},"end":{"line":1008,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1004,"column":1},"end":{"line":1004,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1004,"column":1},"end":{"line":1004,"column":1}},"children":[{"type":"text","value":"Tracking unique particle IDs in collision detection","position":{"start":{"line":1004,"column":1},"end":{"line":1004,"column":1}},"key":"pR32RQPOqn"}],"key":"juE4Bl9NLW"},{"type":"text","value":" â†’ ?","position":{"start":{"line":1004,"column":1},"end":{"line":1004,"column":1}},"key":"AJlsxfmKVW"}],"key":"wHVb28tTe5"},{"type":"listItem","spread":true,"position":{"start":{"line":1005,"column":1},"end":{"line":1005,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1005,"column":1},"end":{"line":1005,"column":1}},"children":[{"type":"text","value":"Time series of energy measurements","position":{"start":{"line":1005,"column":1},"end":{"line":1005,"column":1}},"key":"btlou4EYX5"}],"key":"jVZgXxLYtI"},{"type":"text","value":" â†’ ?","position":{"start":{"line":1005,"column":1},"end":{"line":1005,"column":1}},"key":"nY7Cx1egWz"}],"key":"OtkkCZB4Iq"},{"type":"listItem","spread":true,"position":{"start":{"line":1006,"column":1},"end":{"line":1006,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1006,"column":1},"end":{"line":1006,"column":1}},"children":[{"type":"text","value":"Caching expensive equation of state calculations","position":{"start":{"line":1006,"column":1},"end":{"line":1006,"column":1}},"key":"jVVgupJTjO"}],"key":"TnAjrDK6A7"},{"type":"text","value":" â†’ ?","position":{"start":{"line":1006,"column":1},"end":{"line":1006,"column":1}},"key":"aw18VWWgC6"}],"key":"D4kkQlijba"},{"type":"listItem","spread":true,"position":{"start":{"line":1007,"column":1},"end":{"line":1008,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1007,"column":1},"end":{"line":1007,"column":1}},"children":[{"type":"text","value":"Physical constants that must not change","position":{"start":{"line":1007,"column":1},"end":{"line":1007,"column":1}},"key":"KNwTEGavpv"}],"key":"Z4ULlwtqzm"},{"type":"text","value":" â†’ ?","position":{"start":{"line":1007,"column":1},"end":{"line":1007,"column":1}},"key":"kANy7pCVGl"}],"key":"mBJsQvl3US"}],"key":"d3LaCFQ4RK"},{"type":"paragraph","position":{"start":{"line":1009,"column":1},"end":{"line":1009,"column":1}},"children":[{"type":"text","value":"Think before reading...","position":{"start":{"line":1009,"column":1},"end":{"line":1009,"column":1}},"key":"klr1KqGzGW"}],"key":"vBLVst6cSu"},{"type":"paragraph","position":{"start":{"line":1011,"column":1},"end":{"line":1011,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1011,"column":1},"end":{"line":1011,"column":1}},"children":[{"type":"text","value":"Answers:","position":{"start":{"line":1011,"column":1},"end":{"line":1011,"column":1}},"key":"UeyQ97JbHe"}],"key":"ZGf8KeVqLu"}],"key":"TCT1bioDQ7"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":1012,"column":1},"end":{"line":1015,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1012,"column":1},"end":{"line":1012,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1012,"column":1},"end":{"line":1012,"column":1}},"children":[{"type":"text","value":"Set","position":{"start":{"line":1012,"column":1},"end":{"line":1012,"column":1}},"key":"IS0LdRAKKp"}],"key":"ymE3GA3Vpo"},{"type":"text","value":" (unique particles, ","position":{"start":{"line":1012,"column":1},"end":{"line":1012,"column":1}},"key":"Ln2sHSmG6l"},{"type":"strong","position":{"start":{"line":1012,"column":1},"end":{"line":1012,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1012,"column":1},"end":{"line":1012,"column":1}},"key":"z28FvaCP5b"}],"key":"BhhtRsJdVi"},{"type":"text","value":" collision checks)","position":{"start":{"line":1012,"column":1},"end":{"line":1012,"column":1}},"key":"EVc0UE70mO"}],"key":"Qr0ILNGXKr"},{"type":"listItem","spread":true,"position":{"start":{"line":1013,"column":1},"end":{"line":1013,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1013,"column":1},"end":{"line":1013,"column":1}},"children":[{"type":"text","value":"List","position":{"start":{"line":1013,"column":1},"end":{"line":1013,"column":1}},"key":"oyZEokIxI2"}],"key":"arWsQDKmZ1"},{"type":"text","value":" (ordered by time, allows duplicates)","position":{"start":{"line":1013,"column":1},"end":{"line":1013,"column":1}},"key":"vCOaRLUrVX"}],"key":"Acbn8HHSnW"},{"type":"listItem","spread":true,"position":{"start":{"line":1014,"column":1},"end":{"line":1014,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1014,"column":1},"end":{"line":1014,"column":1}},"children":[{"type":"text","value":"Dictionary","position":{"start":{"line":1014,"column":1},"end":{"line":1014,"column":1}},"key":"Tila4yjPV6"}],"key":"UrkhLHPMLA"},{"type":"text","value":" (","position":{"start":{"line":1014,"column":1},"end":{"line":1014,"column":1}},"key":"yuMUvH7J5O"},{"type":"strong","position":{"start":{"line":1014,"column":1},"end":{"line":1014,"column":1}},"children":[{"type":"text","value":"cache","position":{"start":{"line":1014,"column":1},"end":{"line":1014,"column":1}},"key":"lT6n9Vi0av"}],"key":"alHgPWI7Rz"},{"type":"text","value":" (T,Ï) â†’ pressure with ","position":{"start":{"line":1014,"column":1},"end":{"line":1014,"column":1}},"key":"nwVoaxvkIn"},{"type":"strong","position":{"start":{"line":1014,"column":1},"end":{"line":1014,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1014,"column":1},"end":{"line":1014,"column":1}},"key":"MKXtog2SUN"}],"key":"B9d8OUoksz"},{"type":"text","value":" lookup)","position":{"start":{"line":1014,"column":1},"end":{"line":1014,"column":1}},"key":"OELfLkBSf1"}],"key":"YOUiaRaqyq"},{"type":"listItem","spread":true,"position":{"start":{"line":1015,"column":1},"end":{"line":1015,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1015,"column":1},"end":{"line":1015,"column":1}},"children":[{"type":"text","value":"Tuple","position":{"start":{"line":1015,"column":1},"end":{"line":1015,"column":1}},"key":"kWnoCysCVN"}],"key":"hX7EBD3hgi"},{"type":"text","value":" or namedtuple (","position":{"start":{"line":1015,"column":1},"end":{"line":1015,"column":1}},"key":"HrvvO7Rf8E"},{"type":"strong","position":{"start":{"line":1015,"column":1},"end":{"line":1015,"column":1}},"children":[{"type":"text","value":"immutable","position":{"start":{"line":1015,"column":1},"end":{"line":1015,"column":1}},"key":"EP11526nNr"}],"key":"T6XZM07of0"},{"type":"text","value":" constants, prevents accidents)","position":{"start":{"line":1015,"column":1},"end":{"line":1015,"column":1}},"key":"XbPBCigJLX"}],"key":"I3YbYRfirW"}],"key":"DGeDbZw73w"}],"class":"hint","key":"tOjtxfNKef"},{"type":"heading","depth":3,"position":{"start":{"line":1018,"column":1},"end":{"line":1018,"column":1}},"children":[{"type":"text","value":"Performance Quick Reference for Physics","position":{"start":{"line":1018,"column":1},"end":{"line":1018,"column":1}},"key":"EfSojOTK4J"}],"identifier":"performance-quick-reference-for-physics","label":"Performance Quick Reference for Physics","html_id":"performance-quick-reference-for-physics","implicit":true,"key":"BVTygL0k9u"},{"type":"table","position":{"start":{"line":1020,"column":1},"end":{"line":1027,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1020,"column":1},"end":{"line":1020,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1020,"column":1},"end":{"line":1020,"column":1}},"children":[{"type":"text","value":"Operation","position":{"start":{"line":1020,"column":1},"end":{"line":1020,"column":1}},"key":"vSfpZ20N1t"}],"key":"OYTDFe9Oxd"},{"type":"tableCell","header":true,"position":{"start":{"line":1020,"column":1},"end":{"line":1020,"column":1}},"children":[{"type":"text","value":"List","position":{"start":{"line":1020,"column":1},"end":{"line":1020,"column":1}},"key":"OpkLwI556h"}],"key":"TUCzVDrIC2"},{"type":"tableCell","header":true,"position":{"start":{"line":1020,"column":1},"end":{"line":1020,"column":1}},"children":[{"type":"text","value":"Tuple","position":{"start":{"line":1020,"column":1},"end":{"line":1020,"column":1}},"key":"oaTGyuLIyd"}],"key":"Lw8km4eCR1"},{"type":"tableCell","header":true,"position":{"start":{"line":1020,"column":1},"end":{"line":1020,"column":1}},"children":[{"type":"text","value":"Dict","position":{"start":{"line":1020,"column":1},"end":{"line":1020,"column":1}},"key":"dlwpomyLpV"}],"key":"jgoa2XD86X"},{"type":"tableCell","header":true,"position":{"start":{"line":1020,"column":1},"end":{"line":1020,"column":1}},"children":[{"type":"text","value":"Set","position":{"start":{"line":1020,"column":1},"end":{"line":1020,"column":1}},"key":"QI8LE5QjsB"}],"key":"qmwjdeLz1f"}],"key":"x7duvvHsmi"},{"type":"tableRow","position":{"start":{"line":1022,"column":1},"end":{"line":1022,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1022,"column":1},"end":{"line":1022,"column":1}},"children":[{"type":"text","value":"Access by index","position":{"start":{"line":1022,"column":1},"end":{"line":1022,"column":1}},"key":"OqfPACyHXJ"}],"key":"OVUAhf9fOu"},{"type":"tableCell","position":{"start":{"line":1022,"column":1},"end":{"line":1022,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1022,"column":1},"end":{"line":1022,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1022,"column":1},"end":{"line":1022,"column":1}},"key":"qBLF8kYTBl"}],"key":"pbpzEUgPui"}],"key":"VTemKZAqJt"},{"type":"tableCell","position":{"start":{"line":1022,"column":1},"end":{"line":1022,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1022,"column":1},"end":{"line":1022,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1022,"column":1},"end":{"line":1022,"column":1}},"key":"cZg5naSqUn"}],"key":"QZADj0OSPi"}],"key":"UD4B2BKFJZ"},{"type":"tableCell","position":{"start":{"line":1022,"column":1},"end":{"line":1022,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1022,"column":1},"end":{"line":1022,"column":1}},"key":"FGDcanHI7I"}],"key":"DL2hVoC4P6"},{"type":"tableCell","position":{"start":{"line":1022,"column":1},"end":{"line":1022,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1022,"column":1},"end":{"line":1022,"column":1}},"key":"ESpoyNn8Hh"}],"key":"ELYmObDheF"}],"key":"ln2DvQocBa"},{"type":"tableRow","position":{"start":{"line":1023,"column":1},"end":{"line":1023,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1023,"column":1},"end":{"line":1023,"column":1}},"children":[{"type":"text","value":"Search for particle","position":{"start":{"line":1023,"column":1},"end":{"line":1023,"column":1}},"key":"YayHJtbkl5"}],"key":"MwtGYSlmns"},{"type":"tableCell","position":{"start":{"line":1023,"column":1},"end":{"line":1023,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1023,"column":1},"end":{"line":1023,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":1023,"column":1},"end":{"line":1023,"column":1}},"key":"X5DwmJbdqM"}],"key":"nQex0e43Ml"}],"key":"Jz0mxjrYD9"},{"type":"tableCell","position":{"start":{"line":1023,"column":1},"end":{"line":1023,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1023,"column":1},"end":{"line":1023,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":1023,"column":1},"end":{"line":1023,"column":1}},"key":"LRU1KyBqd2"}],"key":"qWfTpjKiAS"}],"key":"m2YBGN8mLv"},{"type":"tableCell","position":{"start":{"line":1023,"column":1},"end":{"line":1023,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1023,"column":1},"end":{"line":1023,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1023,"column":1},"end":{"line":1023,"column":1}},"key":"uY6YJd4Q7l"}],"key":"zJeOnLZtwV"},{"type":"text","value":"*","position":{"start":{"line":1023,"column":1},"end":{"line":1023,"column":1}},"key":"pqKqQtUwGE"}],"key":"qe3oU6RtJp"},{"type":"tableCell","position":{"start":{"line":1023,"column":1},"end":{"line":1023,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1023,"column":1},"end":{"line":1023,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1023,"column":1},"end":{"line":1023,"column":1}},"key":"jVZFiN7mbo"}],"key":"Ws0qak5tzl"}],"key":"AToOFsaIiA"}],"key":"lb5w8Xmcdq"},{"type":"tableRow","position":{"start":{"line":1024,"column":1},"end":{"line":1024,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1024,"column":1},"end":{"line":1024,"column":1}},"children":[{"type":"text","value":"Add particle","position":{"start":{"line":1024,"column":1},"end":{"line":1024,"column":1}},"key":"SUq84l6Naj"}],"key":"a1LOpaZmuZ"},{"type":"tableCell","position":{"start":{"line":1024,"column":1},"end":{"line":1024,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1024,"column":1},"end":{"line":1024,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1024,"column":1},"end":{"line":1024,"column":1}},"key":"uw6mQy7eC8"}],"key":"LxC205McSS"},{"type":"text","value":"â€ ","position":{"start":{"line":1024,"column":1},"end":{"line":1024,"column":1}},"key":"I5LYyE36iX"}],"key":"aSdOGnvMII"},{"type":"tableCell","position":{"start":{"line":1024,"column":1},"end":{"line":1024,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1024,"column":1},"end":{"line":1024,"column":1}},"key":"dfobH8Jisl"}],"key":"OrDwY8KzHX"},{"type":"tableCell","position":{"start":{"line":1024,"column":1},"end":{"line":1024,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1024,"column":1},"end":{"line":1024,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1024,"column":1},"end":{"line":1024,"column":1}},"key":"LkXHgohouv"}],"key":"Clq5aHDBNC"},{"type":"text","value":"â€ ","position":{"start":{"line":1024,"column":1},"end":{"line":1024,"column":1}},"key":"fmoUtZzaPq"}],"key":"y7IAloJqfN"},{"type":"tableCell","position":{"start":{"line":1024,"column":1},"end":{"line":1024,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1024,"column":1},"end":{"line":1024,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1024,"column":1},"end":{"line":1024,"column":1}},"key":"HLEid9vLb2"}],"key":"JLxDJ4mJTR"},{"type":"text","value":"â€ ","position":{"start":{"line":1024,"column":1},"end":{"line":1024,"column":1}},"key":"jp0DOHuwti"}],"key":"Nbp3I3VUAe"}],"key":"Bd5TYynt7B"},{"type":"tableRow","position":{"start":{"line":1025,"column":1},"end":{"line":1025,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1025,"column":1},"end":{"line":1025,"column":1}},"children":[{"type":"text","value":"Remove particle","position":{"start":{"line":1025,"column":1},"end":{"line":1025,"column":1}},"key":"J7IqKZwFuw"}],"key":"y4iUf1q3Bz"},{"type":"tableCell","position":{"start":{"line":1025,"column":1},"end":{"line":1025,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1025,"column":1},"end":{"line":1025,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":1025,"column":1},"end":{"line":1025,"column":1}},"key":"DmWzF8Unj5"}],"key":"Li6BgtpVGN"}],"key":"zeUxiNvFQY"},{"type":"tableCell","position":{"start":{"line":1025,"column":1},"end":{"line":1025,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1025,"column":1},"end":{"line":1025,"column":1}},"key":"PXsJik0cqS"}],"key":"bMynMSArLC"},{"type":"tableCell","position":{"start":{"line":1025,"column":1},"end":{"line":1025,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1025,"column":1},"end":{"line":1025,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1025,"column":1},"end":{"line":1025,"column":1}},"key":"dc2cBde0YY"}],"key":"idoMU0eGV4"}],"key":"W2zoRH0kJE"},{"type":"tableCell","position":{"start":{"line":1025,"column":1},"end":{"line":1025,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1025,"column":1},"end":{"line":1025,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1025,"column":1},"end":{"line":1025,"column":1}},"key":"H4kE6TTYIo"}],"key":"Fl0sPHji3g"}],"key":"rlwhSiRJeH"}],"key":"ckbjppZ2tZ"},{"type":"tableRow","position":{"start":{"line":1026,"column":1},"end":{"line":1026,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1026,"column":1},"end":{"line":1026,"column":1}},"children":[{"type":"text","value":"Memory (relative)","position":{"start":{"line":1026,"column":1},"end":{"line":1026,"column":1}},"key":"pW8f33Jw8O"}],"key":"jENKYv96Ti"},{"type":"tableCell","position":{"start":{"line":1026,"column":1},"end":{"line":1026,"column":1}},"children":[{"type":"text","value":"1Ã—","position":{"start":{"line":1026,"column":1},"end":{"line":1026,"column":1}},"key":"rJdzBO5o2M"}],"key":"tVla7HDZ1R"},{"type":"tableCell","position":{"start":{"line":1026,"column":1},"end":{"line":1026,"column":1}},"children":[{"type":"text","value":"0.9Ã—","position":{"start":{"line":1026,"column":1},"end":{"line":1026,"column":1}},"key":"MD0rz5PVw4"}],"key":"QitxZcjg3P"},{"type":"tableCell","position":{"start":{"line":1026,"column":1},"end":{"line":1026,"column":1}},"children":[{"type":"text","value":"3Ã—","position":{"start":{"line":1026,"column":1},"end":{"line":1026,"column":1}},"key":"d9ge1PAkmA"}],"key":"IheapGOc7L"},{"type":"tableCell","position":{"start":{"line":1026,"column":1},"end":{"line":1026,"column":1}},"children":[{"type":"text","value":"3Ã—","position":{"start":{"line":1026,"column":1},"end":{"line":1026,"column":1}},"key":"o9GeUi995y"}],"key":"vAUfLqDOZM"}],"key":"JHzHTY2apU"},{"type":"tableRow","position":{"start":{"line":1027,"column":1},"end":{"line":1027,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1027,"column":1},"end":{"line":1027,"column":1}},"children":[{"type":"text","value":"Spatial ordering","position":{"start":{"line":1027,"column":1},"end":{"line":1027,"column":1}},"key":"tFoJ9LWWFD"}],"key":"mt10ePZTeh"},{"type":"tableCell","position":{"start":{"line":1027,"column":1},"end":{"line":1027,"column":1}},"children":[{"type":"text","value":"Yes","position":{"start":{"line":1027,"column":1},"end":{"line":1027,"column":1}},"key":"cl5Pwgi89A"}],"key":"Ktxaybpf04"},{"type":"tableCell","position":{"start":{"line":1027,"column":1},"end":{"line":1027,"column":1}},"children":[{"type":"text","value":"Yes","position":{"start":{"line":1027,"column":1},"end":{"line":1027,"column":1}},"key":"Wdz1zROlBt"}],"key":"H98AkGIqfv"},{"type":"tableCell","position":{"start":{"line":1027,"column":1},"end":{"line":1027,"column":1}},"children":[{"type":"text","value":"No","position":{"start":{"line":1027,"column":1},"end":{"line":1027,"column":1}},"key":"NNIeLGcDjQ"}],"key":"I9epRcH9Sc"},{"type":"tableCell","position":{"start":{"line":1027,"column":1},"end":{"line":1027,"column":1}},"children":[{"type":"text","value":"No","position":{"start":{"line":1027,"column":1},"end":{"line":1027,"column":1}},"key":"nPrc2pM836"}],"key":"NWJMEIhlgE"}],"key":"Wnlg4rAyj3"}],"key":"EchxbkUoHx"},{"type":"paragraph","position":{"start":{"line":1029,"column":1},"end":{"line":1030,"column":1}},"children":[{"type":"text","value":"* ","position":{"start":{"line":1029,"column":1},"end":{"line":1029,"column":1}},"key":"gsqCgACvbh"},{"type":"strong","position":{"start":{"line":1029,"column":1},"end":{"line":1029,"column":1}},"children":[{"type":"text","value":"Dict","position":{"start":{"line":1029,"column":1},"end":{"line":1029,"column":1}},"key":"TuEYieBImQ"}],"key":"aOPCwLG5nh"},{"type":"text","value":" searches by key (particle ID)","position":{"start":{"line":1029,"column":1},"end":{"line":1029,"column":1}},"key":"iJ5n3Gqri2"},{"type":"break","position":{"start":{"line":1029,"column":1},"end":{"line":1029,"column":1}},"key":"Uwe3zVtUK3"},{"type":"text","value":"â€  ","position":{"start":{"line":1029,"column":1},"end":{"line":1029,"column":1}},"key":"lG5YcoOsQl"},{"type":"strong","position":{"start":{"line":1029,"column":1},"end":{"line":1029,"column":1}},"children":[{"type":"text","value":"Amortized","position":{"start":{"line":1029,"column":1},"end":{"line":1029,"column":1}},"key":"HD3Ay1PboO"}],"key":"oq3KGdvRlM"},{"type":"text","value":" - occasionally ","position":{"start":{"line":1029,"column":1},"end":{"line":1029,"column":1}},"key":"WBKlvf9DlK"},{"type":"strong","position":{"start":{"line":1029,"column":1},"end":{"line":1029,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":1029,"column":1},"end":{"line":1029,"column":1}},"key":"SnHD0Yce5l"}],"key":"GXsbFL3Ghx"},{"type":"text","value":" during resize","position":{"start":{"line":1029,"column":1},"end":{"line":1029,"column":1}},"key":"WxO2IpQvia"}],"key":"BhdHL2wdau"},{"type":"heading","depth":3,"position":{"start":{"line":1032,"column":1},"end":{"line":1032,"column":1}},"children":[{"type":"text","value":"Real Example: N-Body Simulation Design","position":{"start":{"line":1032,"column":1},"end":{"line":1032,"column":1}},"key":"hbF512gMzk"}],"identifier":"real-example-n-body-simulation-design","label":"Real Example: N-Body Simulation Design","html_id":"real-example-n-body-simulation-design","implicit":true,"key":"rWlfiIWCG3"}],"key":"ebsPoYyO7h"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class NBodySystem:\n    \"\"\"Data structure choices for N-body simulation.\"\"\"\n    \n    def __init__(self):\n        # Lists for vectorizable operations (future NumPy)\n        self.positions = []  # Will become NumPy array\n        self.velocities = []\n        self.masses = []\n        \n        # Tuple for immutable parameters\n        self.G = 6.674e-8  # cmÂ³/g/sÂ² - must not change!\n        self.softening = 1e10  # cm - numerical stability\n        \n        # Dict for particle properties by ID\n        self.properties = {}  # ID â†’ {'type': 'star', 'age': 1e9}\n        \n        # Set for fast membership tests\n        self.active_ids = set()  # Active particles\n        self.collision_candidates = set()  # Close pairs\n        \n        # Dict for spatial hashing (grid cells)\n        self.spatial_grid = {}  # cell_key â†’ set of particle IDs\n        \n    def __repr__(self):\n        return (f\"NBodySystem: {len(self.positions)} particles\\n\"\n                f\"  Active: {len(self.active_ids)}\\n\"\n                f\"  Collision candidates: {len(self.collision_candidates)}\")\n\nsystem = NBodySystem()\nprint(system)\nprint(\"\\nEach structure optimized for its specific use!\")\nprint(\"This design scales to millions of particles.\")","key":"WLIENsqR0H"},{"type":"output","id":"ajtccDtdoeMPx0wNL_Jwf","data":[],"key":"No3shQSf69"}],"key":"Er54Vmk1Qe"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":1069,"column":1},"end":{"line":1069,"column":1}},"children":[{"type":"text","value":"Practice Exercises","position":{"start":{"line":1069,"column":1},"end":{"line":1069,"column":1}},"key":"AgzznhPEaI"}],"identifier":"practice-exercises","label":"Practice Exercises","html_id":"practice-exercises","implicit":true,"key":"qqiyCxcNsh"},{"type":"heading","depth":3,"position":{"start":{"line":1071,"column":1},"end":{"line":1071,"column":1}},"children":[{"type":"text","value":"Exercise 4.1: Particle System Organization","position":{"start":{"line":1071,"column":1},"end":{"line":1071,"column":1}},"key":"pugmKR2y8T"}],"identifier":"exercise-4-1-particle-system-organization","label":"Exercise 4.1: Particle System Organization","html_id":"exercise-4-1-particle-system-organization","implicit":true,"key":"PbmXZn1dFg"},{"type":"paragraph","position":{"start":{"line":1073,"column":1},"end":{"line":1073,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1073,"column":1},"end":{"line":1073,"column":1}},"children":[{"type":"text","value":"Part A: Basic List Implementation (5-10 lines)","position":{"start":{"line":1073,"column":1},"end":{"line":1073,"column":1}},"key":"NIECvm7uc9"}],"key":"p9v5u68lHl"}],"key":"doWEppozYT"},{"type":"paragraph","position":{"start":{"line":1075,"column":1},"end":{"line":1075,"column":1}},"children":[{"type":"text","value":"Follow these exact steps to create a working particle system:","position":{"start":{"line":1075,"column":1},"end":{"line":1075,"column":1}},"key":"sQ7cmsWvGl"}],"key":"ApLBrjFnas"}],"key":"jcpBLnoze4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def create_particle_system_list():\n    \"\"\"Store particles as list of lists - simple but limited.\"\"\"\n    particles = []\n    \n    # Create 5 test particles (id, mass, x, y, z)\n    for i in range(5):\n        particle = [i, 1.0e30 * (i+1), i*1e13, 0.0, 0.0]\n        particles.append(particle)\n    \n    print(f\"Created {len(particles)} particles\")\n    print(f\"Particle 0: ID={particles[0][0]}, mass={particles[0][1]:.1e} g\")\n    return particles\n\nparticles = create_particle_system_list()","key":"r5Lpy2U16V"},{"type":"output","id":"b1E8Ete9T_2QkZYanWSYU","data":[],"key":"gIgX9twuZw"}],"key":"EXpg4eUKTX"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":1094,"column":1},"end":{"line":1094,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1094,"column":1},"end":{"line":1094,"column":1}},"children":[{"type":"text","value":"Part B: Convert to Dictionary (10-15 lines)","position":{"start":{"line":1094,"column":1},"end":{"line":1094,"column":1}},"key":"xEWmLuFL3B"}],"key":"A9FClrDlW2"}],"key":"kUGBKz7hCd"},{"type":"paragraph","position":{"start":{"line":1096,"column":1},"end":{"line":1096,"column":1}},"children":[{"type":"text","value":"Improve the design with dictionaries for O(1) lookup:","position":{"start":{"line":1096,"column":1},"end":{"line":1096,"column":1}},"key":"K4nWgAwQyd"}],"key":"i8bifL5CV7"}],"key":"MveLwl7Hjj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def create_particle_system_dict():\n    \"\"\"Store particles in dictionary - better for lookups.\"\"\"\n    particles = {}\n    \n    # Create particles with meaningful structure\n    for i in range(5):\n        particles[f'p{i:03d}'] = {\n            'mass': 1.0e30 * (i+1),  # grams\n            'position': [i*1e13, 0.0, 0.0],  # cm\n            'velocity': [0.0, 2e6, 0.0],  # cm/s\n        }\n    \n    # O(1) lookup by ID!\n    target = 'p002'\n    print(f\"Particle {target}: mass = {particles[target]['mass']:.1e} g\")\n    print(f\"  Position: {particles[target]['position'][0]:.1e} cm\")\n    \n    return particles\n\nparticles = create_particle_system_dict()\nprint(f\"System has {len(particles)} particles with O(1) access\")","key":"eAf2c2YdHq"},{"type":"output","id":"F36UnTnf3tIkoRXU-NrG3","data":[],"key":"w0mXfsDzvU"}],"key":"WN5TimkvC2"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":1122,"column":1},"end":{"line":1122,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1122,"column":1},"end":{"line":1122,"column":1}},"children":[{"type":"text","value":"Part C: Production Version with Validation (15-20 lines)","position":{"start":{"line":1122,"column":1},"end":{"line":1122,"column":1}},"key":"n81pgtilGu"}],"key":"ZJVOUj6DKH"}],"key":"gdfUzn25P1"},{"type":"paragraph","position":{"start":{"line":1124,"column":1},"end":{"line":1124,"column":1}},"children":[{"type":"text","value":"Add error checking and performance measurement:","position":{"start":{"line":1124,"column":1},"end":{"line":1124,"column":1}},"key":"peuKDGYO64"}],"key":"ZhpjXypz6e"}],"key":"Wqji1aGVhw"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import time\n\ndef create_particle_system_professional(n=1000):\n    \"\"\"Production-ready particle system with validation.\"\"\"\n    start = time.perf_counter()\n    \n    particles = {}\n    errors = []\n    \n    for i in range(n):\n        # Validate mass (must be positive)\n        mass = 1.0e30 * (1 + i*0.001)\n        if mass <= 0:\n            errors.append(f\"Particle {i}: invalid mass {mass}\")\n            continue\n            \n        particles[f'p{i:06d}'] = {\n            'mass': mass,\n            'position': [i*1e11, 0.0, 0.0],\n            'velocity': [0.0, 3e6, 0.0],\n            'active': True\n        }\n    \n    elapsed = time.perf_counter() - start\n    \n    print(f\"Created {len(particles)} particles in {elapsed*1000:.1f} ms\")\n    if errors:\n        print(f\"Skipped {len(errors)} invalid particles\")\n    \n    # Verify O(1) access\n    test_time = time.perf_counter()\n    _ = particles['p000500']['mass']\n    access_time = time.perf_counter() - test_time\n    print(f\"Single particle access: {access_time*1e6:.2f} Î¼s\")\n    \n    return particles\n\nsystem = create_particle_system_professional()","key":"lldCADVkfE"},{"type":"output","id":"6KUmIEGtDDhCBQdPwrLAP","data":[],"key":"JI46Uvq2Z0"}],"key":"iKHc3BBRf7"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":1167,"column":1},"end":{"line":1167,"column":1}},"children":[{"type":"text","value":"Exercise 4.2: Collision Detection System","position":{"start":{"line":1167,"column":1},"end":{"line":1167,"column":1}},"key":"qcDuMMhJqE"}],"identifier":"exercise-4-2-collision-detection-system","label":"Exercise 4.2: Collision Detection System","html_id":"exercise-4-2-collision-detection-system","implicit":true,"key":"pHVXD6vw0j"},{"type":"paragraph","position":{"start":{"line":1169,"column":1},"end":{"line":1169,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1169,"column":1},"end":{"line":1169,"column":1}},"children":[{"type":"text","value":"Part A: Basic Neighbor Finding (10 lines)","position":{"start":{"line":1169,"column":1},"end":{"line":1169,"column":1}},"key":"k6BTmbWAT1"}],"key":"HnKriz9gOV"}],"key":"ALhk3TNISQ"}],"key":"EdVN7D5buy"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def find_neighbors_naive(positions, radius):\n    \"\"\"Find particle pairs within radius - O(nÂ²) approach.\"\"\"\n    neighbors = []\n    n = len(positions)\n    \n    for i in range(n):\n        for j in range(i+1, n):  # Avoid double counting\n            dx = positions[i][0] - positions[j][0]\n            dy = positions[i][1] - positions[j][1]\n            r = (dx**2 + dy**2) ** 0.5\n            if r < radius:\n                neighbors.append((i, j))\n    \n    return neighbors\n\n# Test with small system\npos = [[0, 0], [1, 0], [0, 1], [2, 2], [3, 3]]\npairs = find_neighbors_naive(pos, 1.5)\nprint(f\"Found {len(pairs)} neighbor pairs: {pairs}\")","key":"LIvf8QbgoU"},{"type":"output","id":"hr6HdKjgsccKzQcdGGcIK","data":[],"key":"qPemkVYUhV"}],"key":"uIyrtaJp5a"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":1193,"column":1},"end":{"line":1193,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1193,"column":1},"end":{"line":1193,"column":1}},"children":[{"type":"text","value":"Part B: Use Sets for Efficiency (15 lines)","position":{"start":{"line":1193,"column":1},"end":{"line":1193,"column":1}},"key":"B8EwIMjyhO"}],"key":"MF5h5LkgMh"}],"key":"iNdQiESXZP"}],"key":"ppgQktwe1P"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def find_neighbors_with_sets(particles, radius):\n    \"\"\"Track unique collision pairs with sets.\"\"\"\n    \n    # Use set to avoid duplicate pairs\n    collision_pairs = set()\n    checked_pairs = set()\n    \n    positions = [(i, p['position']) for i, p in particles.items()]\n    \n    for i, (id1, pos1) in enumerate(positions):\n        for j, (id2, pos2) in enumerate(positions[i+1:], i+1):\n            pair = tuple(sorted([id1, id2]))  # Canonical ordering\n            \n            if pair not in checked_pairs:\n                checked_pairs.add(pair)\n                \n                # Check distance\n                dx = pos1[0] - pos2[0]\n                dy = pos1[1] - pos2[1]\n                r = (dx**2 + dy**2) ** 0.5\n                \n                if r < radius:\n                    collision_pairs.add(pair)\n    \n    print(f\"Checked {len(checked_pairs)} unique pairs\")\n    print(f\"Found {len(collision_pairs)} collision candidates\")\n    return collision_pairs\n\n# Test\ntest_particles = {\n    'p1': {'position': [0, 0, 0]},\n    'p2': {'position': [1e10, 0, 0]},\n    'p3': {'position': [0, 1e10, 0]}\n}\ncollisions = find_neighbors_with_sets(test_particles, 1.5e10)","key":"rhptt9bhsw"},{"type":"output","id":"19K9RYkMnLOEHd8ygMmyR","data":[],"key":"ez1N123wTJ"}],"key":"VqjbpYQHBr"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":1233,"column":1},"end":{"line":1233,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1233,"column":1},"end":{"line":1233,"column":1}},"children":[{"type":"text","value":"Part C: Spatial Hashing for O(n) (25 lines)","position":{"start":{"line":1233,"column":1},"end":{"line":1233,"column":1}},"key":"ZmeLA2yj5O"}],"key":"nCCx6Sopzn"}],"key":"Bk7RK4L5Bv"}],"key":"ixBki97PDq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def find_neighbors_spatial_hash(particles, radius, cell_size=None):\n    \"\"\"Use spatial hashing for O(n) neighbor finding.\"\"\"\n    if cell_size is None:\n        cell_size = radius * 2\n    \n    # Build spatial hash\n    cells = {}\n    for pid, data in particles.items():\n        x, y = data['position'][:2]\n        cell_key = (int(x / cell_size), int(y / cell_size))\n        \n        if cell_key not in cells:\n            cells[cell_key] = set()\n        cells[cell_key].add(pid)\n    \n    # Find neighbors (only check adjacent cells)\n    neighbors = set()\n    for cell_key, pids in cells.items():\n        cx, cy = cell_key\n        \n        # Check this cell and 8 neighbors\n        for dx in [-1, 0, 1]:\n            for dy in [-1, 0, 1]:\n                neighbor_cell = (cx + dx, cy + dy)\n                if neighbor_cell in cells:\n                    for p1 in pids:\n                        for p2 in cells[neighbor_cell]:\n                            if p1 < p2:  # Avoid duplicates\n                                # Check actual distance\n                                pos1 = particles[p1]['position']\n                                pos2 = particles[p2]['position']\n                                r = ((pos1[0]-pos2[0])**2 + \n                                     (pos1[1]-pos2[1])**2) ** 0.5\n                                if r < radius:\n                                    neighbors.add((p1, p2))\n    \n    print(f\"Spatial hash: {len(cells)} cells, {len(neighbors)} pairs\")\n    print(\"This scales as O(n) instead of O(nÂ²)!\")\n    return neighbors","key":"DPM0VdNMwn"},{"type":"output","id":"7AiV1JKFBRbdnSazXT5XR","data":[],"key":"D09MXOALib"}],"key":"dib0vQtaQ4"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":1277,"column":1},"end":{"line":1277,"column":1}},"children":[{"type":"text","value":"Exercise 4.3: Equation of State Cache","position":{"start":{"line":1277,"column":1},"end":{"line":1277,"column":1}},"key":"wNKSNxVTn6"}],"identifier":"exercise-4-3-equation-of-state-cache","label":"Exercise 4.3: Equation of State Cache","html_id":"exercise-4-3-equation-of-state-cache","implicit":true,"key":"t0PJq3ulKb"},{"type":"paragraph","position":{"start":{"line":1279,"column":1},"end":{"line":1279,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1279,"column":1},"end":{"line":1279,"column":1}},"children":[{"type":"text","value":"Part A: Basic EOS Function (10 lines)","position":{"start":{"line":1279,"column":1},"end":{"line":1279,"column":1}},"key":"u3tDBQzYO2"}],"key":"w46nWqIkYD"}],"key":"IxmbWhgrjA"}],"key":"z1WcnQ32eI"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class SimpleEOS:\n    \"\"\"Basic equation of state without caching.\"\"\"\n    \n    def __init__(self):\n        self.calculations = 0\n    \n    def pressure(self, temperature, density):\n        \"\"\"Calculate pressure (ideal gas for simplicity).\"\"\"\n        self.calculations += 1\n        k_B = 1.381e-16  # erg/K\n        m_H = 1.673e-24  # grams (hydrogen mass)\n        \n        # P = ÏkT/m for ideal gas\n        P = density * k_B * temperature / m_H\n        return P\n\neos = SimpleEOS()\nP1 = eos.pressure(1e6, 1e-3)\nP2 = eos.pressure(1e6, 1e-3)  # Same calculation repeated!\nprint(f\"Pressure: {P1:.2e} dyne/cmÂ²\")\nprint(f\"Performed {eos.calculations} calculations (wasteful!)\")","key":"jqj3ILSdRL"},{"type":"output","id":"Nd_2DC7FZna_PRDfog7-m","data":[],"key":"vpCmPRHbqW"}],"key":"YvGx1zEMsW"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":1305,"column":1},"end":{"line":1305,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1305,"column":1},"end":{"line":1305,"column":1}},"children":[{"type":"text","value":"Part B: Add Dictionary Cache (15 lines)","position":{"start":{"line":1305,"column":1},"end":{"line":1305,"column":1}},"key":"tT9fxdr2Qr"}],"key":"taQPpefV6Y"}],"key":"wV3mcTVub8"}],"key":"ZwgFF3RCd1"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class CachedEOS:\n    \"\"\"EOS with dictionary caching.\"\"\"\n    \n    def __init__(self):\n        self.cache = {}\n        self.calculations = 0\n        self.cache_hits = 0\n    \n    def pressure(self, temperature, density):\n        \"\"\"Calculate pressure with caching.\"\"\"\n        key = (temperature, density)\n        \n        if key in self.cache:\n            self.cache_hits += 1\n            return self.cache[key]\n        \n        # Calculate only if not cached\n        self.calculations += 1\n        k_B = 1.381e-16\n        m_H = 1.673e-24\n        P = density * k_B * temperature / m_H\n        \n        self.cache[key] = P\n        return P\n\neos = CachedEOS()\n# Simulate multiple calls with same parameters\nfor _ in range(5):\n    P = eos.pressure(1e6, 1e-3)\n\nprint(f\"Calculations: {eos.calculations}, Cache hits: {eos.cache_hits}\")\nprint(f\"Saved {eos.cache_hits} expensive calculations!\")","key":"Uwgw6lMSpm"},{"type":"output","id":"IXtSC6jtMDdYf2zjwVIAB","data":[],"key":"P59PEV4ahp"}],"key":"QVY4s88FtW"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":1342,"column":1},"end":{"line":1342,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1342,"column":1},"end":{"line":1342,"column":1}},"children":[{"type":"text","value":"Part C: Advanced Cache with Memory Limit (25 lines)","position":{"start":{"line":1342,"column":1},"end":{"line":1342,"column":1}},"key":"Qzw007ABnF"}],"key":"urvWNQhCmG"}],"key":"ZqB9uqGnIh"}],"key":"w0VIUY984R"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from collections import OrderedDict\n\nclass ProductionEOS:\n    \"\"\"Production-ready EOS with LRU cache and statistics.\"\"\"\n    \n    def __init__(self, cache_size=1000):\n        self.cache = OrderedDict()\n        self.cache_size = cache_size\n        self.calculations = 0\n        self.cache_hits = 0\n        self.evictions = 0\n    \n    def pressure(self, T, rho):\n        \"\"\"Get pressure with automatic caching.\"\"\"\n        key = (round(T, 2), round(rho, 6))  # Round for cache efficiency\n        \n        if key in self.cache:\n            # Move to end (most recent)\n            self.cache.move_to_end(key)\n            self.cache_hits += 1\n            return self.cache[key]\n        \n        # Calculate\n        self.calculations += 1\n        k_B = 1.381e-16\n        m_H = 1.673e-24\n        \n        # More realistic EOS (includes radiation pressure)\n        a = 7.566e-15  # Radiation constant\n        P_gas = rho * k_B * T / m_H\n        P_rad = a * T**4 / 3\n        P_total = P_gas + P_rad\n        \n        # Add to cache\n        self.cache[key] = P_total\n        \n        # Evict oldest if needed\n        if len(self.cache) > self.cache_size:\n            self.cache.popitem(last=False)\n            self.evictions += 1\n        \n        return P_total\n    \n    def stats(self):\n        \"\"\"Report cache performance.\"\"\"\n        total = self.calculations + self.cache_hits\n        if total > 0:\n            hit_rate = self.cache_hits / total * 100\n            print(f\"Cache statistics:\")\n            print(f\"  Size: {len(self.cache)}/{self.cache_size}\")\n            print(f\"  Calculations: {self.calculations}\")\n            print(f\"  Cache hits: {self.cache_hits}\")\n            print(f\"  Hit rate: {hit_rate:.1f}%\")\n            print(f\"  Evictions: {self.evictions}\")\n\n# Test with stellar interior conditions\neos = ProductionEOS(cache_size=100)\n\n# Simulate stellar model with repeated conditions\ntest_conditions = [\n    (1e7, 100), (2e7, 150), (1e7, 100),  # Repeated\n    (3e7, 200), (1e7, 100), (2e7, 150),  # More repeats\n]\n\nfor T, rho in test_conditions:\n    P = eos.pressure(T, rho)\n    print(f\"T={T:.0e} K, Ï={rho} g/cmÂ³ â†’ P={P:.2e} dyne/cmÂ²\")\n\neos.stats()\nprint(\"\\nCaching is essential for stellar evolution codes!\")","key":"vMfrt6hywX"},{"type":"output","id":"JEDR-QHt_Q8za8Uq6KawW","data":[],"key":"MNazFyrR04"}],"key":"TVeFMXeklt"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":1417,"column":1},"end":{"line":1417,"column":1}},"children":[{"type":"text","value":"Main Takeaways","position":{"start":{"line":1417,"column":1},"end":{"line":1417,"column":1}},"key":"oqA0nHGyd8"}],"identifier":"main-takeaways","label":"Main Takeaways","html_id":"main-takeaways","implicit":true,"key":"OzYy5D5l66"},{"type":"paragraph","position":{"start":{"line":1419,"column":1},"end":{"line":1419,"column":1}},"children":[{"type":"text","value":"Youâ€™ve just mastered concepts that will transform your computational physics from toy problems to research-grade simulations! The journey from understanding simple lists to architecting with dictionaries and sets represents a fundamental shift in how you approach scientific computing. You now see data structures not just as containers, but as carefully chosen tools where the right choice can mean the difference between simulations that finish in hours versus weeks.","position":{"start":{"line":1419,"column":1},"end":{"line":1419,"column":1}},"key":"Ftq36whMgk"}],"key":"yfcrbURwPs"},{"type":"paragraph","position":{"start":{"line":1421,"column":1},"end":{"line":1421,"column":1}},"children":[{"type":"text","value":"The most profound insight from this chapter is that data structure choice often matters more than algorithm optimization. We saw how switching from a list to a set for particle lookups gave us a 100,000Ã— speedupâ€”no amount of code optimization could achieve that! This is the secret that separates research codes from student projects: professionals spend more time architecting their data organization than writing physics equations. The best physics insight in the world is useless if your code canâ€™t handle realistic problem sizes.","position":{"start":{"line":1421,"column":1},"end":{"line":1421,"column":1}},"key":"xu8QN6NIYt"}],"key":"hVBX0MEkbq"},{"type":"paragraph","position":{"start":{"line":1423,"column":1},"end":{"line":1423,"column":1}},"children":[{"type":"text","value":"The mutable versus immutable distinction that seemed abstract at first is actually critical for scientific computing. Every time you use a tuple for physical constants or configuration parameters, youâ€™re preventing bugs that have literally crashed spacecraft and corrupted published results. When you properly use defensive copying for your simulation state, youâ€™re protecting yourself from the aliasing bugs that have plagued computational physics for decades. Remember: in the Cassini example, a simple data structure choice nearly lost a billion-dollar mission.","position":{"start":{"line":1423,"column":1},"end":{"line":1423,"column":1}},"key":"U8wkWyiNK6"}],"key":"KaiEwXCQEg"},{"type":"paragraph","position":{"start":{"line":1425,"column":1},"end":{"line":1425,"column":1}},"children":[{"type":"text","value":"The performance principles youâ€™ve learned extend far beyond Python. The cache efficiency concepts explain why codes like GROMACS and LAMMPS obsess over memory layoutâ€”itâ€™s not premature optimization, itâ€™s the difference between simulating thousands versus millions of atoms. The Big-O notation youâ€™ve mastered is the universal language for discussing whether an algorithm scales to galaxy-sized problems. The hash table concept underlying dictionaries appears in every parallel communication library, every adaptive mesh refinement code, and every spatial indexing scheme youâ€™ll encounter.","position":{"start":{"line":1425,"column":1},"end":{"line":1425,"column":1}},"key":"C7AjJcojoc"}],"key":"KWRhh6gJWs"},{"type":"paragraph","position":{"start":{"line":1427,"column":1},"end":{"line":1427,"column":1}},"children":[{"type":"text","value":"Most importantly, you now understand the connection between data structures and numerical methods. That O(nÂ²) all-pairs particle interaction thatâ€™s impossible for large systems? It becomes O(n log n) with tree-based structures like Barnes-Hut. The O(n) searching that makes timesteps crawl? It becomes O(1) with spatial hashing. These arenâ€™t just computer science conceptsâ€”theyâ€™re the difference between simulating a few hundred particles and modeling entire galaxies with billions of stars.","position":{"start":{"line":1427,"column":1},"end":{"line":1427,"column":1}},"key":"o3sAPoeN85"}],"key":"sTEpGhrpql"},{"type":"paragraph","position":{"start":{"line":1429,"column":1},"end":{"line":1429,"column":1}},"children":[{"type":"text","value":"Remember: every data structure makes trade-offs. Lists give you ordering but slow searches. Dictionaries trade memory for lightning-fast lookups. Sets provide uniqueness and mathematical operations but lose ordering. Thereâ€™s no universally â€œbestâ€ structureâ€”only the best structure for your specific physics problem. As you tackle research simulations, youâ€™ll combine multiple structures: NumPy arrays for number crunching, dictionaries for particle properties, sets for collision detection, and spatial data structures for neighbor finding.","position":{"start":{"line":1429,"column":1},"end":{"line":1429,"column":1}},"key":"jhEp30uYZf"}],"key":"p6gSdfTvIq"},{"type":"paragraph","position":{"start":{"line":1431,"column":1},"end":{"line":1431,"column":1}},"children":[{"type":"text","value":"With this foundation, youâ€™re ready to architect simulations that scale to astronomical proportions. The next chapter on functions and modules will show you how to organize this knowledge into reusable, testable components. After that, NumPy will supercharge your numerical operations using the memory layout principles you now understand. Youâ€™re no longer just writing codeâ€”youâ€™re engineering solutions to the computational challenges of modern physics!","position":{"start":{"line":1431,"column":1},"end":{"line":1431,"column":1}},"key":"kCK5GnXlse"}],"key":"YOxWjFSbPq"},{"type":"heading","depth":2,"position":{"start":{"line":1433,"column":1},"end":{"line":1433,"column":1}},"children":[{"type":"text","value":"Definitions","position":{"start":{"line":1433,"column":1},"end":{"line":1433,"column":1}},"key":"pxDmyf949L"}],"identifier":"definitions","label":"Definitions","html_id":"definitions","implicit":true,"key":"RZQ9jG1rEo"},{"type":"paragraph","position":{"start":{"line":1435,"column":1},"end":{"line":1435,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1435,"column":1},"end":{"line":1435,"column":1}},"children":[{"type":"text","value":"Aliasing","position":{"start":{"line":1435,"column":1},"end":{"line":1435,"column":1}},"key":"jlExMeqFxs"}],"key":"xBEpbupIPz"},{"type":"text","value":": When two or more variables refer to the same object in memory, causing modifications through one to affect the others.","position":{"start":{"line":1435,"column":1},"end":{"line":1435,"column":1}},"key":"M4BcQKJtWM"}],"key":"kHbnx9GQ63"},{"type":"paragraph","position":{"start":{"line":1437,"column":1},"end":{"line":1437,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1437,"column":1},"end":{"line":1437,"column":1}},"children":[{"type":"text","value":"Amortized O(1)","position":{"start":{"line":1437,"column":1},"end":{"line":1437,"column":1}},"key":"Mw93gsRGMM"}],"key":"KMAAJvvXUR"},{"type":"text","value":": An operation that is usually ","position":{"start":{"line":1437,"column":1},"end":{"line":1437,"column":1}},"key":"InhgpJv5dh"},{"type":"strong","position":{"start":{"line":1437,"column":1},"end":{"line":1437,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1437,"column":1},"end":{"line":1437,"column":1}},"key":"OTpmjD0O3P"}],"key":"H1iloJ6Rw2"},{"type":"text","value":" but occasionally ","position":{"start":{"line":1437,"column":1},"end":{"line":1437,"column":1}},"key":"C6wM0eNtkM"},{"type":"strong","position":{"start":{"line":1437,"column":1},"end":{"line":1437,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":1437,"column":1},"end":{"line":1437,"column":1}},"key":"ksWkFIlB8H"}],"key":"q0p5q2Xjf4"},{"type":"text","value":", where the average over many operations remains ","position":{"start":{"line":1437,"column":1},"end":{"line":1437,"column":1}},"key":"tDW2Vn1Rbf"},{"type":"strong","position":{"start":{"line":1437,"column":1},"end":{"line":1437,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1437,"column":1},"end":{"line":1437,"column":1}},"key":"dkQ7DQAT2n"}],"key":"vNPDCX2AdK"},{"type":"text","value":".","position":{"start":{"line":1437,"column":1},"end":{"line":1437,"column":1}},"key":"UwOp7ZyHEb"}],"key":"wsK6mpwL5q"},{"type":"paragraph","position":{"start":{"line":1439,"column":1},"end":{"line":1439,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1439,"column":1},"end":{"line":1439,"column":1}},"children":[{"type":"text","value":"Big-O Notation","position":{"start":{"line":1439,"column":1},"end":{"line":1439,"column":1}},"key":"q3Z2sHWu88"}],"key":"wQGfyUA60u"},{"type":"text","value":": Mathematical notation describing how an algorithmâ€™s runtime scales with input size, focusing on the dominant term.","position":{"start":{"line":1439,"column":1},"end":{"line":1439,"column":1}},"key":"toTQBiA3n7"}],"key":"U8sCL2tfoZ"},{"type":"paragraph","position":{"start":{"line":1441,"column":1},"end":{"line":1441,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1441,"column":1},"end":{"line":1441,"column":1}},"children":[{"type":"text","value":"Cache","position":{"start":{"line":1441,"column":1},"end":{"line":1441,"column":1}},"key":"y5b5jndUga"}],"key":"BhQtT3vFdV"},{"type":"text","value":": Small, fast memory close to the CPU that stores recently accessed data for quick retrieval.","position":{"start":{"line":1441,"column":1},"end":{"line":1441,"column":1}},"key":"GmzJ7tRzfS"}],"key":"XTwnqdGvUd"},{"type":"paragraph","position":{"start":{"line":1443,"column":1},"end":{"line":1443,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1443,"column":1},"end":{"line":1443,"column":1}},"children":[{"type":"text","value":"Data Structure","position":{"start":{"line":1443,"column":1},"end":{"line":1443,"column":1}},"key":"lMutah1not"}],"key":"A2cA1QGDyn"},{"type":"text","value":": A way of organizing data in computer memory to enable efficient access and modification.","position":{"start":{"line":1443,"column":1},"end":{"line":1443,"column":1}},"key":"aVXFbAb1BW"}],"key":"TZE7kD0o0h"},{"type":"paragraph","position":{"start":{"line":1445,"column":1},"end":{"line":1445,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1445,"column":1},"end":{"line":1445,"column":1}},"children":[{"type":"text","value":"Deep Copy","position":{"start":{"line":1445,"column":1},"end":{"line":1445,"column":1}},"key":"sAj0pqMWQA"}],"key":"SNqfJpDx0F"},{"type":"text","value":": Creating a completely independent copy of an object and all objects it contains, recursively.","position":{"start":{"line":1445,"column":1},"end":{"line":1445,"column":1}},"key":"RQeFLh5cy7"}],"key":"dM3tpF8gCY"},{"type":"paragraph","position":{"start":{"line":1447,"column":1},"end":{"line":1447,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1447,"column":1},"end":{"line":1447,"column":1}},"children":[{"type":"text","value":"Dictionary","position":{"start":{"line":1447,"column":1},"end":{"line":1447,"column":1}},"key":"ppyadXBG6F"}],"key":"ygGn0YsnYz"},{"type":"text","value":": A ","position":{"start":{"line":1447,"column":1},"end":{"line":1447,"column":1}},"key":"WHns0e1rJG"},{"type":"strong","position":{"start":{"line":1447,"column":1},"end":{"line":1447,"column":1}},"children":[{"type":"text","value":"mutable","position":{"start":{"line":1447,"column":1},"end":{"line":1447,"column":1}},"key":"fFyqbsV3Bb"}],"key":"uJMVGg5ZMy"},{"type":"text","value":" mapping type storing key-value pairs with ","position":{"start":{"line":1447,"column":1},"end":{"line":1447,"column":1}},"key":"OhQPJCsYcz"},{"type":"strong","position":{"start":{"line":1447,"column":1},"end":{"line":1447,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1447,"column":1},"end":{"line":1447,"column":1}},"key":"EWM8YyTdcS"}],"key":"fZhYZLsxUf"},{"type":"text","value":" average lookup time using ","position":{"start":{"line":1447,"column":1},"end":{"line":1447,"column":1}},"key":"xCICzDUhGk"},{"type":"strong","position":{"start":{"line":1447,"column":1},"end":{"line":1447,"column":1}},"children":[{"type":"text","value":"hash tables","position":{"start":{"line":1447,"column":1},"end":{"line":1447,"column":1}},"key":"wI8Sode6jE"}],"key":"X7y1rnkXfm"},{"type":"text","value":".","position":{"start":{"line":1447,"column":1},"end":{"line":1447,"column":1}},"key":"BvcTEHVPm7"}],"key":"JlzHPo0DrV"},{"type":"paragraph","position":{"start":{"line":1449,"column":1},"end":{"line":1449,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1449,"column":1},"end":{"line":1449,"column":1}},"children":[{"type":"text","value":"Hash Function","position":{"start":{"line":1449,"column":1},"end":{"line":1449,"column":1}},"key":"fEWdGDZGza"}],"key":"G09hXn942c"},{"type":"text","value":": A function mapping data of arbitrary size to fixed-size values, enabling fast lookups.","position":{"start":{"line":1449,"column":1},"end":{"line":1449,"column":1}},"key":"JonGHljfVz"}],"key":"tl1oRK5P6l"},{"type":"paragraph","position":{"start":{"line":1451,"column":1},"end":{"line":1451,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1451,"column":1},"end":{"line":1451,"column":1}},"children":[{"type":"text","value":"Hash Table","position":{"start":{"line":1451,"column":1},"end":{"line":1451,"column":1}},"key":"RDTKuLD1UZ"}],"key":"PYzaxVCrqU"},{"type":"text","value":": The underlying implementation for ","position":{"start":{"line":1451,"column":1},"end":{"line":1451,"column":1}},"key":"H6w8fsGaop"},{"type":"strong","position":{"start":{"line":1451,"column":1},"end":{"line":1451,"column":1}},"children":[{"type":"text","value":"dictionaries","position":{"start":{"line":1451,"column":1},"end":{"line":1451,"column":1}},"key":"JgICW25O3S"}],"key":"wFGqZP1X5z"},{"type":"text","value":" and ","position":{"start":{"line":1451,"column":1},"end":{"line":1451,"column":1}},"key":"EXJmu02Ebu"},{"type":"strong","position":{"start":{"line":1451,"column":1},"end":{"line":1451,"column":1}},"children":[{"type":"text","value":"sets","position":{"start":{"line":1451,"column":1},"end":{"line":1451,"column":1}},"key":"G503I7kOkw"}],"key":"tXqk6aYgBt"},{"type":"text","value":", enabling ","position":{"start":{"line":1451,"column":1},"end":{"line":1451,"column":1}},"key":"cISEozbLxU"},{"type":"strong","position":{"start":{"line":1451,"column":1},"end":{"line":1451,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1451,"column":1},"end":{"line":1451,"column":1}},"key":"UZVkVBDSgm"}],"key":"GNBW8lNIna"},{"type":"text","value":" average-case lookups.","position":{"start":{"line":1451,"column":1},"end":{"line":1451,"column":1}},"key":"QXRds4Gzvg"}],"key":"E1TJfqMDDa"},{"type":"paragraph","position":{"start":{"line":1453,"column":1},"end":{"line":1453,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1453,"column":1},"end":{"line":1453,"column":1}},"children":[{"type":"text","value":"Immutable","position":{"start":{"line":1453,"column":1},"end":{"line":1453,"column":1}},"key":"lFVGFJrtvq"}],"key":"y4p2NjdpBs"},{"type":"text","value":": Objects whose state cannot be modified after creation (","position":{"start":{"line":1453,"column":1},"end":{"line":1453,"column":1}},"key":"zCyTLxQEUU"},{"type":"strong","position":{"start":{"line":1453,"column":1},"end":{"line":1453,"column":1}},"children":[{"type":"text","value":"tuples","position":{"start":{"line":1453,"column":1},"end":{"line":1453,"column":1}},"key":"E4tBFEFtgu"}],"key":"zicGl4b4sZ"},{"type":"text","value":", strings, numbers).","position":{"start":{"line":1453,"column":1},"end":{"line":1453,"column":1}},"key":"wFENpujEXW"}],"key":"uha08UD4tY"},{"type":"paragraph","position":{"start":{"line":1455,"column":1},"end":{"line":1455,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1455,"column":1},"end":{"line":1455,"column":1}},"children":[{"type":"text","value":"List","position":{"start":{"line":1455,"column":1},"end":{"line":1455,"column":1}},"key":"a25h3APFo5"}],"key":"MAFryobFom"},{"type":"text","value":": Pythonâ€™s built-in ","position":{"start":{"line":1455,"column":1},"end":{"line":1455,"column":1}},"key":"ee0Ih1etjg"},{"type":"strong","position":{"start":{"line":1455,"column":1},"end":{"line":1455,"column":1}},"children":[{"type":"text","value":"mutable","position":{"start":{"line":1455,"column":1},"end":{"line":1455,"column":1}},"key":"oIEdbMSuGo"}],"key":"mardvMr1Ng"},{"type":"text","value":" sequence type that stores ","position":{"start":{"line":1455,"column":1},"end":{"line":1455,"column":1}},"key":"rvtxmhfR0F"},{"type":"strong","position":{"start":{"line":1455,"column":1},"end":{"line":1455,"column":1}},"children":[{"type":"text","value":"references","position":{"start":{"line":1455,"column":1},"end":{"line":1455,"column":1}},"key":"eFvptDaHUY"}],"key":"IF0uBFyEfC"},{"type":"text","value":" to objects in order.","position":{"start":{"line":1455,"column":1},"end":{"line":1455,"column":1}},"key":"YuDTnBpkXr"}],"key":"P2IEbjJFRG"},{"type":"paragraph","position":{"start":{"line":1457,"column":1},"end":{"line":1457,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1457,"column":1},"end":{"line":1457,"column":1}},"children":[{"type":"text","value":"Memoization","position":{"start":{"line":1457,"column":1},"end":{"line":1457,"column":1}},"key":"amvHpMoeO3"}],"key":"tef4eY3eQt"},{"type":"text","value":": ","position":{"start":{"line":1457,"column":1},"end":{"line":1457,"column":1}},"key":"FhA5zriDmu"},{"type":"strong","position":{"start":{"line":1457,"column":1},"end":{"line":1457,"column":1}},"children":[{"type":"text","value":"Caching","position":{"start":{"line":1457,"column":1},"end":{"line":1457,"column":1}},"key":"sKGb5eGLTl"}],"key":"Gwsfc7X3DZ"},{"type":"text","value":" technique storing function results to avoid recalculating for the same inputs.","position":{"start":{"line":1457,"column":1},"end":{"line":1457,"column":1}},"key":"f2Cwjp6bZD"}],"key":"cLPLPlNfkj"},{"type":"paragraph","position":{"start":{"line":1459,"column":1},"end":{"line":1459,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1459,"column":1},"end":{"line":1459,"column":1}},"children":[{"type":"text","value":"Mutable","position":{"start":{"line":1459,"column":1},"end":{"line":1459,"column":1}},"key":"kZJi1eIuEA"}],"key":"Ix7fm72kOm"},{"type":"text","value":": Objects whose state can be modified after creation (","position":{"start":{"line":1459,"column":1},"end":{"line":1459,"column":1}},"key":"WrIcWjd4C8"},{"type":"strong","position":{"start":{"line":1459,"column":1},"end":{"line":1459,"column":1}},"children":[{"type":"text","value":"lists","position":{"start":{"line":1459,"column":1},"end":{"line":1459,"column":1}},"key":"GsbHyKmaW3"}],"key":"VuPECeJNeP"},{"type":"text","value":", ","position":{"start":{"line":1459,"column":1},"end":{"line":1459,"column":1}},"key":"vF19siyGTz"},{"type":"strong","position":{"start":{"line":1459,"column":1},"end":{"line":1459,"column":1}},"children":[{"type":"text","value":"dictionaries","position":{"start":{"line":1459,"column":1},"end":{"line":1459,"column":1}},"key":"GzB9lkEOLZ"}],"key":"pBJNkv5Zg8"},{"type":"text","value":", ","position":{"start":{"line":1459,"column":1},"end":{"line":1459,"column":1}},"key":"UpLOOaEwMg"},{"type":"strong","position":{"start":{"line":1459,"column":1},"end":{"line":1459,"column":1}},"children":[{"type":"text","value":"sets","position":{"start":{"line":1459,"column":1},"end":{"line":1459,"column":1}},"key":"Zffkm8wrR3"}],"key":"mikXDmKf8P"},{"type":"text","value":").","position":{"start":{"line":1459,"column":1},"end":{"line":1459,"column":1}},"key":"ZL6uF5us0L"}],"key":"d1fgWbYlKN"},{"type":"paragraph","position":{"start":{"line":1461,"column":1},"end":{"line":1461,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1461,"column":1},"end":{"line":1461,"column":1}},"children":[{"type":"text","value":"Named Tuple","position":{"start":{"line":1461,"column":1},"end":{"line":1461,"column":1}},"key":"cvrcKZp0lz"}],"key":"be9CflZyX3"},{"type":"text","value":": A ","position":{"start":{"line":1461,"column":1},"end":{"line":1461,"column":1}},"key":"qIO6PaO8eu"},{"type":"strong","position":{"start":{"line":1461,"column":1},"end":{"line":1461,"column":1}},"children":[{"type":"text","value":"tuple","position":{"start":{"line":1461,"column":1},"end":{"line":1461,"column":1}},"key":"VHwDn2voCt"}],"key":"EuxxUtzLLT"},{"type":"text","value":" subclass allowing element access by name as well as index.","position":{"start":{"line":1461,"column":1},"end":{"line":1461,"column":1}},"key":"UJACRV62ia"}],"key":"eJjHdTrsOf"},{"type":"paragraph","position":{"start":{"line":1463,"column":1},"end":{"line":1463,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1463,"column":1},"end":{"line":1463,"column":1}},"children":[{"type":"text","value":"O(1) - Constant Time","position":{"start":{"line":1463,"column":1},"end":{"line":1463,"column":1}},"key":"pmWdblytAg"}],"key":"EiCRVi97XZ"},{"type":"text","value":": An operation whose runtime doesnâ€™t depend on input size.","position":{"start":{"line":1463,"column":1},"end":{"line":1463,"column":1}},"key":"gBkybRna4Y"}],"key":"W4I78uMIqj"},{"type":"paragraph","position":{"start":{"line":1465,"column":1},"end":{"line":1465,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1465,"column":1},"end":{"line":1465,"column":1}},"children":[{"type":"text","value":"O(n) - Linear Time","position":{"start":{"line":1465,"column":1},"end":{"line":1465,"column":1}},"key":"BFqavXgrwH"}],"key":"NBNSx66qUz"},{"type":"text","value":": An operation whose runtime grows proportionally with input size.","position":{"start":{"line":1465,"column":1},"end":{"line":1465,"column":1}},"key":"qmW9H6CItl"}],"key":"coareTyq26"},{"type":"paragraph","position":{"start":{"line":1467,"column":1},"end":{"line":1467,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1467,"column":1},"end":{"line":1467,"column":1}},"children":[{"type":"text","value":"O(nÂ²) - Quadratic Time","position":{"start":{"line":1467,"column":1},"end":{"line":1467,"column":1}},"key":"DGTqjpDsYf"}],"key":"D4U17I0Ixi"},{"type":"text","value":": An operation whose runtime grows with the square of input size.","position":{"start":{"line":1467,"column":1},"end":{"line":1467,"column":1}},"key":"ieHGiNgwty"}],"key":"VeOTc4WiSV"},{"type":"paragraph","position":{"start":{"line":1469,"column":1},"end":{"line":1469,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1469,"column":1},"end":{"line":1469,"column":1}},"children":[{"type":"text","value":"O(log n) - Logarithmic Time","position":{"start":{"line":1469,"column":1},"end":{"line":1469,"column":1}},"key":"KDPNYwiUGW"}],"key":"VaUp2zW6aq"},{"type":"text","value":": An operation whose runtime grows logarithmically with input size.","position":{"start":{"line":1469,"column":1},"end":{"line":1469,"column":1}},"key":"SyiREpANRc"}],"key":"f3kh6iRoPA"},{"type":"paragraph","position":{"start":{"line":1471,"column":1},"end":{"line":1471,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1471,"column":1},"end":{"line":1471,"column":1}},"children":[{"type":"text","value":"O(n log n)","position":{"start":{"line":1471,"column":1},"end":{"line":1471,"column":1}},"key":"xQX3Nr7dNh"}],"key":"wpYFoBt71x"},{"type":"text","value":": Common complexity for efficient sorting algorithms and tree-based operations.","position":{"start":{"line":1471,"column":1},"end":{"line":1471,"column":1}},"key":"dmaIfchK0p"}],"key":"xjmddTIZgA"},{"type":"paragraph","position":{"start":{"line":1473,"column":1},"end":{"line":1473,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1473,"column":1},"end":{"line":1473,"column":1}},"children":[{"type":"text","value":"Reference","position":{"start":{"line":1473,"column":1},"end":{"line":1473,"column":1}},"key":"beZLJd2BHb"}],"key":"sNG7h1mmND"},{"type":"text","value":": A variable that points to an object in memory rather than containing the value directly.","position":{"start":{"line":1473,"column":1},"end":{"line":1473,"column":1}},"key":"ABOr5Y6Y9e"}],"key":"SAhtEKHdSt"},{"type":"paragraph","position":{"start":{"line":1475,"column":1},"end":{"line":1475,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1475,"column":1},"end":{"line":1475,"column":1}},"children":[{"type":"text","value":"Set","position":{"start":{"line":1475,"column":1},"end":{"line":1475,"column":1}},"key":"TTTghc10hq"}],"key":"WcGQjPSgKh"},{"type":"text","value":": A ","position":{"start":{"line":1475,"column":1},"end":{"line":1475,"column":1}},"key":"LNPZcPgdYv"},{"type":"strong","position":{"start":{"line":1475,"column":1},"end":{"line":1475,"column":1}},"children":[{"type":"text","value":"mutable","position":{"start":{"line":1475,"column":1},"end":{"line":1475,"column":1}},"key":"TttwtbR8fT"}],"key":"QlwfTAnvTH"},{"type":"text","value":" collection of unique, unordered elements with ","position":{"start":{"line":1475,"column":1},"end":{"line":1475,"column":1}},"key":"rdcvK6qZ1K"},{"type":"strong","position":{"start":{"line":1475,"column":1},"end":{"line":1475,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1475,"column":1},"end":{"line":1475,"column":1}},"key":"tO7jELAfgk"}],"key":"AwmmZZAZOG"},{"type":"text","value":" membership testing.","position":{"start":{"line":1475,"column":1},"end":{"line":1475,"column":1}},"key":"oYFIw3qcsE"}],"key":"yYzbike2YM"},{"type":"paragraph","position":{"start":{"line":1477,"column":1},"end":{"line":1477,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1477,"column":1},"end":{"line":1477,"column":1}},"children":[{"type":"text","value":"Shallow Copy","position":{"start":{"line":1477,"column":1},"end":{"line":1477,"column":1}},"key":"kP5DvrkIa7"}],"key":"kVlqbkPMkb"},{"type":"text","value":": Creating a new container with ","position":{"start":{"line":1477,"column":1},"end":{"line":1477,"column":1}},"key":"yhGpdJSFhW"},{"type":"strong","position":{"start":{"line":1477,"column":1},"end":{"line":1477,"column":1}},"children":[{"type":"text","value":"references","position":{"start":{"line":1477,"column":1},"end":{"line":1477,"column":1}},"key":"ihwWI8M7LK"}],"key":"MWo7tYTW6c"},{"type":"text","value":" to the same contained objects.","position":{"start":{"line":1477,"column":1},"end":{"line":1477,"column":1}},"key":"ExHudQT39Q"}],"key":"tW7F7EWFM2"},{"type":"paragraph","position":{"start":{"line":1479,"column":1},"end":{"line":1479,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1479,"column":1},"end":{"line":1479,"column":1}},"children":[{"type":"text","value":"Spatial Hashing","position":{"start":{"line":1479,"column":1},"end":{"line":1479,"column":1}},"key":"El10p0mAsY"}],"key":"mVZwTiR9Ig"},{"type":"text","value":": Organizing particles by spatial region for ","position":{"start":{"line":1479,"column":1},"end":{"line":1479,"column":1}},"key":"nuVRIbWc7p"},{"type":"strong","position":{"start":{"line":1479,"column":1},"end":{"line":1479,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1479,"column":1},"end":{"line":1479,"column":1}},"key":"EkVgkXKR8A"}],"key":"c6Hcl8Z9nC"},{"type":"text","value":" neighbor finding.","position":{"start":{"line":1479,"column":1},"end":{"line":1479,"column":1}},"key":"lRBVPvbiIA"}],"key":"b5X3LC2oni"},{"type":"paragraph","position":{"start":{"line":1481,"column":1},"end":{"line":1481,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1481,"column":1},"end":{"line":1481,"column":1}},"children":[{"type":"text","value":"Tuple","position":{"start":{"line":1481,"column":1},"end":{"line":1481,"column":1}},"key":"TxTfdTRSsg"}],"key":"RKX5bFPd9m"},{"type":"text","value":": An ","position":{"start":{"line":1481,"column":1},"end":{"line":1481,"column":1}},"key":"K8gjAZgimZ"},{"type":"strong","position":{"start":{"line":1481,"column":1},"end":{"line":1481,"column":1}},"children":[{"type":"text","value":"immutable","position":{"start":{"line":1481,"column":1},"end":{"line":1481,"column":1}},"key":"gUzLA9EYVK"}],"key":"wnpIjIEUVn"},{"type":"text","value":" sequence type that cannot be changed after creation.","position":{"start":{"line":1481,"column":1},"end":{"line":1481,"column":1}},"key":"wxgY0k7zAR"}],"key":"ZXrdfC2JUL"},{"type":"heading","depth":2,"position":{"start":{"line":1483,"column":1},"end":{"line":1483,"column":1}},"children":[{"type":"text","value":"Key Takeaways","position":{"start":{"line":1483,"column":1},"end":{"line":1483,"column":1}},"key":"M78IS1PM9z"}],"identifier":"key-takeaways","label":"Key Takeaways","html_id":"key-takeaways","implicit":true,"key":"yT6BnB2XGf"},{"type":"paragraph","position":{"start":{"line":1485,"column":1},"end":{"line":1485,"column":1}},"children":[{"type":"text","value":"âœ“ ","position":{"start":{"line":1485,"column":1},"end":{"line":1485,"column":1}},"key":"UTWA0fdUIA"},{"type":"strong","position":{"start":{"line":1485,"column":1},"end":{"line":1485,"column":1}},"children":[{"type":"text","value":"Data structure","position":{"start":{"line":1485,"column":1},"end":{"line":1485,"column":1}},"key":"wUfk8l8vkp"}],"key":"G8h9LMwRSf"},{"type":"text","value":" choice can change performance by factors of 1,000,000Ã— or more for large-scale simulations","position":{"start":{"line":1485,"column":1},"end":{"line":1485,"column":1}},"key":"PnODgFtF8a"}],"key":"HCcjQZf0RT"},{"type":"paragraph","position":{"start":{"line":1487,"column":1},"end":{"line":1487,"column":1}},"children":[{"type":"text","value":"âœ“ ","position":{"start":{"line":1487,"column":1},"end":{"line":1487,"column":1}},"key":"zkHSJmSw79"},{"type":"strong","position":{"start":{"line":1487,"column":1},"end":{"line":1487,"column":1}},"children":[{"type":"text","value":"Lists","position":{"start":{"line":1487,"column":1},"end":{"line":1487,"column":1}},"key":"gUxZmqfQnf"}],"key":"EvXnGBbTry"},{"type":"text","value":" are versatile but have ","position":{"start":{"line":1487,"column":1},"end":{"line":1487,"column":1}},"key":"WI41XWyfNh"},{"type":"strong","position":{"start":{"line":1487,"column":1},"end":{"line":1487,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":1487,"column":1},"end":{"line":1487,"column":1}},"key":"nD6diUZgps"}],"key":"pO0xuFDWqw"},{"type":"text","value":" searchâ€”use for ordered particle arrays that youâ€™ll vectorize with NumPy","position":{"start":{"line":1487,"column":1},"end":{"line":1487,"column":1}},"key":"Ov0ePS8Yy3"}],"key":"fhsWHeoSr2"},{"type":"paragraph","position":{"start":{"line":1489,"column":1},"end":{"line":1489,"column":1}},"children":[{"type":"text","value":"âœ“ ","position":{"start":{"line":1489,"column":1},"end":{"line":1489,"column":1}},"key":"Df3AQBLruo"},{"type":"strong","position":{"start":{"line":1489,"column":1},"end":{"line":1489,"column":1}},"children":[{"type":"text","value":"Dictionaries","position":{"start":{"line":1489,"column":1},"end":{"line":1489,"column":1}},"key":"lOVrrprI1X"}],"key":"XRRDusOuO0"},{"type":"text","value":" and ","position":{"start":{"line":1489,"column":1},"end":{"line":1489,"column":1}},"key":"pviQ2AWrKR"},{"type":"strong","position":{"start":{"line":1489,"column":1},"end":{"line":1489,"column":1}},"children":[{"type":"text","value":"sets","position":{"start":{"line":1489,"column":1},"end":{"line":1489,"column":1}},"key":"PdT8nIqlfk"}],"key":"oje4jeIMJc"},{"type":"text","value":" provide ","position":{"start":{"line":1489,"column":1},"end":{"line":1489,"column":1}},"key":"w2ejOZOqda"},{"type":"strong","position":{"start":{"line":1489,"column":1},"end":{"line":1489,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1489,"column":1},"end":{"line":1489,"column":1}},"key":"d1XYvItwAA"}],"key":"EIhDokPSm8"},{"type":"text","value":" lookup through ","position":{"start":{"line":1489,"column":1},"end":{"line":1489,"column":1}},"key":"zBHLPrDAWH"},{"type":"strong","position":{"start":{"line":1489,"column":1},"end":{"line":1489,"column":1}},"children":[{"type":"text","value":"hash tables","position":{"start":{"line":1489,"column":1},"end":{"line":1489,"column":1}},"key":"GR0MrIxids"}],"key":"Odt4BARw7E"},{"type":"text","value":"â€”essential for particle lookups and caching","position":{"start":{"line":1489,"column":1},"end":{"line":1489,"column":1}},"key":"WbssLS9Yuj"}],"key":"E81UF3LEtM"},{"type":"paragraph","position":{"start":{"line":1491,"column":1},"end":{"line":1491,"column":1}},"children":[{"type":"text","value":"âœ“ ","position":{"start":{"line":1491,"column":1},"end":{"line":1491,"column":1}},"key":"BnHtGW5x9E"},{"type":"strong","position":{"start":{"line":1491,"column":1},"end":{"line":1491,"column":1}},"children":[{"type":"text","value":"Tuples","position":{"start":{"line":1491,"column":1},"end":{"line":1491,"column":1}},"key":"DnsKd6ojMV"}],"key":"Rz1kDIDV27"},{"type":"text","value":" prevent modification bugsâ€”use for physical constants and configuration parameters","position":{"start":{"line":1491,"column":1},"end":{"line":1491,"column":1}},"key":"I3O6ExahCe"}],"key":"VHm0epGcKL"},{"type":"paragraph","position":{"start":{"line":1493,"column":1},"end":{"line":1493,"column":1}},"children":[{"type":"text","value":"âœ“ The ","position":{"start":{"line":1493,"column":1},"end":{"line":1493,"column":1}},"key":"Am86qGMeoa"},{"type":"strong","position":{"start":{"line":1493,"column":1},"end":{"line":1493,"column":1}},"children":[{"type":"text","value":"shallow","position":{"start":{"line":1493,"column":1},"end":{"line":1493,"column":1}},"key":"n6ahZ3N1Tm"}],"key":"Ts7Hd2zP2Q"},{"type":"text","value":" vs ","position":{"start":{"line":1493,"column":1},"end":{"line":1493,"column":1}},"key":"N2Cob6Ib8d"},{"type":"strong","position":{"start":{"line":1493,"column":1},"end":{"line":1493,"column":1}},"children":[{"type":"text","value":"deep copy","position":{"start":{"line":1493,"column":1},"end":{"line":1493,"column":1}},"key":"nrBtrQNg1B"}],"key":"DRMxMwC4mr"},{"type":"text","value":" distinction is critical for grid-based simulations","position":{"start":{"line":1493,"column":1},"end":{"line":1493,"column":1}},"key":"RSSy7vPhgl"}],"key":"x8LAnQaLkW"},{"type":"paragraph","position":{"start":{"line":1495,"column":1},"end":{"line":1495,"column":1}},"children":[{"type":"text","value":"âœ“ Python stores ","position":{"start":{"line":1495,"column":1},"end":{"line":1495,"column":1}},"key":"oMpz8xQbJh"},{"type":"strong","position":{"start":{"line":1495,"column":1},"end":{"line":1495,"column":1}},"children":[{"type":"text","value":"references","position":{"start":{"line":1495,"column":1},"end":{"line":1495,"column":1}},"key":"LxCNUUgTi9"}],"key":"vtPqB51zRk"},{"type":"text","value":" to objects, explaining why NumPyâ€™s contiguous arrays are faster","position":{"start":{"line":1495,"column":1},"end":{"line":1495,"column":1}},"key":"rHqU7ZqPVf"}],"key":"gUKRhY1I7m"},{"type":"paragraph","position":{"start":{"line":1497,"column":1},"end":{"line":1497,"column":1}},"children":[{"type":"text","value":"âœ“ Memory layout affects ","position":{"start":{"line":1497,"column":1},"end":{"line":1497,"column":1}},"key":"dNRXfLD98z"},{"type":"strong","position":{"start":{"line":1497,"column":1},"end":{"line":1497,"column":1}},"children":[{"type":"text","value":"cache","position":{"start":{"line":1497,"column":1},"end":{"line":1497,"column":1}},"key":"ywkCVsCyFL"}],"key":"Dp2hv3xpwg"},{"type":"text","value":" performance by 2-10Ã— even in Python","position":{"start":{"line":1497,"column":1},"end":{"line":1497,"column":1}},"key":"EBACtPT5Lk"}],"key":"Ni50U4eP8B"},{"type":"paragraph","position":{"start":{"line":1499,"column":1},"end":{"line":1499,"column":1}},"children":[{"type":"text","value":"âœ“ Every data structure trades something (memory, speed, flexibility) for something else","position":{"start":{"line":1499,"column":1},"end":{"line":1499,"column":1}},"key":"MVEwAwo1Be"}],"key":"XwEw99vAoW"},{"type":"paragraph","position":{"start":{"line":1501,"column":1},"end":{"line":1501,"column":1}},"children":[{"type":"text","value":"âœ“ ","position":{"start":{"line":1501,"column":1},"end":{"line":1501,"column":1}},"key":"lxdgGzWvuv"},{"type":"strong","position":{"start":{"line":1501,"column":1},"end":{"line":1501,"column":1}},"children":[{"type":"text","value":"Mutable","position":{"start":{"line":1501,"column":1},"end":{"line":1501,"column":1}},"key":"t86xndex3Z"}],"key":"NcThZFtD64"},{"type":"text","value":" default arguments are dangerousâ€”always use the None sentinel pattern (Chapter 1 callback)","position":{"start":{"line":1501,"column":1},"end":{"line":1501,"column":1}},"key":"hlAzDGJPMi"}],"key":"aa9niPz7LP"},{"type":"paragraph","position":{"start":{"line":1503,"column":1},"end":{"line":1503,"column":1}},"children":[{"type":"text","value":"âœ“ Spatial data structures transform ","position":{"start":{"line":1503,"column":1},"end":{"line":1503,"column":1}},"key":"heVbokYhS5"},{"type":"strong","position":{"start":{"line":1503,"column":1},"end":{"line":1503,"column":1}},"children":[{"type":"text","value":"O(nÂ²)","position":{"start":{"line":1503,"column":1},"end":{"line":1503,"column":1}},"key":"bwVILWmecK"}],"key":"YE3AUmSRAk"},{"type":"text","value":" physics problems into ","position":{"start":{"line":1503,"column":1},"end":{"line":1503,"column":1}},"key":"IfSeIIdiMm"},{"type":"strong","position":{"start":{"line":1503,"column":1},"end":{"line":1503,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":1503,"column":1},"end":{"line":1503,"column":1}},"key":"Acpenu5X5I"}],"key":"n85APTr9yt"},{"type":"text","value":" or ","position":{"start":{"line":1503,"column":1},"end":{"line":1503,"column":1}},"key":"H5HAKnVFAT"},{"type":"strong","position":{"start":{"line":1503,"column":1},"end":{"line":1503,"column":1}},"children":[{"type":"text","value":"O(n log n)","position":{"start":{"line":1503,"column":1},"end":{"line":1503,"column":1}},"key":"YSiFoPrt2n"}],"key":"sArJOJ8BhN"}],"key":"aJsc1nU2xr"},{"type":"paragraph","position":{"start":{"line":1505,"column":1},"end":{"line":1505,"column":1}},"children":[{"type":"text","value":"âœ“ ","position":{"start":{"line":1505,"column":1},"end":{"line":1505,"column":1}},"key":"HKJdOc3iJG"},{"type":"strong","position":{"start":{"line":1505,"column":1},"end":{"line":1505,"column":1}},"children":[{"type":"text","value":"Sets","position":{"start":{"line":1505,"column":1},"end":{"line":1505,"column":1}},"key":"xvKacdWO5b"}],"key":"Q5uptD016a"},{"type":"text","value":" provide elegant mathematical operations for domain decomposition and particle tracking","position":{"start":{"line":1505,"column":1},"end":{"line":1505,"column":1}},"key":"IUHuFcIxiP"}],"key":"TGQmyaQiuW"},{"type":"paragraph","position":{"start":{"line":1507,"column":1},"end":{"line":1507,"column":1}},"children":[{"type":"text","value":"âœ“ ","position":{"start":{"line":1507,"column":1},"end":{"line":1507,"column":1}},"key":"AqBThXQPhc"},{"type":"strong","position":{"start":{"line":1507,"column":1},"end":{"line":1507,"column":1}},"children":[{"type":"text","value":"Dictionaries","position":{"start":{"line":1507,"column":1},"end":{"line":1507,"column":1}},"key":"vFP51hjT4u"}],"key":"F6pECATa0w"},{"type":"text","value":" enable ","position":{"start":{"line":1507,"column":1},"end":{"line":1507,"column":1}},"key":"X2g3KtDiJ3"},{"type":"strong","position":{"start":{"line":1507,"column":1},"end":{"line":1507,"column":1}},"children":[{"type":"text","value":"memoization","position":{"start":{"line":1507,"column":1},"end":{"line":1507,"column":1}},"key":"mtdF9kiMyu"}],"key":"C8jBFMl0vg"},{"type":"text","value":" that can speed up equation of state calculations 100Ã—","position":{"start":{"line":1507,"column":1},"end":{"line":1507,"column":1}},"key":"LlBT6jjEJV"}],"key":"rcIQrCZpQD"},{"type":"heading","depth":2,"position":{"start":{"line":1509,"column":1},"end":{"line":1509,"column":1}},"children":[{"type":"text","value":"Python Module & Method Reference","position":{"start":{"line":1509,"column":1},"end":{"line":1509,"column":1}},"key":"Iuwi56Qb9Y"}],"identifier":"python-module-method-reference","label":"Python Module & Method Reference","html_id":"python-module-method-reference","implicit":true,"key":"xXHk4LRrH2"},{"type":"paragraph","position":{"start":{"line":1511,"column":1},"end":{"line":1511,"column":1}},"children":[{"type":"text","value":"This reference section catalogs all Python modules, functions, and methods introduced in this chapter. Keep this as a quick lookup guide for your physics simulations.","position":{"start":{"line":1511,"column":1},"end":{"line":1511,"column":1}},"key":"zTPjNjJnQn"}],"key":"pDeD5bDEy7"},{"type":"heading","depth":3,"position":{"start":{"line":1513,"column":1},"end":{"line":1513,"column":1}},"children":[{"type":"text","value":"Standard Library Modules","position":{"start":{"line":1513,"column":1},"end":{"line":1513,"column":1}},"key":"Er6Gq6yl8j"}],"identifier":"standard-library-modules","label":"Standard Library Modules","html_id":"standard-library-modules","implicit":true,"key":"IkltT6JWGy"},{"type":"paragraph","position":{"start":{"line":1515,"column":1},"end":{"line":1515,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1515,"column":1},"end":{"line":1515,"column":1}},"children":[{"type":"inlineCode","value":"time","position":{"start":{"line":1515,"column":1},"end":{"line":1515,"column":1}},"key":"eO7RZ9XqwL"},{"type":"text","value":" module","position":{"start":{"line":1515,"column":1},"end":{"line":1515,"column":1}},"key":"PwWGBBG1qf"}],"key":"SR9AYmj3z9"},{"type":"text","value":" - High-resolution timing for performance measurement","position":{"start":{"line":1515,"column":1},"end":{"line":1515,"column":1}},"key":"j5cTaYV9Ow"}],"key":"NRGgNP68QL"},{"type":"code","lang":"python","value":"import time","position":{"start":{"line":1516,"column":1},"end":{"line":1518,"column":1}},"key":"jtOuuk5BSx"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1519,"column":1},"end":{"line":1522,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1519,"column":1},"end":{"line":1522,"column":1}},"children":[{"type":"inlineCode","value":"time.perf_counter()","position":{"start":{"line":1519,"column":1},"end":{"line":1519,"column":1}},"key":"OZ951GBfVe"},{"type":"text","value":" - Returns float seconds with highest available resolution","position":{"start":{"line":1519,"column":1},"end":{"line":1519,"column":1}},"key":"EmDQI28iEU"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1520,"column":1},"end":{"line":1522,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1520,"column":1},"end":{"line":1520,"column":1}},"children":[{"type":"text","value":"Use for timing code segments: ","position":{"start":{"line":1520,"column":1},"end":{"line":1520,"column":1}},"key":"SQVDLseXWx"},{"type":"inlineCode","value":"start = time.perf_counter()","position":{"start":{"line":1520,"column":1},"end":{"line":1520,"column":1}},"key":"ZZ3bur1BO0"}],"key":"i8vtg73xhA"},{"type":"listItem","spread":true,"position":{"start":{"line":1521,"column":1},"end":{"line":1522,"column":1}},"children":[{"type":"text","value":"Always use for benchmarking (not ","position":{"start":{"line":1521,"column":1},"end":{"line":1521,"column":1}},"key":"k54spRcEvO"},{"type":"inlineCode","value":"time.time()","position":{"start":{"line":1521,"column":1},"end":{"line":1521,"column":1}},"key":"txDRRijCch"},{"type":"text","value":" which can go backwards!)","position":{"start":{"line":1521,"column":1},"end":{"line":1521,"column":1}},"key":"XOlVPq1aKZ"}],"key":"J5PWFor159"}],"key":"XNiZ8xGeKR"}],"key":"WAQ9VCSN6C"}],"key":"heDzWBUELt"},{"type":"paragraph","position":{"start":{"line":1523,"column":1},"end":{"line":1523,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1523,"column":1},"end":{"line":1523,"column":1}},"children":[{"type":"inlineCode","value":"sys","position":{"start":{"line":1523,"column":1},"end":{"line":1523,"column":1}},"key":"I8jmI8NdE4"},{"type":"text","value":" module","position":{"start":{"line":1523,"column":1},"end":{"line":1523,"column":1}},"key":"hbWplBKAWu"}],"key":"Dz8fqGUeKg"},{"type":"text","value":" - System-specific parameters (expanded from Chapter 1)","position":{"start":{"line":1523,"column":1},"end":{"line":1523,"column":1}},"key":"OKTcHQe3Ak"}],"key":"pofOvTQaf0"},{"type":"code","lang":"python","value":"import sys","position":{"start":{"line":1524,"column":1},"end":{"line":1526,"column":1}},"key":"mSZ1WzWOZu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1527,"column":1},"end":{"line":1530,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1527,"column":1},"end":{"line":1530,"column":1}},"children":[{"type":"inlineCode","value":"sys.getsizeof(object)","position":{"start":{"line":1527,"column":1},"end":{"line":1527,"column":1}},"key":"bFhF6PUaoD"},{"type":"text","value":" - Returns memory size of object in bytes","position":{"start":{"line":1527,"column":1},"end":{"line":1527,"column":1}},"key":"DMgA7SnjEu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1528,"column":1},"end":{"line":1530,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1528,"column":1},"end":{"line":1528,"column":1}},"children":[{"type":"text","value":"Includes object overhead but not contained objects","position":{"start":{"line":1528,"column":1},"end":{"line":1528,"column":1}},"key":"Xwv6ATcoFH"}],"key":"yWxB0iuJML"},{"type":"listItem","spread":true,"position":{"start":{"line":1529,"column":1},"end":{"line":1530,"column":1}},"children":[{"type":"text","value":"Essential for memory profiling in simulations","position":{"start":{"line":1529,"column":1},"end":{"line":1529,"column":1}},"key":"HbR1dUzbDQ"}],"key":"C70K7roelg"}],"key":"e6eqcDSAqb"}],"key":"kH9VcgskPX"}],"key":"GyZgwmWzkK"},{"type":"paragraph","position":{"start":{"line":1531,"column":1},"end":{"line":1531,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1531,"column":1},"end":{"line":1531,"column":1}},"children":[{"type":"inlineCode","value":"copy","position":{"start":{"line":1531,"column":1},"end":{"line":1531,"column":1}},"key":"LPRQ3pIXg1"},{"type":"text","value":" module","position":{"start":{"line":1531,"column":1},"end":{"line":1531,"column":1}},"key":"TuWho5u8rX"}],"key":"y5ldAO4QFJ"},{"type":"text","value":" - Create object copies with control over depth","position":{"start":{"line":1531,"column":1},"end":{"line":1531,"column":1}},"key":"P5y9Xc5xLy"}],"key":"wCQcRfXYuz"},{"type":"code","lang":"python","value":"import copy","position":{"start":{"line":1532,"column":1},"end":{"line":1534,"column":1}},"key":"e7fcMNvwGu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1535,"column":1},"end":{"line":1539,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1535,"column":1},"end":{"line":1535,"column":1}},"children":[{"type":"inlineCode","value":"copy.copy(x)","position":{"start":{"line":1535,"column":1},"end":{"line":1535,"column":1}},"key":"IaNUotqXZP"},{"type":"text","value":" - Creates shallow copy (new container, same contents)","position":{"start":{"line":1535,"column":1},"end":{"line":1535,"column":1}},"key":"rqbyqE49JV"}],"key":"aNT60CNgfI"},{"type":"listItem","spread":true,"position":{"start":{"line":1536,"column":1},"end":{"line":1539,"column":1}},"children":[{"type":"inlineCode","value":"copy.deepcopy(x)","position":{"start":{"line":1536,"column":1},"end":{"line":1536,"column":1}},"key":"j32BhbJlqA"},{"type":"text","value":" - Creates deep copy (recursively copies all contents)","position":{"start":{"line":1536,"column":1},"end":{"line":1536,"column":1}},"key":"GXWCiEv7Bq"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1537,"column":1},"end":{"line":1539,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1537,"column":1},"end":{"line":1537,"column":1}},"children":[{"type":"text","value":"Critical for grid simulations to avoid aliasing bugs","position":{"start":{"line":1537,"column":1},"end":{"line":1537,"column":1}},"key":"bqRGYICFIW"}],"key":"SKNbpmHb9L"},{"type":"listItem","spread":true,"position":{"start":{"line":1538,"column":1},"end":{"line":1539,"column":1}},"children":[{"type":"text","value":"Use for simulation state backups","position":{"start":{"line":1538,"column":1},"end":{"line":1538,"column":1}},"key":"ttrsPTM2gQ"}],"key":"FoCwxTWWQE"}],"key":"crpnFuAKnm"}],"key":"sSkRaNb17a"}],"key":"o2CYwV5pO0"},{"type":"paragraph","position":{"start":{"line":1540,"column":1},"end":{"line":1540,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1540,"column":1},"end":{"line":1540,"column":1}},"children":[{"type":"inlineCode","value":"random","position":{"start":{"line":1540,"column":1},"end":{"line":1540,"column":1}},"key":"K8FjArCxO8"},{"type":"text","value":" module","position":{"start":{"line":1540,"column":1},"end":{"line":1540,"column":1}},"key":"Mr79NVK1si"}],"key":"V6xctaSDqi"},{"type":"text","value":" - Generate random numbers for Monte Carlo","position":{"start":{"line":1540,"column":1},"end":{"line":1540,"column":1}},"key":"ghiYgDTVBU"}],"key":"EqcOCI9blY"},{"type":"code","lang":"python","value":"import random","position":{"start":{"line":1541,"column":1},"end":{"line":1543,"column":1}},"key":"ReW3wGn6OF"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1544,"column":1},"end":{"line":1548,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1544,"column":1},"end":{"line":1544,"column":1}},"children":[{"type":"inlineCode","value":"random.random()","position":{"start":{"line":1544,"column":1},"end":{"line":1544,"column":1}},"key":"RgaiKRXCdC"},{"type":"text","value":" - Random float in [0.0, 1.0)","position":{"start":{"line":1544,"column":1},"end":{"line":1544,"column":1}},"key":"qeZvHK4Np8"}],"key":"n6UlTQ5Ld2"},{"type":"listItem","spread":true,"position":{"start":{"line":1545,"column":1},"end":{"line":1545,"column":1}},"children":[{"type":"inlineCode","value":"random.uniform(a, b)","position":{"start":{"line":1545,"column":1},"end":{"line":1545,"column":1}},"key":"GIPSatC4WY"},{"type":"text","value":" - Random float in [a, b]","position":{"start":{"line":1545,"column":1},"end":{"line":1545,"column":1}},"key":"aFeZODoPbf"}],"key":"qq7lfPOIdL"},{"type":"listItem","spread":true,"position":{"start":{"line":1546,"column":1},"end":{"line":1546,"column":1}},"children":[{"type":"inlineCode","value":"random.choice(seq)","position":{"start":{"line":1546,"column":1},"end":{"line":1546,"column":1}},"key":"GwwwYlna2U"},{"type":"text","value":" - Random element from sequence","position":{"start":{"line":1546,"column":1},"end":{"line":1546,"column":1}},"key":"fqLbBhPzaN"}],"key":"h5CtIu3zVD"},{"type":"listItem","spread":true,"position":{"start":{"line":1547,"column":1},"end":{"line":1548,"column":1}},"children":[{"type":"inlineCode","value":"random.sample(population, k)","position":{"start":{"line":1547,"column":1},"end":{"line":1547,"column":1}},"key":"OSp0e4SnhR"},{"type":"text","value":" - k unique random elements","position":{"start":{"line":1547,"column":1},"end":{"line":1547,"column":1}},"key":"dPn5FOBpU8"}],"key":"ULqKxMZV9p"}],"key":"lyjWoETwrn"},{"type":"paragraph","position":{"start":{"line":1549,"column":1},"end":{"line":1549,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1549,"column":1},"end":{"line":1549,"column":1}},"children":[{"type":"inlineCode","value":"json","position":{"start":{"line":1549,"column":1},"end":{"line":1549,"column":1}},"key":"jlNYdf8Czw"},{"type":"text","value":" module","position":{"start":{"line":1549,"column":1},"end":{"line":1549,"column":1}},"key":"uNnntpb3Fc"}],"key":"AxJGVvvNSb"},{"type":"text","value":" - Save/load structured data","position":{"start":{"line":1549,"column":1},"end":{"line":1549,"column":1}},"key":"PvEu5YWOD8"}],"key":"YiPE0cJj9A"},{"type":"code","lang":"python","value":"import json","position":{"start":{"line":1550,"column":1},"end":{"line":1552,"column":1}},"key":"ebcGxo8XPp"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1553,"column":1},"end":{"line":1557,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1553,"column":1},"end":{"line":1553,"column":1}},"children":[{"type":"inlineCode","value":"json.dump(obj, file, indent=2)","position":{"start":{"line":1553,"column":1},"end":{"line":1553,"column":1}},"key":"QpkweDq4YR"},{"type":"text","value":" - Write object to file with formatting","position":{"start":{"line":1553,"column":1},"end":{"line":1553,"column":1}},"key":"d3VTdi4cAo"}],"key":"gR8baLvFsA"},{"type":"listItem","spread":true,"position":{"start":{"line":1554,"column":1},"end":{"line":1554,"column":1}},"children":[{"type":"inlineCode","value":"json.load(file)","position":{"start":{"line":1554,"column":1},"end":{"line":1554,"column":1}},"key":"r2mGSvhY2j"},{"type":"text","value":" - Read object from file","position":{"start":{"line":1554,"column":1},"end":{"line":1554,"column":1}},"key":"qBVkfUbfU3"}],"key":"uJDfOn36N3"},{"type":"listItem","spread":true,"position":{"start":{"line":1555,"column":1},"end":{"line":1555,"column":1}},"children":[{"type":"inlineCode","value":"json.dumps(obj)","position":{"start":{"line":1555,"column":1},"end":{"line":1555,"column":1}},"key":"MuZ8j4Z2ot"},{"type":"text","value":" - Convert object to JSON string","position":{"start":{"line":1555,"column":1},"end":{"line":1555,"column":1}},"key":"nDHsaiuxce"}],"key":"wb8mbCMOQK"},{"type":"listItem","spread":true,"position":{"start":{"line":1556,"column":1},"end":{"line":1557,"column":1}},"children":[{"type":"inlineCode","value":"json.loads(string)","position":{"start":{"line":1556,"column":1},"end":{"line":1556,"column":1}},"key":"UCdYY8nNmE"},{"type":"text","value":" - Parse JSON string to object","position":{"start":{"line":1556,"column":1},"end":{"line":1556,"column":1}},"key":"XuKnYptyQC"}],"key":"V2YfRxGphT"}],"key":"i5dnhx37gU"},{"type":"paragraph","position":{"start":{"line":1558,"column":1},"end":{"line":1558,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1558,"column":1},"end":{"line":1558,"column":1}},"children":[{"type":"inlineCode","value":"math","position":{"start":{"line":1558,"column":1},"end":{"line":1558,"column":1}},"key":"n4tKJELGLy"},{"type":"text","value":" module","position":{"start":{"line":1558,"column":1},"end":{"line":1558,"column":1}},"key":"rMxFbAl9VL"}],"key":"xpLTr1PONp"},{"type":"text","value":" - Mathematical functions (review from Chapter 2)","position":{"start":{"line":1558,"column":1},"end":{"line":1558,"column":1}},"key":"vZn4QYsGLw"}],"key":"HtAQpJz6Tt"},{"type":"code","lang":"python","value":"import math","position":{"start":{"line":1559,"column":1},"end":{"line":1561,"column":1}},"key":"toEOdDInfu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1562,"column":1},"end":{"line":1565,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1562,"column":1},"end":{"line":1562,"column":1}},"children":[{"type":"inlineCode","value":"math.sqrt(x)","position":{"start":{"line":1562,"column":1},"end":{"line":1562,"column":1}},"key":"jiBx67IhOf"},{"type":"text","value":" - Square root (use for distances)","position":{"start":{"line":1562,"column":1},"end":{"line":1562,"column":1}},"key":"d9IPdF2XrG"}],"key":"X1exus4Bu4"},{"type":"listItem","spread":true,"position":{"start":{"line":1563,"column":1},"end":{"line":1563,"column":1}},"children":[{"type":"inlineCode","value":"math.log(x)","position":{"start":{"line":1563,"column":1},"end":{"line":1563,"column":1}},"key":"zqjdLBR4z2"},{"type":"text","value":" - Natural logarithm","position":{"start":{"line":1563,"column":1},"end":{"line":1563,"column":1}},"key":"YCCaLC1EkW"}],"key":"bUuTjhK1d7"},{"type":"listItem","spread":true,"position":{"start":{"line":1564,"column":1},"end":{"line":1565,"column":1}},"children":[{"type":"inlineCode","value":"math.log2(x)","position":{"start":{"line":1564,"column":1},"end":{"line":1564,"column":1}},"key":"tOqtRe8LN1"},{"type":"text","value":" - Base-2 logarithm (for Big-O analysis)","position":{"start":{"line":1564,"column":1},"end":{"line":1564,"column":1}},"key":"F7dMTauxfB"}],"key":"LTVmJA9FM3"}],"key":"RQqkfu6qam"},{"type":"heading","depth":3,"position":{"start":{"line":1566,"column":1},"end":{"line":1566,"column":1}},"children":[{"type":"text","value":"Collections Module","position":{"start":{"line":1566,"column":1},"end":{"line":1566,"column":1}},"key":"SaBwdc52Pe"}],"identifier":"collections-module","label":"Collections Module","html_id":"collections-module","implicit":true,"key":"wdkltLWjlt"},{"type":"paragraph","position":{"start":{"line":1568,"column":1},"end":{"line":1568,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1568,"column":1},"end":{"line":1568,"column":1}},"children":[{"type":"inlineCode","value":"collections","position":{"start":{"line":1568,"column":1},"end":{"line":1568,"column":1}},"key":"bHfdqQUeip"},{"type":"text","value":" module","position":{"start":{"line":1568,"column":1},"end":{"line":1568,"column":1}},"key":"aRIM7s8Kga"}],"key":"WLNdLgjt6i"},{"type":"text","value":" - Specialized container datatypes","position":{"start":{"line":1568,"column":1},"end":{"line":1568,"column":1}},"key":"SNnSyZuagy"}],"key":"kNiICYuyGy"},{"type":"code","lang":"python","value":"from collections import OrderedDict, Counter, defaultdict, deque, namedtuple","position":{"start":{"line":1569,"column":1},"end":{"line":1571,"column":1}},"key":"vgVoM9eeTj"},{"type":"paragraph","position":{"start":{"line":1573,"column":1},"end":{"line":1573,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1573,"column":1},"end":{"line":1573,"column":1}},"children":[{"type":"inlineCode","value":"OrderedDict","position":{"start":{"line":1573,"column":1},"end":{"line":1573,"column":1}},"key":"o4Ef6Uf6jz"}],"key":"LuzsdiV3Pi"},{"type":"text","value":" - Dictionary that remembers insertion order","position":{"start":{"line":1573,"column":1},"end":{"line":1573,"column":1}},"key":"Fg3wYZJ0wE"}],"key":"YbLMCOsIDP"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1574,"column":1},"end":{"line":1577,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1574,"column":1},"end":{"line":1574,"column":1}},"children":[{"type":"inlineCode","value":".move_to_end(key, last=True)","position":{"start":{"line":1574,"column":1},"end":{"line":1574,"column":1}},"key":"XnKab3Cf26"},{"type":"text","value":" - Move key to end (or beginning if last=False)","position":{"start":{"line":1574,"column":1},"end":{"line":1574,"column":1}},"key":"jqIEKwbOJK"}],"key":"XIVvNeGdcM"},{"type":"listItem","spread":true,"position":{"start":{"line":1575,"column":1},"end":{"line":1575,"column":1}},"children":[{"type":"inlineCode","value":".popitem(last=True)","position":{"start":{"line":1575,"column":1},"end":{"line":1575,"column":1}},"key":"KyMdZ4Sot5"},{"type":"text","value":" - Remove and return (key, value) pair from end/beginning","position":{"start":{"line":1575,"column":1},"end":{"line":1575,"column":1}},"key":"rhfx2r31l9"}],"key":"qWMybVmp4k"},{"type":"listItem","spread":true,"position":{"start":{"line":1576,"column":1},"end":{"line":1577,"column":1}},"children":[{"type":"text","value":"Use for LRU caches in physics calculations","position":{"start":{"line":1576,"column":1},"end":{"line":1576,"column":1}},"key":"AGo1B0PEBQ"}],"key":"Rm9gYaZgsh"}],"key":"yMcdsVk6h5"},{"type":"paragraph","position":{"start":{"line":1578,"column":1},"end":{"line":1578,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1578,"column":1},"end":{"line":1578,"column":1}},"children":[{"type":"inlineCode","value":"Counter","position":{"start":{"line":1578,"column":1},"end":{"line":1578,"column":1}},"key":"NXtzEB8zpy"}],"key":"X5B5WSuM4X"},{"type":"text","value":" - Dictionary subclass for counting hashable objects","position":{"start":{"line":1578,"column":1},"end":{"line":1578,"column":1}},"key":"p8ua6v5Czh"}],"key":"ZF3JAnpIXQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1579,"column":1},"end":{"line":1583,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1579,"column":1},"end":{"line":1579,"column":1}},"children":[{"type":"inlineCode","value":"Counter(iterable)","position":{"start":{"line":1579,"column":1},"end":{"line":1579,"column":1}},"key":"ToLMTjwUfd"},{"type":"text","value":" - Create from iterable","position":{"start":{"line":1579,"column":1},"end":{"line":1579,"column":1}},"key":"m0JEoF6d9z"}],"key":"fgiALclroc"},{"type":"listItem","spread":true,"position":{"start":{"line":1580,"column":1},"end":{"line":1580,"column":1}},"children":[{"type":"inlineCode","value":".most_common(n)","position":{"start":{"line":1580,"column":1},"end":{"line":1580,"column":1}},"key":"EdxN11ODd3"},{"type":"text","value":" - Returns n most common (element, count) pairs","position":{"start":{"line":1580,"column":1},"end":{"line":1580,"column":1}},"key":"O90lbiXNHA"}],"key":"Z1Aq9aOKgm"},{"type":"listItem","spread":true,"position":{"start":{"line":1581,"column":1},"end":{"line":1581,"column":1}},"children":[{"type":"inlineCode","value":".update(iterable)","position":{"start":{"line":1581,"column":1},"end":{"line":1581,"column":1}},"key":"H083Rpqcvv"},{"type":"text","value":" - Add counts from iterable","position":{"start":{"line":1581,"column":1},"end":{"line":1581,"column":1}},"key":"CLzDb0CtOS"}],"key":"yAcXVpSdDc"},{"type":"listItem","spread":true,"position":{"start":{"line":1582,"column":1},"end":{"line":1583,"column":1}},"children":[{"type":"text","value":"Perfect for histogram analysis of particle properties","position":{"start":{"line":1582,"column":1},"end":{"line":1582,"column":1}},"key":"P6B4MHO5Uc"}],"key":"nJX4o6fwq6"}],"key":"sgM00MyuLS"},{"type":"paragraph","position":{"start":{"line":1584,"column":1},"end":{"line":1584,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1584,"column":1},"end":{"line":1584,"column":1}},"children":[{"type":"inlineCode","value":"defaultdict","position":{"start":{"line":1584,"column":1},"end":{"line":1584,"column":1}},"key":"GHJEuJbRm3"}],"key":"MLOFbtQF4K"},{"type":"text","value":" - Dictionary with default value factory","position":{"start":{"line":1584,"column":1},"end":{"line":1584,"column":1}},"key":"rnLkWkS6nL"}],"key":"tIW71uWdDk"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1585,"column":1},"end":{"line":1588,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1585,"column":1},"end":{"line":1585,"column":1}},"children":[{"type":"inlineCode","value":"defaultdict(list)","position":{"start":{"line":1585,"column":1},"end":{"line":1585,"column":1}},"key":"nz9SHWSSH8"},{"type":"text","value":" - Missing keys default to empty list","position":{"start":{"line":1585,"column":1},"end":{"line":1585,"column":1}},"key":"Efctuw0pbY"}],"key":"g0fzdKh8o8"},{"type":"listItem","spread":true,"position":{"start":{"line":1586,"column":1},"end":{"line":1586,"column":1}},"children":[{"type":"inlineCode","value":"defaultdict(int)","position":{"start":{"line":1586,"column":1},"end":{"line":1586,"column":1}},"key":"uxiXZcgWJO"},{"type":"text","value":" - Missing keys default to 0","position":{"start":{"line":1586,"column":1},"end":{"line":1586,"column":1}},"key":"BhY2ByjiAe"}],"key":"wL3tpm6ryF"},{"type":"listItem","spread":true,"position":{"start":{"line":1587,"column":1},"end":{"line":1588,"column":1}},"children":[{"type":"text","value":"Eliminates KeyError in particle grouping","position":{"start":{"line":1587,"column":1},"end":{"line":1587,"column":1}},"key":"kpR2RNVKWI"}],"key":"okBGWSvtkB"}],"key":"uFNkcuHaM8"},{"type":"paragraph","position":{"start":{"line":1589,"column":1},"end":{"line":1589,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1589,"column":1},"end":{"line":1589,"column":1}},"children":[{"type":"inlineCode","value":"deque","position":{"start":{"line":1589,"column":1},"end":{"line":1589,"column":1}},"key":"Zy38uS1BJg"}],"key":"d0ZCzuc3xi"},{"type":"text","value":" - Double-ended queue with O(1) operations at both ends","position":{"start":{"line":1589,"column":1},"end":{"line":1589,"column":1}},"key":"ocTIfjIfG6"}],"key":"VSE0TtziTU"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1590,"column":1},"end":{"line":1594,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1590,"column":1},"end":{"line":1590,"column":1}},"children":[{"type":"inlineCode","value":"deque(maxlen=n)","position":{"start":{"line":1590,"column":1},"end":{"line":1590,"column":1}},"key":"Cb1gGsRZQE"},{"type":"text","value":" - Fixed-size queue (old elements dropped)","position":{"start":{"line":1590,"column":1},"end":{"line":1590,"column":1}},"key":"d6yETZL462"}],"key":"YYvtr03irM"},{"type":"listItem","spread":true,"position":{"start":{"line":1591,"column":1},"end":{"line":1591,"column":1}},"children":[{"type":"inlineCode","value":".append(x)","position":{"start":{"line":1591,"column":1},"end":{"line":1591,"column":1}},"key":"yJSGMQz0da"},{"type":"text","value":" / ","position":{"start":{"line":1591,"column":1},"end":{"line":1591,"column":1}},"key":"JXBDEhX3zc"},{"type":"inlineCode","value":".appendleft(x)","position":{"start":{"line":1591,"column":1},"end":{"line":1591,"column":1}},"key":"oBVCUNyfaP"},{"type":"text","value":" - Add to right/left end","position":{"start":{"line":1591,"column":1},"end":{"line":1591,"column":1}},"key":"gbi7UoXoM5"}],"key":"jL2Qs4A3j8"},{"type":"listItem","spread":true,"position":{"start":{"line":1592,"column":1},"end":{"line":1592,"column":1}},"children":[{"type":"inlineCode","value":".pop()","position":{"start":{"line":1592,"column":1},"end":{"line":1592,"column":1}},"key":"Xnci83BuaB"},{"type":"text","value":" / ","position":{"start":{"line":1592,"column":1},"end":{"line":1592,"column":1}},"key":"lJykjBcXSd"},{"type":"inlineCode","value":".popleft()","position":{"start":{"line":1592,"column":1},"end":{"line":1592,"column":1}},"key":"TyfUri9D5i"},{"type":"text","value":" - Remove from right/left end","position":{"start":{"line":1592,"column":1},"end":{"line":1592,"column":1}},"key":"GIG1q1NeIO"}],"key":"P0selJc3hY"},{"type":"listItem","spread":true,"position":{"start":{"line":1593,"column":1},"end":{"line":1594,"column":1}},"children":[{"type":"text","value":"Essential for boundary conditions in simulations","position":{"start":{"line":1593,"column":1},"end":{"line":1593,"column":1}},"key":"ZV0vl2HbRW"}],"key":"BSpJsEHK4x"}],"key":"Wao4cbebKP"},{"type":"paragraph","position":{"start":{"line":1595,"column":1},"end":{"line":1595,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1595,"column":1},"end":{"line":1595,"column":1}},"children":[{"type":"inlineCode","value":"namedtuple","position":{"start":{"line":1595,"column":1},"end":{"line":1595,"column":1}},"key":"PsHQVYO4eI"}],"key":"CWWrgLIzQ4"},{"type":"text","value":" - Tuple subclass with named fields","position":{"start":{"line":1595,"column":1},"end":{"line":1595,"column":1}},"key":"UNia8F45WW"}],"key":"hV9b3h7gW0"},{"type":"code","lang":"python","value":"Particle = namedtuple('Particle', ['id', 'mass', 'x', 'y', 'z'])\np = Particle(1, 1.0e30, 0, 0, 0)\nprint(p.mass)  # Access by name","position":{"start":{"line":1596,"column":1},"end":{"line":1600,"column":1}},"key":"yHrhjNNRF4"},{"type":"heading","depth":3,"position":{"start":{"line":1602,"column":1},"end":{"line":1602,"column":1}},"children":[{"type":"text","value":"Functools Module","position":{"start":{"line":1602,"column":1},"end":{"line":1602,"column":1}},"key":"zNFEyLWco2"}],"identifier":"functools-module","label":"Functools Module","html_id":"functools-module","implicit":true,"key":"fv16FwB1Qn"},{"type":"paragraph","position":{"start":{"line":1604,"column":1},"end":{"line":1604,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1604,"column":1},"end":{"line":1604,"column":1}},"children":[{"type":"inlineCode","value":"functools","position":{"start":{"line":1604,"column":1},"end":{"line":1604,"column":1}},"key":"fs7y9CZPVu"},{"type":"text","value":" module","position":{"start":{"line":1604,"column":1},"end":{"line":1604,"column":1}},"key":"MDdk2ZrgAx"}],"key":"Oyq4tcXBli"},{"type":"text","value":" - Higher-order functions and operations","position":{"start":{"line":1604,"column":1},"end":{"line":1604,"column":1}},"key":"KrrvjnfN5d"}],"key":"QaJTGuYEum"},{"type":"code","lang":"python","value":"from functools import lru_cache","position":{"start":{"line":1605,"column":1},"end":{"line":1607,"column":1}},"key":"N0scfKWjsd"},{"type":"paragraph","position":{"start":{"line":1609,"column":1},"end":{"line":1609,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1609,"column":1},"end":{"line":1609,"column":1}},"children":[{"type":"inlineCode","value":"@lru_cache(maxsize=128)","position":{"start":{"line":1609,"column":1},"end":{"line":1609,"column":1}},"key":"VuBhEgMd3X"}],"key":"FYno27nIkQ"},{"type":"text","value":" - Decorator for automatic memoization","position":{"start":{"line":1609,"column":1},"end":{"line":1609,"column":1}},"key":"R4hwoCsBky"}],"key":"gxYcQnr3Nq"},{"type":"code","lang":"python","value":"@lru_cache(maxsize=1000)\ndef expensive_calculation(T, rho):\n    return complex_physics_calculation(T, rho)","position":{"start":{"line":1610,"column":1},"end":{"line":1614,"column":1}},"key":"hVmNOpmN68"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1615,"column":1},"end":{"line":1619,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1615,"column":1},"end":{"line":1615,"column":1}},"children":[{"type":"text","value":"Caches function results automatically","position":{"start":{"line":1615,"column":1},"end":{"line":1615,"column":1}},"key":"oXgmflmNza"}],"key":"p3NhwoKlnp"},{"type":"listItem","spread":true,"position":{"start":{"line":1616,"column":1},"end":{"line":1616,"column":1}},"children":[{"type":"inlineCode","value":"maxsize=None","position":{"start":{"line":1616,"column":1},"end":{"line":1616,"column":1}},"key":"d9OTutyHLX"},{"type":"text","value":" for unlimited cache","position":{"start":{"line":1616,"column":1},"end":{"line":1616,"column":1}},"key":"qlAeUoSVHb"}],"key":"YTLUlbDwdE"},{"type":"listItem","spread":true,"position":{"start":{"line":1617,"column":1},"end":{"line":1617,"column":1}},"children":[{"type":"inlineCode","value":".cache_info()","position":{"start":{"line":1617,"column":1},"end":{"line":1617,"column":1}},"key":"NOdvi7rQwz"},{"type":"text","value":" - Returns cache statistics","position":{"start":{"line":1617,"column":1},"end":{"line":1617,"column":1}},"key":"kDfOwHtjmV"}],"key":"DswDDgdW1M"},{"type":"listItem","spread":true,"position":{"start":{"line":1618,"column":1},"end":{"line":1619,"column":1}},"children":[{"type":"inlineCode","value":".cache_clear()","position":{"start":{"line":1618,"column":1},"end":{"line":1618,"column":1}},"key":"LMVWpUm50o"},{"type":"text","value":" - Clear the cache","position":{"start":{"line":1618,"column":1},"end":{"line":1618,"column":1}},"key":"Hj5IdXV2SO"}],"key":"pwxx7Xx4Bj"}],"key":"l0LjaQi8po"},{"type":"heading","depth":3,"position":{"start":{"line":1620,"column":1},"end":{"line":1620,"column":1}},"children":[{"type":"text","value":"Built-in Functions for Data Structures","position":{"start":{"line":1620,"column":1},"end":{"line":1620,"column":1}},"key":"zMFDT6vUBm"}],"identifier":"built-in-functions-for-data-structures","label":"Built-in Functions for Data Structures","html_id":"built-in-functions-for-data-structures","implicit":true,"key":"HLwpAtehE5"},{"type":"paragraph","position":{"start":{"line":1622,"column":1},"end":{"line":1622,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1622,"column":1},"end":{"line":1622,"column":1}},"children":[{"type":"text","value":"Type Checking","position":{"start":{"line":1622,"column":1},"end":{"line":1622,"column":1}},"key":"Xg7c5U1GcX"}],"key":"LaLViBkkEh"}],"key":"f3yBjz44YZ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1623,"column":1},"end":{"line":1627,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1623,"column":1},"end":{"line":1623,"column":1}},"children":[{"type":"inlineCode","value":"type(obj)","position":{"start":{"line":1623,"column":1},"end":{"line":1623,"column":1}},"key":"ZaQyqKXfKg"},{"type":"text","value":" - Returns objectâ€™s type","position":{"start":{"line":1623,"column":1},"end":{"line":1623,"column":1}},"key":"IXvsMPiwqI"}],"key":"NSlICtTXPl"},{"type":"listItem","spread":true,"position":{"start":{"line":1624,"column":1},"end":{"line":1624,"column":1}},"children":[{"type":"inlineCode","value":"isinstance(obj, type)","position":{"start":{"line":1624,"column":1},"end":{"line":1624,"column":1}},"key":"RvoHTXU4aN"},{"type":"text","value":" - Check if obj is instance of type","position":{"start":{"line":1624,"column":1},"end":{"line":1624,"column":1}},"key":"XaDkgIGsuo"}],"key":"ytaKGXJsH7"},{"type":"listItem","spread":true,"position":{"start":{"line":1625,"column":1},"end":{"line":1625,"column":1}},"children":[{"type":"inlineCode","value":"id(obj)","position":{"start":{"line":1625,"column":1},"end":{"line":1625,"column":1}},"key":"a7v7dHcjmR"},{"type":"text","value":" - Returns unique identifier (memory address)","position":{"start":{"line":1625,"column":1},"end":{"line":1625,"column":1}},"key":"EzJl5aVIYL"}],"key":"eZjkrUMUpi"},{"type":"listItem","spread":true,"position":{"start":{"line":1626,"column":1},"end":{"line":1627,"column":1}},"children":[{"type":"inlineCode","value":"obj1 is obj2","position":{"start":{"line":1626,"column":1},"end":{"line":1626,"column":1}},"key":"r9rw4OUPJ4"},{"type":"text","value":" - Check if same object (identity)","position":{"start":{"line":1626,"column":1},"end":{"line":1626,"column":1}},"key":"wfZRVNc6LU"}],"key":"pmpNSadvxf"}],"key":"Pk4UCAFiaZ"},{"type":"paragraph","position":{"start":{"line":1628,"column":1},"end":{"line":1628,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1628,"column":1},"end":{"line":1628,"column":1}},"children":[{"type":"text","value":"Container Operations","position":{"start":{"line":1628,"column":1},"end":{"line":1628,"column":1}},"key":"GCpkviANl5"}],"key":"l55LMqC5mK"}],"key":"RMQlndboaX"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1629,"column":1},"end":{"line":1635,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1629,"column":1},"end":{"line":1629,"column":1}},"children":[{"type":"inlineCode","value":"len(container)","position":{"start":{"line":1629,"column":1},"end":{"line":1629,"column":1}},"key":"y1TWLawvVk"},{"type":"text","value":" - Number of elements","position":{"start":{"line":1629,"column":1},"end":{"line":1629,"column":1}},"key":"AmUgaQfK2u"}],"key":"IXEAWGgP5F"},{"type":"listItem","spread":true,"position":{"start":{"line":1630,"column":1},"end":{"line":1630,"column":1}},"children":[{"type":"inlineCode","value":"x in container","position":{"start":{"line":1630,"column":1},"end":{"line":1630,"column":1}},"key":"jH5uVzRap5"},{"type":"text","value":" - Membership test (O(1) for sets/dicts, O(n) for lists)","position":{"start":{"line":1630,"column":1},"end":{"line":1630,"column":1}},"key":"WOQUuRKeTL"}],"key":"wr7yTIDv1X"},{"type":"listItem","spread":true,"position":{"start":{"line":1631,"column":1},"end":{"line":1631,"column":1}},"children":[{"type":"inlineCode","value":"sorted(iterable)","position":{"start":{"line":1631,"column":1},"end":{"line":1631,"column":1}},"key":"toZsqZd40i"},{"type":"text","value":" - Returns new sorted list","position":{"start":{"line":1631,"column":1},"end":{"line":1631,"column":1}},"key":"dW3mrbEyBW"}],"key":"HlheHM7aE9"},{"type":"listItem","spread":true,"position":{"start":{"line":1632,"column":1},"end":{"line":1632,"column":1}},"children":[{"type":"inlineCode","value":"reversed(sequence)","position":{"start":{"line":1632,"column":1},"end":{"line":1632,"column":1}},"key":"S7haKkhwKX"},{"type":"text","value":" - Returns reverse iterator","position":{"start":{"line":1632,"column":1},"end":{"line":1632,"column":1}},"key":"t2o4RNFPyh"}],"key":"NmTCaWG9UT"},{"type":"listItem","spread":true,"position":{"start":{"line":1633,"column":1},"end":{"line":1633,"column":1}},"children":[{"type":"inlineCode","value":"enumerate(iterable, start=0)","position":{"start":{"line":1633,"column":1},"end":{"line":1633,"column":1}},"key":"BYODMpGyeh"},{"type":"text","value":" - Returns (index, value) pairs","position":{"start":{"line":1633,"column":1},"end":{"line":1633,"column":1}},"key":"s9CGjDSc4q"}],"key":"Ok7z4HTQjH"},{"type":"listItem","spread":true,"position":{"start":{"line":1634,"column":1},"end":{"line":1635,"column":1}},"children":[{"type":"inlineCode","value":"zip(iter1, iter2, ...)","position":{"start":{"line":1634,"column":1},"end":{"line":1634,"column":1}},"key":"pvAnC5QHwX"},{"type":"text","value":" - Parallel iteration","position":{"start":{"line":1634,"column":1},"end":{"line":1634,"column":1}},"key":"YuRtKVePDQ"}],"key":"bIjtKueofN"}],"key":"dNLNx0gTnH"},{"type":"paragraph","position":{"start":{"line":1636,"column":1},"end":{"line":1636,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1636,"column":1},"end":{"line":1636,"column":1}},"children":[{"type":"text","value":"Copying","position":{"start":{"line":1636,"column":1},"end":{"line":1636,"column":1}},"key":"tGcQuZfsNj"}],"key":"eBGA15bSRL"}],"key":"AZRNSv4cBh"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1637,"column":1},"end":{"line":1641,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1637,"column":1},"end":{"line":1637,"column":1}},"children":[{"type":"inlineCode","value":"list(iterable)","position":{"start":{"line":1637,"column":1},"end":{"line":1637,"column":1}},"key":"hbVaEJ2vxy"},{"type":"text","value":" - Create new list from iterable","position":{"start":{"line":1637,"column":1},"end":{"line":1637,"column":1}},"key":"WiHjxiVtFp"}],"key":"As5eDM447N"},{"type":"listItem","spread":true,"position":{"start":{"line":1638,"column":1},"end":{"line":1638,"column":1}},"children":[{"type":"inlineCode","value":"tuple(iterable)","position":{"start":{"line":1638,"column":1},"end":{"line":1638,"column":1}},"key":"GxgYwwbg8G"},{"type":"text","value":" - Create new tuple from iterable","position":{"start":{"line":1638,"column":1},"end":{"line":1638,"column":1}},"key":"TIKTM4lCFH"}],"key":"dfyqsspLLs"},{"type":"listItem","spread":true,"position":{"start":{"line":1639,"column":1},"end":{"line":1639,"column":1}},"children":[{"type":"inlineCode","value":"set(iterable)","position":{"start":{"line":1639,"column":1},"end":{"line":1639,"column":1}},"key":"WhdhTEaCpM"},{"type":"text","value":" - Create new set from iterable","position":{"start":{"line":1639,"column":1},"end":{"line":1639,"column":1}},"key":"KG9ehw80cC"}],"key":"IIwsqvRys0"},{"type":"listItem","spread":true,"position":{"start":{"line":1640,"column":1},"end":{"line":1641,"column":1}},"children":[{"type":"inlineCode","value":"dict(pairs)","position":{"start":{"line":1640,"column":1},"end":{"line":1640,"column":1}},"key":"weddNj1BQi"},{"type":"text","value":" - Create dictionary from (key, value) pairs","position":{"start":{"line":1640,"column":1},"end":{"line":1640,"column":1}},"key":"K28pA8rcNr"}],"key":"Raky5TQAPy"}],"key":"iySqjGewWb"},{"type":"heading","depth":3,"position":{"start":{"line":1642,"column":1},"end":{"line":1642,"column":1}},"children":[{"type":"text","value":"Data Structure Methods Summary","position":{"start":{"line":1642,"column":1},"end":{"line":1642,"column":1}},"key":"HzzpTKQYVY"}],"identifier":"data-structure-methods-summary","label":"Data Structure Methods Summary","html_id":"data-structure-methods-summary","implicit":true,"key":"ftfD2AU1ed"},{"type":"paragraph","position":{"start":{"line":1644,"column":1},"end":{"line":1644,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1644,"column":1},"end":{"line":1644,"column":1}},"children":[{"type":"text","value":"List Methods","position":{"start":{"line":1644,"column":1},"end":{"line":1644,"column":1}},"key":"cXJgwYV1vu"}],"key":"MLwPzDBwcO"},{"type":"text","value":" (Expanded)","position":{"start":{"line":1644,"column":1},"end":{"line":1644,"column":1}},"key":"FhR4OoOXXt"}],"key":"KDj1DO7DnM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1645,"column":1},"end":{"line":1656,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1645,"column":1},"end":{"line":1645,"column":1}},"children":[{"type":"inlineCode","value":".append(x)","position":{"start":{"line":1645,"column":1},"end":{"line":1645,"column":1}},"key":"EopjHqdFg4"},{"type":"text","value":" - Add to end (amortized O(1))","position":{"start":{"line":1645,"column":1},"end":{"line":1645,"column":1}},"key":"zh5xDVN3oj"}],"key":"yywKAWhphI"},{"type":"listItem","spread":true,"position":{"start":{"line":1646,"column":1},"end":{"line":1646,"column":1}},"children":[{"type":"inlineCode","value":".extend(iterable)","position":{"start":{"line":1646,"column":1},"end":{"line":1646,"column":1}},"key":"bKrPorcM67"},{"type":"text","value":" - Add all elements from iterable","position":{"start":{"line":1646,"column":1},"end":{"line":1646,"column":1}},"key":"iw09wCOsrX"}],"key":"N7iOYyXq7e"},{"type":"listItem","spread":true,"position":{"start":{"line":1647,"column":1},"end":{"line":1647,"column":1}},"children":[{"type":"inlineCode","value":".insert(i, x)","position":{"start":{"line":1647,"column":1},"end":{"line":1647,"column":1}},"key":"Fh7YdO7S7Q"},{"type":"text","value":" - Insert at position i (O(n))","position":{"start":{"line":1647,"column":1},"end":{"line":1647,"column":1}},"key":"gr3i1cSV1Y"}],"key":"dywUFXcU0X"},{"type":"listItem","spread":true,"position":{"start":{"line":1648,"column":1},"end":{"line":1648,"column":1}},"children":[{"type":"inlineCode","value":".remove(x)","position":{"start":{"line":1648,"column":1},"end":{"line":1648,"column":1}},"key":"E7ul6xOz16"},{"type":"text","value":" - Remove first x (O(n))","position":{"start":{"line":1648,"column":1},"end":{"line":1648,"column":1}},"key":"R3JK9axO5z"}],"key":"e3D2u5o9Kf"},{"type":"listItem","spread":true,"position":{"start":{"line":1649,"column":1},"end":{"line":1649,"column":1}},"children":[{"type":"inlineCode","value":".pop(i=-1)","position":{"start":{"line":1649,"column":1},"end":{"line":1649,"column":1}},"key":"elErieXkr2"},{"type":"text","value":" - Remove and return element at i","position":{"start":{"line":1649,"column":1},"end":{"line":1649,"column":1}},"key":"dtBbZwuOhV"}],"key":"OPu5IeGGrK"},{"type":"listItem","spread":true,"position":{"start":{"line":1650,"column":1},"end":{"line":1650,"column":1}},"children":[{"type":"inlineCode","value":".clear()","position":{"start":{"line":1650,"column":1},"end":{"line":1650,"column":1}},"key":"GnexrQkuUs"},{"type":"text","value":" - Remove all elements","position":{"start":{"line":1650,"column":1},"end":{"line":1650,"column":1}},"key":"sqDZ0Bg00F"}],"key":"iOd65ZckhX"},{"type":"listItem","spread":true,"position":{"start":{"line":1651,"column":1},"end":{"line":1651,"column":1}},"children":[{"type":"inlineCode","value":".index(x)","position":{"start":{"line":1651,"column":1},"end":{"line":1651,"column":1}},"key":"beCoG9waPr"},{"type":"text","value":" - Find position of x (O(n))","position":{"start":{"line":1651,"column":1},"end":{"line":1651,"column":1}},"key":"a2FW6XdtYx"}],"key":"FaxntJ9qe1"},{"type":"listItem","spread":true,"position":{"start":{"line":1652,"column":1},"end":{"line":1652,"column":1}},"children":[{"type":"inlineCode","value":".count(x)","position":{"start":{"line":1652,"column":1},"end":{"line":1652,"column":1}},"key":"pIMt9iFHJT"},{"type":"text","value":" - Count occurrences of x","position":{"start":{"line":1652,"column":1},"end":{"line":1652,"column":1}},"key":"p8zZS6SsOL"}],"key":"uwTfrJFmKk"},{"type":"listItem","spread":true,"position":{"start":{"line":1653,"column":1},"end":{"line":1653,"column":1}},"children":[{"type":"inlineCode","value":".sort()","position":{"start":{"line":1653,"column":1},"end":{"line":1653,"column":1}},"key":"FC9lzJTblH"},{"type":"text","value":" - Sort in-place","position":{"start":{"line":1653,"column":1},"end":{"line":1653,"column":1}},"key":"e0SIZJ1pAr"}],"key":"ZbQCERrOtH"},{"type":"listItem","spread":true,"position":{"start":{"line":1654,"column":1},"end":{"line":1654,"column":1}},"children":[{"type":"inlineCode","value":".reverse()","position":{"start":{"line":1654,"column":1},"end":{"line":1654,"column":1}},"key":"u8jnUjl0s0"},{"type":"text","value":" - Reverse in-place","position":{"start":{"line":1654,"column":1},"end":{"line":1654,"column":1}},"key":"RTqOcqYKjU"}],"key":"u83NtALB2o"},{"type":"listItem","spread":true,"position":{"start":{"line":1655,"column":1},"end":{"line":1656,"column":1}},"children":[{"type":"inlineCode","value":".copy()","position":{"start":{"line":1655,"column":1},"end":{"line":1655,"column":1}},"key":"Uan3Lmgkkh"},{"type":"text","value":" - Create shallow copy","position":{"start":{"line":1655,"column":1},"end":{"line":1655,"column":1}},"key":"erRbGIIVTH"}],"key":"EtGvNt7SU9"}],"key":"kLt3KwVm9b"},{"type":"paragraph","position":{"start":{"line":1657,"column":1},"end":{"line":1657,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1657,"column":1},"end":{"line":1657,"column":1}},"children":[{"type":"text","value":"Dictionary Methods","position":{"start":{"line":1657,"column":1},"end":{"line":1657,"column":1}},"key":"qRcfmVCEw6"}],"key":"QMGeRkviDf"},{"type":"text","value":" (Expanded)","position":{"start":{"line":1657,"column":1},"end":{"line":1657,"column":1}},"key":"JXlJ6UPLCV"}],"key":"X5hRDseli8"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1658,"column":1},"end":{"line":1668,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1658,"column":1},"end":{"line":1658,"column":1}},"children":[{"type":"inlineCode","value":".get(key, default=None)","position":{"start":{"line":1658,"column":1},"end":{"line":1658,"column":1}},"key":"KaKMA7weZW"},{"type":"text","value":" - Safe access with default","position":{"start":{"line":1658,"column":1},"end":{"line":1658,"column":1}},"key":"Dxiz3epSlD"}],"key":"HSpHL1lAi8"},{"type":"listItem","spread":true,"position":{"start":{"line":1659,"column":1},"end":{"line":1659,"column":1}},"children":[{"type":"inlineCode","value":".setdefault(key, default)","position":{"start":{"line":1659,"column":1},"end":{"line":1659,"column":1}},"key":"syFDZY6Ean"},{"type":"text","value":" - Get or set with default","position":{"start":{"line":1659,"column":1},"end":{"line":1659,"column":1}},"key":"W1ysEPssDM"}],"key":"arFEaKlQWv"},{"type":"listItem","spread":true,"position":{"start":{"line":1660,"column":1},"end":{"line":1660,"column":1}},"children":[{"type":"inlineCode","value":".pop(key, default)","position":{"start":{"line":1660,"column":1},"end":{"line":1660,"column":1}},"key":"GEvEB1nwz9"},{"type":"text","value":" - Remove and return value","position":{"start":{"line":1660,"column":1},"end":{"line":1660,"column":1}},"key":"bc9pe0378K"}],"key":"HJ6KzYEke5"},{"type":"listItem","spread":true,"position":{"start":{"line":1661,"column":1},"end":{"line":1661,"column":1}},"children":[{"type":"inlineCode","value":".popitem()","position":{"start":{"line":1661,"column":1},"end":{"line":1661,"column":1}},"key":"FgChtW4NAX"},{"type":"text","value":" - Remove and return arbitrary (key, value)","position":{"start":{"line":1661,"column":1},"end":{"line":1661,"column":1}},"key":"d4ajHZwnTa"}],"key":"Nrq0bhTyJS"},{"type":"listItem","spread":true,"position":{"start":{"line":1662,"column":1},"end":{"line":1662,"column":1}},"children":[{"type":"inlineCode","value":".update(other)","position":{"start":{"line":1662,"column":1},"end":{"line":1662,"column":1}},"key":"VV6TJyxWZa"},{"type":"text","value":" - Update with other dict/pairs","position":{"start":{"line":1662,"column":1},"end":{"line":1662,"column":1}},"key":"HSAMdtDUYq"}],"key":"GUizyb2WsZ"},{"type":"listItem","spread":true,"position":{"start":{"line":1663,"column":1},"end":{"line":1663,"column":1}},"children":[{"type":"inlineCode","value":".keys()","position":{"start":{"line":1663,"column":1},"end":{"line":1663,"column":1}},"key":"ieuifKxncJ"},{"type":"text","value":" - View of keys","position":{"start":{"line":1663,"column":1},"end":{"line":1663,"column":1}},"key":"wmBolGlsoR"}],"key":"DCP1V26FLD"},{"type":"listItem","spread":true,"position":{"start":{"line":1664,"column":1},"end":{"line":1664,"column":1}},"children":[{"type":"inlineCode","value":".values()","position":{"start":{"line":1664,"column":1},"end":{"line":1664,"column":1}},"key":"NpNwDXUIIZ"},{"type":"text","value":" - View of values","position":{"start":{"line":1664,"column":1},"end":{"line":1664,"column":1}},"key":"HPJ2EwaGvL"}],"key":"LjmTyQ7E0p"},{"type":"listItem","spread":true,"position":{"start":{"line":1665,"column":1},"end":{"line":1665,"column":1}},"children":[{"type":"inlineCode","value":".items()","position":{"start":{"line":1665,"column":1},"end":{"line":1665,"column":1}},"key":"khNiOC2KBT"},{"type":"text","value":" - View of (key, value) pairs","position":{"start":{"line":1665,"column":1},"end":{"line":1665,"column":1}},"key":"SKmtZIGDRm"}],"key":"ubAb6JXn8u"},{"type":"listItem","spread":true,"position":{"start":{"line":1666,"column":1},"end":{"line":1666,"column":1}},"children":[{"type":"inlineCode","value":".clear()","position":{"start":{"line":1666,"column":1},"end":{"line":1666,"column":1}},"key":"eRF0PaHPgO"},{"type":"text","value":" - Remove all items","position":{"start":{"line":1666,"column":1},"end":{"line":1666,"column":1}},"key":"aDTWMWbZ0y"}],"key":"GwwGpq7Jgj"},{"type":"listItem","spread":true,"position":{"start":{"line":1667,"column":1},"end":{"line":1668,"column":1}},"children":[{"type":"inlineCode","value":".copy()","position":{"start":{"line":1667,"column":1},"end":{"line":1667,"column":1}},"key":"PEIe6ApoAs"},{"type":"text","value":" - Shallow copy","position":{"start":{"line":1667,"column":1},"end":{"line":1667,"column":1}},"key":"ctV4CUZDpI"}],"key":"HzYfCuontX"}],"key":"f38w3oBDD4"},{"type":"paragraph","position":{"start":{"line":1669,"column":1},"end":{"line":1669,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1669,"column":1},"end":{"line":1669,"column":1}},"children":[{"type":"text","value":"Set Methods","position":{"start":{"line":1669,"column":1},"end":{"line":1669,"column":1}},"key":"x2MvoDHDhH"}],"key":"eMYv2a5nTR"},{"type":"text","value":" (Expanded)","position":{"start":{"line":1669,"column":1},"end":{"line":1669,"column":1}},"key":"Sa2JLsqE6P"}],"key":"RQnQu7mIyN"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1670,"column":1},"end":{"line":1687,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1670,"column":1},"end":{"line":1670,"column":1}},"children":[{"type":"inlineCode","value":".add(x)","position":{"start":{"line":1670,"column":1},"end":{"line":1670,"column":1}},"key":"reUbsNTwfS"},{"type":"text","value":" - Add element","position":{"start":{"line":1670,"column":1},"end":{"line":1670,"column":1}},"key":"XWM0DSmpBZ"}],"key":"bQFwopEiCn"},{"type":"listItem","spread":true,"position":{"start":{"line":1671,"column":1},"end":{"line":1671,"column":1}},"children":[{"type":"inlineCode","value":".remove(x)","position":{"start":{"line":1671,"column":1},"end":{"line":1671,"column":1}},"key":"PhzkSwLrG6"},{"type":"text","value":" - Remove element (raises KeyError if missing)","position":{"start":{"line":1671,"column":1},"end":{"line":1671,"column":1}},"key":"iLwq1NVazJ"}],"key":"YybhwIPMDW"},{"type":"listItem","spread":true,"position":{"start":{"line":1672,"column":1},"end":{"line":1672,"column":1}},"children":[{"type":"inlineCode","value":".discard(x)","position":{"start":{"line":1672,"column":1},"end":{"line":1672,"column":1}},"key":"iLTFhm15P2"},{"type":"text","value":" - Remove element (no error if missing)","position":{"start":{"line":1672,"column":1},"end":{"line":1672,"column":1}},"key":"zM8iPD3v7G"}],"key":"ixwbaSCCAB"},{"type":"listItem","spread":true,"position":{"start":{"line":1673,"column":1},"end":{"line":1673,"column":1}},"children":[{"type":"inlineCode","value":".pop()","position":{"start":{"line":1673,"column":1},"end":{"line":1673,"column":1}},"key":"SRCUt579An"},{"type":"text","value":" - Remove and return arbitrary element","position":{"start":{"line":1673,"column":1},"end":{"line":1673,"column":1}},"key":"K7AQ6cBfGu"}],"key":"lj78f1KRPp"},{"type":"listItem","spread":true,"position":{"start":{"line":1674,"column":1},"end":{"line":1674,"column":1}},"children":[{"type":"inlineCode","value":".clear()","position":{"start":{"line":1674,"column":1},"end":{"line":1674,"column":1}},"key":"atHadwZpw5"},{"type":"text","value":" - Remove all elements","position":{"start":{"line":1674,"column":1},"end":{"line":1674,"column":1}},"key":"VoTSXUR2cq"}],"key":"oL6Nwx97c2"},{"type":"listItem","spread":true,"position":{"start":{"line":1675,"column":1},"end":{"line":1675,"column":1}},"children":[{"type":"inlineCode","value":".union(other)","position":{"start":{"line":1675,"column":1},"end":{"line":1675,"column":1}},"key":"VKdZBNc3IW"},{"type":"text","value":" or ","position":{"start":{"line":1675,"column":1},"end":{"line":1675,"column":1}},"key":"LvS5khfoaZ"},{"type":"inlineCode","value":"|","position":{"start":{"line":1675,"column":1},"end":{"line":1675,"column":1}},"key":"wb4i9yIeMA"},{"type":"text","value":" - Elements in either set","position":{"start":{"line":1675,"column":1},"end":{"line":1675,"column":1}},"key":"EpLOs1BiMI"}],"key":"Ivh5zd0KKJ"},{"type":"listItem","spread":true,"position":{"start":{"line":1676,"column":1},"end":{"line":1676,"column":1}},"children":[{"type":"inlineCode","value":".intersection(other)","position":{"start":{"line":1676,"column":1},"end":{"line":1676,"column":1}},"key":"ixOKmW17if"},{"type":"text","value":" or ","position":{"start":{"line":1676,"column":1},"end":{"line":1676,"column":1}},"key":"VhCj3iVzw3"},{"type":"inlineCode","value":"&","position":{"start":{"line":1676,"column":1},"end":{"line":1676,"column":1}},"key":"j6CjizCwfe"},{"type":"text","value":" - Elements in both sets","position":{"start":{"line":1676,"column":1},"end":{"line":1676,"column":1}},"key":"NYXjB3pYEm"}],"key":"SMjYJHP0sA"},{"type":"listItem","spread":true,"position":{"start":{"line":1677,"column":1},"end":{"line":1677,"column":1}},"children":[{"type":"inlineCode","value":".difference(other)","position":{"start":{"line":1677,"column":1},"end":{"line":1677,"column":1}},"key":"qR3nIRTjaO"},{"type":"text","value":" or ","position":{"start":{"line":1677,"column":1},"end":{"line":1677,"column":1}},"key":"L0RvtGz0No"},{"type":"inlineCode","value":"-","position":{"start":{"line":1677,"column":1},"end":{"line":1677,"column":1}},"key":"tjOFtZIvwk"},{"type":"text","value":" - Elements in first but not second","position":{"start":{"line":1677,"column":1},"end":{"line":1677,"column":1}},"key":"QKBWE4H3Hj"}],"key":"JwviTCikhH"},{"type":"listItem","spread":true,"position":{"start":{"line":1678,"column":1},"end":{"line":1678,"column":1}},"children":[{"type":"inlineCode","value":".symmetric_difference(other)","position":{"start":{"line":1678,"column":1},"end":{"line":1678,"column":1}},"key":"Cuiq9qZjlX"},{"type":"text","value":" or ","position":{"start":{"line":1678,"column":1},"end":{"line":1678,"column":1}},"key":"dJZ6TdZRS9"},{"type":"inlineCode","value":"^","position":{"start":{"line":1678,"column":1},"end":{"line":1678,"column":1}},"key":"dtgWomt9wV"},{"type":"text","value":" - Elements in either but not both","position":{"start":{"line":1678,"column":1},"end":{"line":1678,"column":1}},"key":"xwItFHrIaB"}],"key":"kwGFrnhaFO"},{"type":"listItem","spread":true,"position":{"start":{"line":1679,"column":1},"end":{"line":1679,"column":1}},"children":[{"type":"inlineCode","value":".update(other)","position":{"start":{"line":1679,"column":1},"end":{"line":1679,"column":1}},"key":"fnVNg7OOd9"},{"type":"text","value":" or ","position":{"start":{"line":1679,"column":1},"end":{"line":1679,"column":1}},"key":"e6rm7OFpAP"},{"type":"inlineCode","value":"|=","position":{"start":{"line":1679,"column":1},"end":{"line":1679,"column":1}},"key":"uKwtlp98LZ"},{"type":"text","value":" - Add elements from other","position":{"start":{"line":1679,"column":1},"end":{"line":1679,"column":1}},"key":"W3BHFb7tP1"}],"key":"OjNcgkCHee"},{"type":"listItem","spread":true,"position":{"start":{"line":1680,"column":1},"end":{"line":1680,"column":1}},"children":[{"type":"inlineCode","value":".intersection_update(other)","position":{"start":{"line":1680,"column":1},"end":{"line":1680,"column":1}},"key":"mxbSqmlIDk"},{"type":"text","value":" or ","position":{"start":{"line":1680,"column":1},"end":{"line":1680,"column":1}},"key":"fLvSWdwtiS"},{"type":"inlineCode","value":"&=","position":{"start":{"line":1680,"column":1},"end":{"line":1680,"column":1}},"key":"o5zN7HLzna"},{"type":"text","value":" - Keep only elements in both","position":{"start":{"line":1680,"column":1},"end":{"line":1680,"column":1}},"key":"rJmuAFYQ2m"}],"key":"rj8bD1W1Ih"},{"type":"listItem","spread":true,"position":{"start":{"line":1681,"column":1},"end":{"line":1681,"column":1}},"children":[{"type":"inlineCode","value":".difference_update(other)","position":{"start":{"line":1681,"column":1},"end":{"line":1681,"column":1}},"key":"lStcUVYwLH"},{"type":"text","value":" or ","position":{"start":{"line":1681,"column":1},"end":{"line":1681,"column":1}},"key":"gJ7CYBS8nP"},{"type":"inlineCode","value":"-=","position":{"start":{"line":1681,"column":1},"end":{"line":1681,"column":1}},"key":"OBx8lCM1uS"},{"type":"text","value":" - Remove elements in other","position":{"start":{"line":1681,"column":1},"end":{"line":1681,"column":1}},"key":"khK7atlXJg"}],"key":"FUvBB7VHSs"},{"type":"listItem","spread":true,"position":{"start":{"line":1682,"column":1},"end":{"line":1682,"column":1}},"children":[{"type":"inlineCode","value":".symmetric_difference_update(other)","position":{"start":{"line":1682,"column":1},"end":{"line":1682,"column":1}},"key":"XS9uuIQpK5"},{"type":"text","value":" or ","position":{"start":{"line":1682,"column":1},"end":{"line":1682,"column":1}},"key":"f7BzLoB39S"},{"type":"inlineCode","value":"^=","position":{"start":{"line":1682,"column":1},"end":{"line":1682,"column":1}},"key":"g75ldeq3l8"},{"type":"text","value":" - Keep elements in either but not both","position":{"start":{"line":1682,"column":1},"end":{"line":1682,"column":1}},"key":"fDzeMHGJK0"}],"key":"uwN6Xls2Wf"},{"type":"listItem","spread":true,"position":{"start":{"line":1683,"column":1},"end":{"line":1683,"column":1}},"children":[{"type":"inlineCode","value":".issubset(other)","position":{"start":{"line":1683,"column":1},"end":{"line":1683,"column":1}},"key":"Gxnd0MpKki"},{"type":"text","value":" - Check if all elements in other","position":{"start":{"line":1683,"column":1},"end":{"line":1683,"column":1}},"key":"O9Aa1Jg0N6"}],"key":"n78JM8LvJO"},{"type":"listItem","spread":true,"position":{"start":{"line":1684,"column":1},"end":{"line":1684,"column":1}},"children":[{"type":"inlineCode","value":".issuperset(other)","position":{"start":{"line":1684,"column":1},"end":{"line":1684,"column":1}},"key":"YhXFKwvOgf"},{"type":"text","value":" - Check if contains all elements of other","position":{"start":{"line":1684,"column":1},"end":{"line":1684,"column":1}},"key":"Lfao7DBi7b"}],"key":"qEHJ7Jpx4m"},{"type":"listItem","spread":true,"position":{"start":{"line":1685,"column":1},"end":{"line":1685,"column":1}},"children":[{"type":"inlineCode","value":".isdisjoint(other)","position":{"start":{"line":1685,"column":1},"end":{"line":1685,"column":1}},"key":"hPESXp5F1j"},{"type":"text","value":" - Check if no elements in common","position":{"start":{"line":1685,"column":1},"end":{"line":1685,"column":1}},"key":"f7h8mmtbuU"}],"key":"lS2qYRG6KT"},{"type":"listItem","spread":true,"position":{"start":{"line":1686,"column":1},"end":{"line":1687,"column":1}},"children":[{"type":"inlineCode","value":".copy()","position":{"start":{"line":1686,"column":1},"end":{"line":1686,"column":1}},"key":"CZSNxuIWGC"},{"type":"text","value":" - Create shallow copy","position":{"start":{"line":1686,"column":1},"end":{"line":1686,"column":1}},"key":"ojtigESj4u"}],"key":"PCcildJkE7"}],"key":"RMKHHWsb8n"},{"type":"heading","depth":3,"position":{"start":{"line":1688,"column":1},"end":{"line":1688,"column":1}},"children":[{"type":"text","value":"Performance Quick Reference","position":{"start":{"line":1688,"column":1},"end":{"line":1688,"column":1}},"key":"rwiH0ytPqJ"}],"identifier":"performance-quick-reference","label":"Performance Quick Reference","html_id":"performance-quick-reference","implicit":true,"key":"MMjRrqS2Hd"},{"type":"table","position":{"start":{"line":1690,"column":1},"end":{"line":1698,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1690,"column":1},"end":{"line":1690,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1690,"column":1},"end":{"line":1690,"column":1}},"children":[{"type":"text","value":"Operation","position":{"start":{"line":1690,"column":1},"end":{"line":1690,"column":1}},"key":"BNRgIhn9CX"}],"key":"Wy1zg9BF9F"},{"type":"tableCell","header":true,"position":{"start":{"line":1690,"column":1},"end":{"line":1690,"column":1}},"children":[{"type":"text","value":"List","position":{"start":{"line":1690,"column":1},"end":{"line":1690,"column":1}},"key":"a9E8eRlbCD"}],"key":"gil9I1Kxcq"},{"type":"tableCell","header":true,"position":{"start":{"line":1690,"column":1},"end":{"line":1690,"column":1}},"children":[{"type":"text","value":"Tuple","position":{"start":{"line":1690,"column":1},"end":{"line":1690,"column":1}},"key":"PC2KNBXbQT"}],"key":"oyJNAIgcy4"},{"type":"tableCell","header":true,"position":{"start":{"line":1690,"column":1},"end":{"line":1690,"column":1}},"children":[{"type":"text","value":"Dict","position":{"start":{"line":1690,"column":1},"end":{"line":1690,"column":1}},"key":"QAfZNEJlwh"}],"key":"AudSrz6wSw"},{"type":"tableCell","header":true,"position":{"start":{"line":1690,"column":1},"end":{"line":1690,"column":1}},"children":[{"type":"text","value":"Set","position":{"start":{"line":1690,"column":1},"end":{"line":1690,"column":1}},"key":"UAdfyl1zsH"}],"key":"TkJ5nRrALG"},{"type":"tableCell","header":true,"position":{"start":{"line":1690,"column":1},"end":{"line":1690,"column":1}},"children":[{"type":"text","value":"Deque","position":{"start":{"line":1690,"column":1},"end":{"line":1690,"column":1}},"key":"VECaej6luz"}],"key":"X2dVpDtq7t"}],"key":"Ys2Q14cj7z"},{"type":"tableRow","position":{"start":{"line":1692,"column":1},"end":{"line":1692,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1692,"column":1},"end":{"line":1692,"column":1}},"children":[{"type":"text","value":"Access by index","position":{"start":{"line":1692,"column":1},"end":{"line":1692,"column":1}},"key":"RFOdHDmSVs"}],"key":"NGKgoOhFCQ"},{"type":"tableCell","position":{"start":{"line":1692,"column":1},"end":{"line":1692,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1692,"column":1},"end":{"line":1692,"column":1}},"key":"UrlIxmYBbm"}],"key":"CGMjaCIXZP"},{"type":"tableCell","position":{"start":{"line":1692,"column":1},"end":{"line":1692,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1692,"column":1},"end":{"line":1692,"column":1}},"key":"V9tA01jhcv"}],"key":"R1CEAV4BpD"},{"type":"tableCell","position":{"start":{"line":1692,"column":1},"end":{"line":1692,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1692,"column":1},"end":{"line":1692,"column":1}},"key":"Av11rFodUe"}],"key":"OUTAZkAvhC"},{"type":"tableCell","position":{"start":{"line":1692,"column":1},"end":{"line":1692,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1692,"column":1},"end":{"line":1692,"column":1}},"key":"Xa1jI43yZy"}],"key":"ssnzjgsDwt"},{"type":"tableCell","position":{"start":{"line":1692,"column":1},"end":{"line":1692,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":1692,"column":1},"end":{"line":1692,"column":1}},"key":"uKCor7nOSu"}],"key":"SmDcq3xJID"}],"key":"VI1qWDwlRd"},{"type":"tableRow","position":{"start":{"line":1693,"column":1},"end":{"line":1693,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1693,"column":1},"end":{"line":1693,"column":1}},"children":[{"type":"text","value":"Search for value","position":{"start":{"line":1693,"column":1},"end":{"line":1693,"column":1}},"key":"FD9FOa8QXt"}],"key":"loJ1l39fsD"},{"type":"tableCell","position":{"start":{"line":1693,"column":1},"end":{"line":1693,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":1693,"column":1},"end":{"line":1693,"column":1}},"key":"UV2dsSnSbY"}],"key":"GObxOo1df3"},{"type":"tableCell","position":{"start":{"line":1693,"column":1},"end":{"line":1693,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":1693,"column":1},"end":{"line":1693,"column":1}},"key":"CpNVKd5FqQ"}],"key":"pz5lVLjUJq"},{"type":"tableCell","position":{"start":{"line":1693,"column":1},"end":{"line":1693,"column":1}},"children":[{"type":"text","value":"O(1)*","position":{"start":{"line":1693,"column":1},"end":{"line":1693,"column":1}},"key":"fLmyJvqBuA"}],"key":"HJCk7Lv79Y"},{"type":"tableCell","position":{"start":{"line":1693,"column":1},"end":{"line":1693,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1693,"column":1},"end":{"line":1693,"column":1}},"key":"dKzPWEv0le"}],"key":"Ki9V9rMZ57"},{"type":"tableCell","position":{"start":{"line":1693,"column":1},"end":{"line":1693,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":1693,"column":1},"end":{"line":1693,"column":1}},"key":"Yb6QsypWC9"}],"key":"JW8o5rkHVr"}],"key":"SznGqkaLFj"},{"type":"tableRow","position":{"start":{"line":1694,"column":1},"end":{"line":1694,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1694,"column":1},"end":{"line":1694,"column":1}},"children":[{"type":"text","value":"Add to end","position":{"start":{"line":1694,"column":1},"end":{"line":1694,"column":1}},"key":"kYi5Zgi9sC"}],"key":"AtlCgyppkZ"},{"type":"tableCell","position":{"start":{"line":1694,"column":1},"end":{"line":1694,"column":1}},"children":[{"type":"text","value":"O(1)â€ ","position":{"start":{"line":1694,"column":1},"end":{"line":1694,"column":1}},"key":"io7YsPboNk"}],"key":"hg7RzvdivB"},{"type":"tableCell","position":{"start":{"line":1694,"column":1},"end":{"line":1694,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1694,"column":1},"end":{"line":1694,"column":1}},"key":"wTzNyjjiSY"}],"key":"lzPayH3PBV"},{"type":"tableCell","position":{"start":{"line":1694,"column":1},"end":{"line":1694,"column":1}},"children":[{"type":"text","value":"O(1)â€ ","position":{"start":{"line":1694,"column":1},"end":{"line":1694,"column":1}},"key":"auu5aIhPq3"}],"key":"OT2Oiw9S1l"},{"type":"tableCell","position":{"start":{"line":1694,"column":1},"end":{"line":1694,"column":1}},"children":[{"type":"text","value":"O(1)â€ ","position":{"start":{"line":1694,"column":1},"end":{"line":1694,"column":1}},"key":"NfVztGWmOM"}],"key":"p80VrHvRZY"},{"type":"tableCell","position":{"start":{"line":1694,"column":1},"end":{"line":1694,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1694,"column":1},"end":{"line":1694,"column":1}},"key":"TdyuJJnSXy"}],"key":"haijD0zlhv"}],"key":"HvxOh3pjak"},{"type":"tableRow","position":{"start":{"line":1695,"column":1},"end":{"line":1695,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1695,"column":1},"end":{"line":1695,"column":1}},"children":[{"type":"text","value":"Add to beginning","position":{"start":{"line":1695,"column":1},"end":{"line":1695,"column":1}},"key":"WM5cn7o5vs"}],"key":"nEq6IIlbhE"},{"type":"tableCell","position":{"start":{"line":1695,"column":1},"end":{"line":1695,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":1695,"column":1},"end":{"line":1695,"column":1}},"key":"uqvPTGRycz"}],"key":"DIPzR11fuC"},{"type":"tableCell","position":{"start":{"line":1695,"column":1},"end":{"line":1695,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1695,"column":1},"end":{"line":1695,"column":1}},"key":"GvxkrOuCJP"}],"key":"RQuD9BxSCg"},{"type":"tableCell","position":{"start":{"line":1695,"column":1},"end":{"line":1695,"column":1}},"children":[{"type":"text","value":"O(1)â€ ","position":{"start":{"line":1695,"column":1},"end":{"line":1695,"column":1}},"key":"v83EmeiTuV"}],"key":"KRlEc3zWom"},{"type":"tableCell","position":{"start":{"line":1695,"column":1},"end":{"line":1695,"column":1}},"children":[{"type":"text","value":"O(1)â€ ","position":{"start":{"line":1695,"column":1},"end":{"line":1695,"column":1}},"key":"ZbamdkoQEb"}],"key":"J3TChRB1Pz"},{"type":"tableCell","position":{"start":{"line":1695,"column":1},"end":{"line":1695,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1695,"column":1},"end":{"line":1695,"column":1}},"key":"ZQHtzkUxL5"}],"key":"QAJcLWiHoy"}],"key":"Va4OvpWIaP"},{"type":"tableRow","position":{"start":{"line":1696,"column":1},"end":{"line":1696,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1696,"column":1},"end":{"line":1696,"column":1}},"children":[{"type":"text","value":"Remove from end","position":{"start":{"line":1696,"column":1},"end":{"line":1696,"column":1}},"key":"pRUWQhNyWB"}],"key":"x2YjTDQBlj"},{"type":"tableCell","position":{"start":{"line":1696,"column":1},"end":{"line":1696,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1696,"column":1},"end":{"line":1696,"column":1}},"key":"wGtSp68gCx"}],"key":"XCSU2UzkeK"},{"type":"tableCell","position":{"start":{"line":1696,"column":1},"end":{"line":1696,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1696,"column":1},"end":{"line":1696,"column":1}},"key":"xPvfUxZh07"}],"key":"QUZjThNgeI"},{"type":"tableCell","position":{"start":{"line":1696,"column":1},"end":{"line":1696,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1696,"column":1},"end":{"line":1696,"column":1}},"key":"OzoaekObAb"}],"key":"GrttXL1HrS"},{"type":"tableCell","position":{"start":{"line":1696,"column":1},"end":{"line":1696,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1696,"column":1},"end":{"line":1696,"column":1}},"key":"DA3QG7gtas"}],"key":"NrOgGlCH9G"},{"type":"tableCell","position":{"start":{"line":1696,"column":1},"end":{"line":1696,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1696,"column":1},"end":{"line":1696,"column":1}},"key":"b6SGMaw0ZR"}],"key":"g9lR4qcdmV"}],"key":"TuWJHvN2XK"},{"type":"tableRow","position":{"start":{"line":1697,"column":1},"end":{"line":1697,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1697,"column":1},"end":{"line":1697,"column":1}},"children":[{"type":"text","value":"Remove from beginning","position":{"start":{"line":1697,"column":1},"end":{"line":1697,"column":1}},"key":"PUR0MyoAIz"}],"key":"TAHyfiufbP"},{"type":"tableCell","position":{"start":{"line":1697,"column":1},"end":{"line":1697,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":1697,"column":1},"end":{"line":1697,"column":1}},"key":"gtHsiIz7GF"}],"key":"xA8IgC0dHh"},{"type":"tableCell","position":{"start":{"line":1697,"column":1},"end":{"line":1697,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1697,"column":1},"end":{"line":1697,"column":1}},"key":"FNyfnkRIVI"}],"key":"aOEzocXr5C"},{"type":"tableCell","position":{"start":{"line":1697,"column":1},"end":{"line":1697,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1697,"column":1},"end":{"line":1697,"column":1}},"key":"FhZZIoUIRd"}],"key":"Rg9FD9P1CZ"},{"type":"tableCell","position":{"start":{"line":1697,"column":1},"end":{"line":1697,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1697,"column":1},"end":{"line":1697,"column":1}},"key":"UXN1DWcgc0"}],"key":"frTuWMkqE8"},{"type":"tableCell","position":{"start":{"line":1697,"column":1},"end":{"line":1697,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1697,"column":1},"end":{"line":1697,"column":1}},"key":"irzT3cCivg"}],"key":"tg1ZNV6acf"}],"key":"WIZ7RgGIV3"},{"type":"tableRow","position":{"start":{"line":1698,"column":1},"end":{"line":1698,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1698,"column":1},"end":{"line":1698,"column":1}},"children":[{"type":"text","value":"Remove specific","position":{"start":{"line":1698,"column":1},"end":{"line":1698,"column":1}},"key":"WslCrChL2J"}],"key":"H2isxcLNHa"},{"type":"tableCell","position":{"start":{"line":1698,"column":1},"end":{"line":1698,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":1698,"column":1},"end":{"line":1698,"column":1}},"key":"OnenURSgqk"}],"key":"uRXx6g0g6a"},{"type":"tableCell","position":{"start":{"line":1698,"column":1},"end":{"line":1698,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1698,"column":1},"end":{"line":1698,"column":1}},"key":"CqOZDJDSlp"}],"key":"sHfLA2jll1"},{"type":"tableCell","position":{"start":{"line":1698,"column":1},"end":{"line":1698,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1698,"column":1},"end":{"line":1698,"column":1}},"key":"ZJz11Csz9e"}],"key":"apsy82bDyv"},{"type":"tableCell","position":{"start":{"line":1698,"column":1},"end":{"line":1698,"column":1}},"children":[{"type":"text","value":"O(1)","position":{"start":{"line":1698,"column":1},"end":{"line":1698,"column":1}},"key":"lmSsG5snfD"}],"key":"Iw5rFN34Oe"},{"type":"tableCell","position":{"start":{"line":1698,"column":1},"end":{"line":1698,"column":1}},"children":[{"type":"text","value":"O(n)","position":{"start":{"line":1698,"column":1},"end":{"line":1698,"column":1}},"key":"Dd8VyYdWx8"}],"key":"jZOMmH917U"}],"key":"R0P3tyeXXI"}],"key":"b1oe2ChpPT"},{"type":"paragraph","position":{"start":{"line":1700,"column":1},"end":{"line":1701,"column":1}},"children":[{"type":"text","value":"* Dict searches by key, not value","position":{"start":{"line":1700,"column":1},"end":{"line":1700,"column":1}},"key":"fYQJxOljHJ"},{"type":"break","position":{"start":{"line":1700,"column":1},"end":{"line":1700,"column":1}},"key":"Um1bRJ1K5f"},{"type":"text","value":"â€  Amortized - occasionally O(n) during resize","position":{"start":{"line":1700,"column":1},"end":{"line":1700,"column":1}},"key":"xkj0vT39be"}],"key":"S4ggKAlo16"},{"type":"heading","depth":2,"position":{"start":{"line":1703,"column":1},"end":{"line":1703,"column":1}},"children":[{"type":"text","value":"Quick Reference Tables","position":{"start":{"line":1703,"column":1},"end":{"line":1703,"column":1}},"key":"sPweRsMZrn"}],"identifier":"quick-reference-tables","label":"Quick Reference Tables","html_id":"quick-reference-tables","implicit":true,"key":"N1U6kRjDQp"},{"type":"heading","depth":3,"position":{"start":{"line":1705,"column":1},"end":{"line":1705,"column":1}},"children":[{"type":"text","value":"Data Structure Operations","position":{"start":{"line":1705,"column":1},"end":{"line":1705,"column":1}},"key":"MbN8p83Gmm"}],"identifier":"data-structure-operations","label":"Data Structure Operations","html_id":"data-structure-operations","implicit":true,"key":"vP1rWP2Auy"},{"type":"table","position":{"start":{"line":1707,"column":1},"end":{"line":1714,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1707,"column":1},"end":{"line":1707,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1707,"column":1},"end":{"line":1707,"column":1}},"children":[{"type":"text","value":"Operation","position":{"start":{"line":1707,"column":1},"end":{"line":1707,"column":1}},"key":"g9mhspccsp"}],"key":"DQ5ZWFl0w0"},{"type":"tableCell","header":true,"position":{"start":{"line":1707,"column":1},"end":{"line":1707,"column":1}},"children":[{"type":"text","value":"List","position":{"start":{"line":1707,"column":1},"end":{"line":1707,"column":1}},"key":"KJvZrNlfYJ"}],"key":"gm8F6qOgR0"},{"type":"tableCell","header":true,"position":{"start":{"line":1707,"column":1},"end":{"line":1707,"column":1}},"children":[{"type":"text","value":"Tuple","position":{"start":{"line":1707,"column":1},"end":{"line":1707,"column":1}},"key":"hrLlLVEgFO"}],"key":"fF4uRUjL8P"},{"type":"tableCell","header":true,"position":{"start":{"line":1707,"column":1},"end":{"line":1707,"column":1}},"children":[{"type":"text","value":"Dict","position":{"start":{"line":1707,"column":1},"end":{"line":1707,"column":1}},"key":"s6kW8py24i"}],"key":"Gohvk2TAlM"},{"type":"tableCell","header":true,"position":{"start":{"line":1707,"column":1},"end":{"line":1707,"column":1}},"children":[{"type":"text","value":"Set","position":{"start":{"line":1707,"column":1},"end":{"line":1707,"column":1}},"key":"OlkAxMJ1HB"}],"key":"TKlOHJ7PUF"}],"key":"dfHVOtyDmi"},{"type":"tableRow","position":{"start":{"line":1709,"column":1},"end":{"line":1709,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1709,"column":1},"end":{"line":1709,"column":1}},"children":[{"type":"text","value":"Create empty","position":{"start":{"line":1709,"column":1},"end":{"line":1709,"column":1}},"key":"pPH0uPqKF4"}],"key":"J8xFEQNcWx"},{"type":"tableCell","position":{"start":{"line":1709,"column":1},"end":{"line":1709,"column":1}},"children":[{"type":"inlineCode","value":"[]","position":{"start":{"line":1709,"column":1},"end":{"line":1709,"column":1}},"key":"B6J1qr41m6"}],"key":"t7gYggXhPX"},{"type":"tableCell","position":{"start":{"line":1709,"column":1},"end":{"line":1709,"column":1}},"children":[{"type":"inlineCode","value":"()","position":{"start":{"line":1709,"column":1},"end":{"line":1709,"column":1}},"key":"TmgHUlsZs6"}],"key":"Z0fyn73t6a"},{"type":"tableCell","position":{"start":{"line":1709,"column":1},"end":{"line":1709,"column":1}},"children":[{"type":"inlineCode","value":"{}","position":{"start":{"line":1709,"column":1},"end":{"line":1709,"column":1}},"key":"Qww1RrxlmW"}],"key":"JMnkvFQXAA"},{"type":"tableCell","position":{"start":{"line":1709,"column":1},"end":{"line":1709,"column":1}},"children":[{"type":"inlineCode","value":"set()","position":{"start":{"line":1709,"column":1},"end":{"line":1709,"column":1}},"key":"uDtugwuI3l"}],"key":"aKptsSgh5T"}],"key":"QozVcTEzGW"},{"type":"tableRow","position":{"start":{"line":1710,"column":1},"end":{"line":1710,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1710,"column":1},"end":{"line":1710,"column":1}},"children":[{"type":"text","value":"Create with items","position":{"start":{"line":1710,"column":1},"end":{"line":1710,"column":1}},"key":"IByqZDSCXG"}],"key":"UraD1lq8le"},{"type":"tableCell","position":{"start":{"line":1710,"column":1},"end":{"line":1710,"column":1}},"children":[{"type":"inlineCode","value":"[1,2,3]","position":{"start":{"line":1710,"column":1},"end":{"line":1710,"column":1}},"key":"S2eQJIzJhI"}],"key":"myeH1qVOGA"},{"type":"tableCell","position":{"start":{"line":1710,"column":1},"end":{"line":1710,"column":1}},"children":[{"type":"inlineCode","value":"(1,2,3)","position":{"start":{"line":1710,"column":1},"end":{"line":1710,"column":1}},"key":"q3fRQFN0Nu"}],"key":"tq2ibQReza"},{"type":"tableCell","position":{"start":{"line":1710,"column":1},"end":{"line":1710,"column":1}},"children":[{"type":"inlineCode","value":"{'a':1}","position":{"start":{"line":1710,"column":1},"end":{"line":1710,"column":1}},"key":"J9B5wZURRW"}],"key":"ih5WhaSlKY"},{"type":"tableCell","position":{"start":{"line":1710,"column":1},"end":{"line":1710,"column":1}},"children":[{"type":"inlineCode","value":"{1,2,3}","position":{"start":{"line":1710,"column":1},"end":{"line":1710,"column":1}},"key":"sYH7abJSNq"}],"key":"IVO92N1giU"}],"key":"jBx0S6d93D"},{"type":"tableRow","position":{"start":{"line":1711,"column":1},"end":{"line":1711,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1711,"column":1},"end":{"line":1711,"column":1}},"children":[{"type":"text","value":"Add item","position":{"start":{"line":1711,"column":1},"end":{"line":1711,"column":1}},"key":"GzIhkJIXyn"}],"key":"LxoA4KOxEt"},{"type":"tableCell","position":{"start":{"line":1711,"column":1},"end":{"line":1711,"column":1}},"children":[{"type":"inlineCode","value":".append(x)","position":{"start":{"line":1711,"column":1},"end":{"line":1711,"column":1}},"key":"MfQgkkKDso"}],"key":"YUkXv3V1to"},{"type":"tableCell","position":{"start":{"line":1711,"column":1},"end":{"line":1711,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1711,"column":1},"end":{"line":1711,"column":1}},"key":"YITRRSo5pT"}],"key":"TIvV384SOG"},{"type":"tableCell","position":{"start":{"line":1711,"column":1},"end":{"line":1711,"column":1}},"children":[{"type":"inlineCode","value":"d[k]=v","position":{"start":{"line":1711,"column":1},"end":{"line":1711,"column":1}},"key":"z7KpkNdURI"}],"key":"TFPEBMi1Ge"},{"type":"tableCell","position":{"start":{"line":1711,"column":1},"end":{"line":1711,"column":1}},"children":[{"type":"inlineCode","value":".add(x)","position":{"start":{"line":1711,"column":1},"end":{"line":1711,"column":1}},"key":"fhuBFm7xJ2"}],"key":"KtzfDKhsUV"}],"key":"loHlXT50oJ"},{"type":"tableRow","position":{"start":{"line":1712,"column":1},"end":{"line":1712,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1712,"column":1},"end":{"line":1712,"column":1}},"children":[{"type":"text","value":"Remove item","position":{"start":{"line":1712,"column":1},"end":{"line":1712,"column":1}},"key":"nmtEMXwScV"}],"key":"hDLEInw2FC"},{"type":"tableCell","position":{"start":{"line":1712,"column":1},"end":{"line":1712,"column":1}},"children":[{"type":"inlineCode","value":".remove(x)","position":{"start":{"line":1712,"column":1},"end":{"line":1712,"column":1}},"key":"yxJExjYcIZ"}],"key":"b9UeA3zUmb"},{"type":"tableCell","position":{"start":{"line":1712,"column":1},"end":{"line":1712,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1712,"column":1},"end":{"line":1712,"column":1}},"key":"EjiSE4CfUk"}],"key":"QFd8eoGTUG"},{"type":"tableCell","position":{"start":{"line":1712,"column":1},"end":{"line":1712,"column":1}},"children":[{"type":"inlineCode","value":"del d[k]","position":{"start":{"line":1712,"column":1},"end":{"line":1712,"column":1}},"key":"pxXxhE0Xf2"}],"key":"BDHD6WUBPa"},{"type":"tableCell","position":{"start":{"line":1712,"column":1},"end":{"line":1712,"column":1}},"children":[{"type":"inlineCode","value":".remove(x)","position":{"start":{"line":1712,"column":1},"end":{"line":1712,"column":1}},"key":"FiNseQ11VV"}],"key":"PdFpPSBPgG"}],"key":"DQYVj1yzp8"},{"type":"tableRow","position":{"start":{"line":1713,"column":1},"end":{"line":1713,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1713,"column":1},"end":{"line":1713,"column":1}},"children":[{"type":"text","value":"Check membership","position":{"start":{"line":1713,"column":1},"end":{"line":1713,"column":1}},"key":"nl5JtrcVse"}],"key":"pUnvWBYCQ3"},{"type":"tableCell","position":{"start":{"line":1713,"column":1},"end":{"line":1713,"column":1}},"children":[{"type":"inlineCode","value":"x in list","position":{"start":{"line":1713,"column":1},"end":{"line":1713,"column":1}},"key":"bSH7RXNQ4S"}],"key":"cHl171iOHD"},{"type":"tableCell","position":{"start":{"line":1713,"column":1},"end":{"line":1713,"column":1}},"children":[{"type":"inlineCode","value":"x in tuple","position":{"start":{"line":1713,"column":1},"end":{"line":1713,"column":1}},"key":"vINX1wHIml"}],"key":"lCnC2bPCix"},{"type":"tableCell","position":{"start":{"line":1713,"column":1},"end":{"line":1713,"column":1}},"children":[{"type":"inlineCode","value":"k in dict","position":{"start":{"line":1713,"column":1},"end":{"line":1713,"column":1}},"key":"jnQauEltTF"}],"key":"HMSrTPhwHK"},{"type":"tableCell","position":{"start":{"line":1713,"column":1},"end":{"line":1713,"column":1}},"children":[{"type":"inlineCode","value":"x in set","position":{"start":{"line":1713,"column":1},"end":{"line":1713,"column":1}},"key":"KCCGxjLEp4"}],"key":"A00YRdVSET"}],"key":"eaz1bdYADl"},{"type":"tableRow","position":{"start":{"line":1714,"column":1},"end":{"line":1714,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1714,"column":1},"end":{"line":1714,"column":1}},"children":[{"type":"text","value":"Get by index","position":{"start":{"line":1714,"column":1},"end":{"line":1714,"column":1}},"key":"UJFVvfU1yj"}],"key":"AmPR4vlBBo"},{"type":"tableCell","position":{"start":{"line":1714,"column":1},"end":{"line":1714,"column":1}},"children":[{"type":"inlineCode","value":"list[i]","position":{"start":{"line":1714,"column":1},"end":{"line":1714,"column":1}},"key":"mvfhUJTAsA"}],"key":"KVDhltB9Gn"},{"type":"tableCell","position":{"start":{"line":1714,"column":1},"end":{"line":1714,"column":1}},"children":[{"type":"inlineCode","value":"tuple[i]","position":{"start":{"line":1714,"column":1},"end":{"line":1714,"column":1}},"key":"Y1Z4n0rYpY"}],"key":"l9aUAeQCyD"},{"type":"tableCell","position":{"start":{"line":1714,"column":1},"end":{"line":1714,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1714,"column":1},"end":{"line":1714,"column":1}},"key":"qLnBp9JhdC"}],"key":"jjJOFuoEUm"},{"type":"tableCell","position":{"start":{"line":1714,"column":1},"end":{"line":1714,"column":1}},"children":[{"type":"text","value":"N/A","position":{"start":{"line":1714,"column":1},"end":{"line":1714,"column":1}},"key":"emoZWVqxoi"}],"key":"AIlMHRtSBG"}],"key":"bzbptI3PbY"}],"key":"T6dW2AU6sk"},{"type":"heading","depth":3,"position":{"start":{"line":1716,"column":1},"end":{"line":1716,"column":1}},"children":[{"type":"text","value":"Common Methods for Physics","position":{"start":{"line":1716,"column":1},"end":{"line":1716,"column":1}},"key":"DwnUcSioFo"}],"identifier":"common-methods-for-physics","label":"Common Methods for Physics","html_id":"common-methods-for-physics","implicit":true,"key":"FJi8QUs9w5"},{"type":"table","position":{"start":{"line":1718,"column":1},"end":{"line":1726,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1718,"column":1},"end":{"line":1718,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1718,"column":1},"end":{"line":1718,"column":1}},"children":[{"type":"text","value":"Structure","position":{"start":{"line":1718,"column":1},"end":{"line":1718,"column":1}},"key":"e86N5INT1N"}],"key":"gKWOYnr2FE"},{"type":"tableCell","header":true,"position":{"start":{"line":1718,"column":1},"end":{"line":1718,"column":1}},"children":[{"type":"text","value":"Method","position":{"start":{"line":1718,"column":1},"end":{"line":1718,"column":1}},"key":"YITyQsCLCw"}],"key":"fWXWG8FbgI"},{"type":"tableCell","header":true,"position":{"start":{"line":1718,"column":1},"end":{"line":1718,"column":1}},"children":[{"type":"text","value":"Physics Use Case","position":{"start":{"line":1718,"column":1},"end":{"line":1718,"column":1}},"key":"ItykPkFAvO"}],"key":"jPSK3mnNJg"}],"key":"Q5TnuUQyEX"},{"type":"tableRow","position":{"start":{"line":1720,"column":1},"end":{"line":1720,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1720,"column":1},"end":{"line":1720,"column":1}},"children":[{"type":"text","value":"list","position":{"start":{"line":1720,"column":1},"end":{"line":1720,"column":1}},"key":"pOGHn6dgm9"}],"key":"v1OZXCMoFh"},{"type":"tableCell","position":{"start":{"line":1720,"column":1},"end":{"line":1720,"column":1}},"children":[{"type":"inlineCode","value":".append(x)","position":{"start":{"line":1720,"column":1},"end":{"line":1720,"column":1}},"key":"UG8z6VtHso"}],"key":"l4dMZRmwuD"},{"type":"tableCell","position":{"start":{"line":1720,"column":1},"end":{"line":1720,"column":1}},"children":[{"type":"text","value":"Add new particle","position":{"start":{"line":1720,"column":1},"end":{"line":1720,"column":1}},"key":"rzAdD2MPbC"}],"key":"AAwA16KXpo"}],"key":"tmg8yX5Vz5"},{"type":"tableRow","position":{"start":{"line":1721,"column":1},"end":{"line":1721,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1721,"column":1},"end":{"line":1721,"column":1}},"children":[{"type":"text","value":"list","position":{"start":{"line":1721,"column":1},"end":{"line":1721,"column":1}},"key":"Z4zztDTSh5"}],"key":"uNoSBMGfEZ"},{"type":"tableCell","position":{"start":{"line":1721,"column":1},"end":{"line":1721,"column":1}},"children":[{"type":"inlineCode","value":".extend(iter)","position":{"start":{"line":1721,"column":1},"end":{"line":1721,"column":1}},"key":"yVp2cGLFUD"}],"key":"WjkpLBezJw"},{"type":"tableCell","position":{"start":{"line":1721,"column":1},"end":{"line":1721,"column":1}},"children":[{"type":"text","value":"Merge particle lists","position":{"start":{"line":1721,"column":1},"end":{"line":1721,"column":1}},"key":"GCbPfbAFdL"}],"key":"cBM3rVAfI3"}],"key":"fdxXaLVBsd"},{"type":"tableRow","position":{"start":{"line":1722,"column":1},"end":{"line":1722,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1722,"column":1},"end":{"line":1722,"column":1}},"children":[{"type":"text","value":"dict","position":{"start":{"line":1722,"column":1},"end":{"line":1722,"column":1}},"key":"pem0OEMFoR"}],"key":"VLN3w15p1U"},{"type":"tableCell","position":{"start":{"line":1722,"column":1},"end":{"line":1722,"column":1}},"children":[{"type":"inlineCode","value":".get(k, default)","position":{"start":{"line":1722,"column":1},"end":{"line":1722,"column":1}},"key":"CUPf19OP1y"}],"key":"mx7IoWRaXL"},{"type":"tableCell","position":{"start":{"line":1722,"column":1},"end":{"line":1722,"column":1}},"children":[{"type":"text","value":"Safe parameter lookup","position":{"start":{"line":1722,"column":1},"end":{"line":1722,"column":1}},"key":"o4dwH4EwqQ"}],"key":"qxGg099iMR"}],"key":"alFeppW5AA"},{"type":"tableRow","position":{"start":{"line":1723,"column":1},"end":{"line":1723,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1723,"column":1},"end":{"line":1723,"column":1}},"children":[{"type":"text","value":"dict","position":{"start":{"line":1723,"column":1},"end":{"line":1723,"column":1}},"key":"CDhGX7EyWn"}],"key":"ey8YI37MHU"},{"type":"tableCell","position":{"start":{"line":1723,"column":1},"end":{"line":1723,"column":1}},"children":[{"type":"inlineCode","value":"@lru_cache","position":{"start":{"line":1723,"column":1},"end":{"line":1723,"column":1}},"key":"OejnmLWRwO"}],"key":"R9hqwaGuwL"},{"type":"tableCell","position":{"start":{"line":1723,"column":1},"end":{"line":1723,"column":1}},"children":[{"type":"text","value":"Automatic memoization","position":{"start":{"line":1723,"column":1},"end":{"line":1723,"column":1}},"key":"VDCWPRpr5w"}],"key":"fla0i77hBc"}],"key":"TzYGkLLA1H"},{"type":"tableRow","position":{"start":{"line":1724,"column":1},"end":{"line":1724,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1724,"column":1},"end":{"line":1724,"column":1}},"children":[{"type":"text","value":"set","position":{"start":{"line":1724,"column":1},"end":{"line":1724,"column":1}},"key":"YKZdlqIUQj"}],"key":"gDWlbQDROB"},{"type":"tableCell","position":{"start":{"line":1724,"column":1},"end":{"line":1724,"column":1}},"children":[{"type":"inlineCode","value":".union(other)","position":{"start":{"line":1724,"column":1},"end":{"line":1724,"column":1}},"key":"Wh0pzeRCWx"}],"key":"OYmiI0YXBm"},{"type":"tableCell","position":{"start":{"line":1724,"column":1},"end":{"line":1724,"column":1}},"children":[{"type":"text","value":"Combine particle domains","position":{"start":{"line":1724,"column":1},"end":{"line":1724,"column":1}},"key":"wjYvHbfyog"}],"key":"pHEaNPpwmz"}],"key":"Sqba9v6cwn"},{"type":"tableRow","position":{"start":{"line":1725,"column":1},"end":{"line":1725,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1725,"column":1},"end":{"line":1725,"column":1}},"children":[{"type":"text","value":"set","position":{"start":{"line":1725,"column":1},"end":{"line":1725,"column":1}},"key":"r1O8nG9Efd"}],"key":"edfPgqmTQ8"},{"type":"tableCell","position":{"start":{"line":1725,"column":1},"end":{"line":1725,"column":1}},"children":[{"type":"inlineCode","value":".intersection(other)","position":{"start":{"line":1725,"column":1},"end":{"line":1725,"column":1}},"key":"RIqL5rDZNM"}],"key":"CWzlAXxusE"},{"type":"tableCell","position":{"start":{"line":1725,"column":1},"end":{"line":1725,"column":1}},"children":[{"type":"text","value":"Find boundary particles","position":{"start":{"line":1725,"column":1},"end":{"line":1725,"column":1}},"key":"XKmWFhDdXS"}],"key":"TSaLLsPeSH"}],"key":"Z1hoUP6J02"},{"type":"tableRow","position":{"start":{"line":1726,"column":1},"end":{"line":1726,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1726,"column":1},"end":{"line":1726,"column":1}},"children":[{"type":"text","value":"deque","position":{"start":{"line":1726,"column":1},"end":{"line":1726,"column":1}},"key":"BChzsW9vtO"}],"key":"MvwdKnghBs"},{"type":"tableCell","position":{"start":{"line":1726,"column":1},"end":{"line":1726,"column":1}},"children":[{"type":"inlineCode","value":".appendleft()","position":{"start":{"line":1726,"column":1},"end":{"line":1726,"column":1}},"key":"ODCPJg71O7"}],"key":"gBtS4asGNt"},{"type":"tableCell","position":{"start":{"line":1726,"column":1},"end":{"line":1726,"column":1}},"children":[{"type":"text","value":"Boundary conditions","position":{"start":{"line":1726,"column":1},"end":{"line":1726,"column":1}},"key":"e1KKAu0Eym"}],"key":"BglDwhofAY"}],"key":"BNiT1Juurm"}],"key":"oDPjTRQ8pu"},{"type":"heading","depth":3,"position":{"start":{"line":1728,"column":1},"end":{"line":1728,"column":1}},"children":[{"type":"text","value":"When to Use Each Structure","position":{"start":{"line":1728,"column":1},"end":{"line":1728,"column":1}},"key":"d7unUkk0HU"}],"identifier":"when-to-use-each-structure","label":"When to Use Each Structure","html_id":"when-to-use-each-structure","implicit":true,"key":"ty2kya0I93"},{"type":"table","position":{"start":{"line":1730,"column":1},"end":{"line":1739,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1730,"column":1},"end":{"line":1730,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1730,"column":1},"end":{"line":1730,"column":1}},"children":[{"type":"text","value":"Physics Task","position":{"start":{"line":1730,"column":1},"end":{"line":1730,"column":1}},"key":"iALvMaw5Ca"}],"key":"vdAiLCJ2VT"},{"type":"tableCell","header":true,"position":{"start":{"line":1730,"column":1},"end":{"line":1730,"column":1}},"children":[{"type":"text","value":"Best Choice","position":{"start":{"line":1730,"column":1},"end":{"line":1730,"column":1}},"key":"EWn5hc9v4Q"}],"key":"hUrS5Cr54Z"},{"type":"tableCell","header":true,"position":{"start":{"line":1730,"column":1},"end":{"line":1730,"column":1}},"children":[{"type":"text","value":"Why","position":{"start":{"line":1730,"column":1},"end":{"line":1730,"column":1}},"key":"KfnaLGLqjf"}],"key":"iCdRieU5f1"}],"key":"XIYSoSNNc4"},{"type":"tableRow","position":{"start":{"line":1732,"column":1},"end":{"line":1732,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1732,"column":1},"end":{"line":1732,"column":1}},"children":[{"type":"text","value":"Particle positions","position":{"start":{"line":1732,"column":1},"end":{"line":1732,"column":1}},"key":"XnRim1P3eQ"}],"key":"MW9PQ5uzZn"},{"type":"tableCell","position":{"start":{"line":1732,"column":1},"end":{"line":1732,"column":1}},"children":[{"type":"text","value":"List â†’ NumPy array","position":{"start":{"line":1732,"column":1},"end":{"line":1732,"column":1}},"key":"I4zfgHdRp4"}],"key":"eNWDcuRWqG"},{"type":"tableCell","position":{"start":{"line":1732,"column":1},"end":{"line":1732,"column":1}},"children":[{"type":"text","value":"Vectorizable operations","position":{"start":{"line":1732,"column":1},"end":{"line":1732,"column":1}},"key":"BuzoJK1b23"}],"key":"djvJDT6wlP"}],"key":"mYM8gd3Sfd"},{"type":"tableRow","position":{"start":{"line":1733,"column":1},"end":{"line":1733,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1733,"column":1},"end":{"line":1733,"column":1}},"children":[{"type":"text","value":"Particle lookup by ID","position":{"start":{"line":1733,"column":1},"end":{"line":1733,"column":1}},"key":"ueKh0LnIxw"}],"key":"U19WpXm0be"},{"type":"tableCell","position":{"start":{"line":1733,"column":1},"end":{"line":1733,"column":1}},"children":[{"type":"text","value":"Dictionary","position":{"start":{"line":1733,"column":1},"end":{"line":1733,"column":1}},"key":"M1UE0M99hS"}],"key":"wTENjWdjul"},{"type":"tableCell","position":{"start":{"line":1733,"column":1},"end":{"line":1733,"column":1}},"children":[{"type":"text","value":"O(1) access","position":{"start":{"line":1733,"column":1},"end":{"line":1733,"column":1}},"key":"MNDx2p679a"}],"key":"tdrpzotOhL"}],"key":"Xt04Z0kf5r"},{"type":"tableRow","position":{"start":{"line":1734,"column":1},"end":{"line":1734,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1734,"column":1},"end":{"line":1734,"column":1}},"children":[{"type":"text","value":"Active particles","position":{"start":{"line":1734,"column":1},"end":{"line":1734,"column":1}},"key":"kyWbpUHCqo"}],"key":"C3SCx7SVIx"},{"type":"tableCell","position":{"start":{"line":1734,"column":1},"end":{"line":1734,"column":1}},"children":[{"type":"text","value":"Set","position":{"start":{"line":1734,"column":1},"end":{"line":1734,"column":1}},"key":"VyEckH9jlY"}],"key":"JMH1sgLCSa"},{"type":"tableCell","position":{"start":{"line":1734,"column":1},"end":{"line":1734,"column":1}},"children":[{"type":"text","value":"Fast membership, uniqueness","position":{"start":{"line":1734,"column":1},"end":{"line":1734,"column":1}},"key":"E9uPUAzbFg"}],"key":"ZHMvcGTIsz"}],"key":"LkrAd76OnO"},{"type":"tableRow","position":{"start":{"line":1735,"column":1},"end":{"line":1735,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1735,"column":1},"end":{"line":1735,"column":1}},"children":[{"type":"text","value":"Physical constants","position":{"start":{"line":1735,"column":1},"end":{"line":1735,"column":1}},"key":"Q7IIyckdiS"}],"key":"UkBTX9IPqx"},{"type":"tableCell","position":{"start":{"line":1735,"column":1},"end":{"line":1735,"column":1}},"children":[{"type":"text","value":"Tuple/NamedTuple","position":{"start":{"line":1735,"column":1},"end":{"line":1735,"column":1}},"key":"VlRoU0hWZ1"}],"key":"TEUMSNnFVq"},{"type":"tableCell","position":{"start":{"line":1735,"column":1},"end":{"line":1735,"column":1}},"children":[{"type":"text","value":"Immutable, safe","position":{"start":{"line":1735,"column":1},"end":{"line":1735,"column":1}},"key":"RMLTo0zzca"}],"key":"kJG535Gkt3"}],"key":"cZ35QyH2EO"},{"type":"tableRow","position":{"start":{"line":1736,"column":1},"end":{"line":1736,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1736,"column":1},"end":{"line":1736,"column":1}},"children":[{"type":"text","value":"EOS cache","position":{"start":{"line":1736,"column":1},"end":{"line":1736,"column":1}},"key":"AA94MUCIld"}],"key":"bOl8pQpD99"},{"type":"tableCell","position":{"start":{"line":1736,"column":1},"end":{"line":1736,"column":1}},"children":[{"type":"text","value":"Dictionary","position":{"start":{"line":1736,"column":1},"end":{"line":1736,"column":1}},"key":"sVwkMI914w"}],"key":"jsPo9hZYjT"},{"type":"tableCell","position":{"start":{"line":1736,"column":1},"end":{"line":1736,"column":1}},"children":[{"type":"text","value":"Fast lookup by (T,Ï)","position":{"start":{"line":1736,"column":1},"end":{"line":1736,"column":1}},"key":"TGBET4eItv"}],"key":"zFNKQTQB9d"}],"key":"rk0OsHvGpb"},{"type":"tableRow","position":{"start":{"line":1737,"column":1},"end":{"line":1737,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1737,"column":1},"end":{"line":1737,"column":1}},"children":[{"type":"text","value":"Collision candidates","position":{"start":{"line":1737,"column":1},"end":{"line":1737,"column":1}},"key":"Wr9E0NxXVI"}],"key":"d4pe2sHPOD"},{"type":"tableCell","position":{"start":{"line":1737,"column":1},"end":{"line":1737,"column":1}},"children":[{"type":"text","value":"Set","position":{"start":{"line":1737,"column":1},"end":{"line":1737,"column":1}},"key":"i4u4twwV4B"}],"key":"XQ3eH8mLnz"},{"type":"tableCell","position":{"start":{"line":1737,"column":1},"end":{"line":1737,"column":1}},"children":[{"type":"text","value":"No duplicates, set operations","position":{"start":{"line":1737,"column":1},"end":{"line":1737,"column":1}},"key":"ggy6mapX0E"}],"key":"jcmazYsFxi"}],"key":"WPdBRnEqo0"},{"type":"tableRow","position":{"start":{"line":1738,"column":1},"end":{"line":1738,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1738,"column":1},"end":{"line":1738,"column":1}},"children":[{"type":"text","value":"Time series","position":{"start":{"line":1738,"column":1},"end":{"line":1738,"column":1}},"key":"zuypCyeBUv"}],"key":"bSHZUwfNiI"},{"type":"tableCell","position":{"start":{"line":1738,"column":1},"end":{"line":1738,"column":1}},"children":[{"type":"text","value":"List","position":{"start":{"line":1738,"column":1},"end":{"line":1738,"column":1}},"key":"eO5UXJLtxI"}],"key":"dfj0Sxxj1s"},{"type":"tableCell","position":{"start":{"line":1738,"column":1},"end":{"line":1738,"column":1}},"children":[{"type":"text","value":"Ordered, allows duplicates","position":{"start":{"line":1738,"column":1},"end":{"line":1738,"column":1}},"key":"KAtSqxSAQ0"}],"key":"saddoZeyIP"}],"key":"iD16EwRBBM"},{"type":"tableRow","position":{"start":{"line":1739,"column":1},"end":{"line":1739,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1739,"column":1},"end":{"line":1739,"column":1}},"children":[{"type":"text","value":"Spatial grid","position":{"start":{"line":1739,"column":1},"end":{"line":1739,"column":1}},"key":"UWTUNJ5Sne"}],"key":"QVXLpe9myu"},{"type":"tableCell","position":{"start":{"line":1739,"column":1},"end":{"line":1739,"column":1}},"children":[{"type":"text","value":"Dict of sets","position":{"start":{"line":1739,"column":1},"end":{"line":1739,"column":1}},"key":"MBnhqsPr4F"}],"key":"BR8jA2hn4H"},{"type":"tableCell","position":{"start":{"line":1739,"column":1},"end":{"line":1739,"column":1}},"children":[{"type":"text","value":"O(1) cell access","position":{"start":{"line":1739,"column":1},"end":{"line":1739,"column":1}},"key":"V4fRqgLahs"}],"key":"IZcrdb3Mru"}],"key":"FcV1lI7gL6"}],"key":"Sg1obgYerK"},{"type":"heading","depth":2,"position":{"start":{"line":1741,"column":1},"end":{"line":1741,"column":1}},"children":[{"type":"text","value":"Next Chapter Preview","position":{"start":{"line":1741,"column":1},"end":{"line":1741,"column":1}},"key":"lP2DfxqqHy"}],"identifier":"next-chapter-preview","label":"Next Chapter Preview","html_id":"next-chapter-preview","implicit":true,"key":"ULtIPuLsm0"},{"type":"paragraph","position":{"start":{"line":1743,"column":1},"end":{"line":1743,"column":1}},"children":[{"type":"text","value":"With data structures mastered, Chapter 5 will explore functions and modulesâ€”how to organize code for reusability, testing, and collaboration. Youâ€™ll learn how Pythonâ€™s function model, with first-class functions and closure support, enables powerful patterns like decorators and functional programming techniques. These concepts prepare you for building modular physics engines, creating reusable analysis pipelines, and understanding the functional programming paradigm used in modern frameworks like JAX where functions transform into automatically differentiable computational graphs. Get ready to transform your scripts into professional-quality scientific libraries!","position":{"start":{"line":1743,"column":1},"end":{"line":1743,"column":1}},"key":"xjBtdNeaVr"}],"key":"pkrqq9i6ki"}],"key":"EVMQqzmk6m"}],"key":"aEpeNJ1aNH"},"references":{"cite":{"order":[],"data":{}}}}