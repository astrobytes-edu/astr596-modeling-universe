<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Chapter 7: NumPy - The Foundation of Scientific Computing - ASTR 596: Modeling the Universe</title><meta property="og:title" content="Chapter 7: NumPy - The Foundation of Scientific Computing - ASTR 596: Modeling the Universe"/><meta name="generator" content="mystmd"/><meta name="description" content="Graduate-level computational astrophysics course emphasizing glass-box modeling and modern computational frameworks"/><meta property="og:description" content="Graduate-level computational astrophysics course emphasizing glass-box modeling and modern computational frameworks"/><meta name="keywords" content="computational astrophysics, python, numerical methods, machine learning, monte carlo, neural networks, radiative transfer, bayesian inference, JAX"/><link rel="stylesheet" href="/build/_assets/app-5WKS5EPQ.css"/><link rel="stylesheet" href="/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">✨ASTR 596✨</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R74op:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="w-full px-1 dark:text-white"><a title="ASTR 596: Modeling the Universe" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/">ASTR 596: Modeling the Universe</a><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Course Info" class="block break-words rounded py-2 grow cursor-pointer">Course Info</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmp8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rmp8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Getting Started" class="block break-words rounded py-2 grow cursor-pointer">Getting Started</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rup8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rup8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="open" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Python" class="block break-words rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200 cursor-pointer">Python</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16p8p:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:R16p8p:" class="pl-3 pr-[2px] collapsible-content"><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Python Fundamentals" class="block break-words rounded py-2 grow cursor-pointer">Python Fundamentals</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1l6p8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1l6p8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="open" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Scientific Computing Core" class="block break-words rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200 cursor-pointer">Scientific Computing Core</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2l6p8p:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:R2l6p8p:" class="pl-3 pr-[2px] collapsible-content"><a title="Chapter 7: NumPy - The Foundation of Scientific Computing" aria-current="page" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg bg-blue-300/30 active" href="/python-numpy-scientific-orig">Chapter 7: NumPy - The Foundation of Scientific Computing</a><a title="Chapter 8: Matplotlib - Creating Publication-Quality Scientific Visualizations" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/python-matplotlib-scientific-orig">Chapter 8: Matplotlib - Creating Publication-Quality Scientific Visualizations</a><a title="Chapter 9: Robust Computing Fundamentals - Error Handling and Best Practices" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/python-robust-computing-orig">Chapter 9: Robust Computing Fundamentals - Error Handling and Best Practices</a></div></div></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Computational Methods" class="block break-words rounded py-2 grow cursor-pointer">Computational Methods</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1ep8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1ep8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Astrophysics" class="block break-words rounded py-2 grow cursor-pointer">Astrophysics</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1mp8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1mp8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Short Projects" class="block break-words rounded py-2 grow cursor-pointer">Short Projects</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1up8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1up8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Final Project" class="block break-words rounded py-2 grow cursor-pointer">Final Project</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R26p8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R26p8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Reference" class="block break-words rounded py-2 grow cursor-pointer">Reference</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2ep8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R2ep8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><article class="article content article-grid grid-gap"><main class="article-grid subgrid-gap col-screen"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center h-6 mb-5 text-sm font-light"><div class="flex-none pr-2 smallcaps border-r mr-2">Modeling the Universe</div><div class="flex-none mr-2"><a href="https://www.anna-rosen.com" class="font-semibold no-underline smallcaps" title="ASTR 596 - Fall 2025">ASTR 596 - Fall 2025</a></div><div class="flex-grow"></div><a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer" class="opacity-50 hover:opacity-100 text-inherit hover:text-inherit" aria-label="Content License: Creative Commons Attribution 4.0 International (CC-BY-4.0)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mx-1"><title>Content License: Creative Commons Attribution 4.0 International (CC-BY-4.0)</title><path d="M12 2.2c2.7 0 5 1 7 2.9.9.9 1.6 2 2.1 3.1.5 1.2.7 2.4.7 3.8 0 1.3-.2 2.6-.7 3.8-.5 1.2-1.2 2.2-2.1 3.1-1 .9-2 1.7-3.2 2.2-1.2.5-2.5.7-3.7.7s-2.6-.3-3.8-.8c-1.2-.5-2.2-1.2-3.2-2.1s-1.6-2-2.1-3.2-.8-2.4-.8-3.7c0-1.3.2-2.5.7-3.7S4.2 6 5.1 5.1C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C5.6 7.1 5 8 4.6 9c-.4 1-.6 2-.6 3s.2 2.1.6 3c.4 1 1 1.8 1.8 2.6S8 19 9 19.4c1 .4 2 .6 3 .6s2.1-.2 3-.6c1-.4 1.9-1 2.7-1.8 1.5-1.5 2.3-3.3 2.3-5.6 0-1.1-.2-2.1-.6-3.1-.4-1-1-1.8-1.7-2.6C16.1 4.8 14.2 4 12 4zm-.1 6.4l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.5.3-1 .4-1.5.4-.9 0-1.6-.3-2.1-.8-.5-.6-.8-1.3-.8-2.3 0-.9.3-1.7.8-2.2.6-.6 1.3-.8 2.1-.8 1.2 0 2.1.4 2.6 1.4zm5.6 0l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.4.2-.9.3-1.4.3-.9 0-1.6-.3-2.1-.8s-.8-1.3-.8-2.2c0-.9.3-1.7.8-2.2.5-.5 1.2-.8 2-.8 1.2 0 2.1.4 2.6 1.4z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1"><title>Credit must be given to the creator</title><path d="M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.8c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9-1.8-1.7-2.8-4-2.8-6.7s1-5 2.9-6.9C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C4.8 8 4 9.9 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4 1.5-1.5 2.3-3.3 2.3-5.6 0-2.2-.8-4.1-2.3-5.7C16.1 4.8 14.2 4 12 4zm2.6 5.6v4h-1.1v4.7h-3v-4.7H9.4v-4c0-.2.1-.3.2-.4.1-.2.2-.2.4-.2h4c.2 0 .3.1.4.2.2.1.2.2.2.4zm-4-2.5c0-.9.5-1.4 1.4-1.4s1.4.5 1.4 1.4c0 .9-.5 1.4-1.4 1.4s-1.4-.5-1.4-1.4z"></path></svg></a><a href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener noreferrer" title="Code License: MIT License (MIT)" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="mx-1 inline-block opacity-60 hover:opacity-100 hover:text-[#599F46]"><path d="M13.2 15.6c1.4-.5 2.1-1.6 2.1-3.3S13.8 8.9 12 8.9c-1.9 0-3.3 1.6-3.3 3.3 0 1.8.8 3 2.2 3.4l-2.3 5.9c-3.1-.8-6.3-4.6-6.3-9.3 0-5.5 4.3-10 9.7-10s9.8 4.5 9.8 10c0 4.7-3.1 8.5-6.3 9.3l-2.3-5.9z"></path></svg></a><a href="https://github.com/astrobytes-edu/astr596-modeling-universe" title="GitHub Repository: astrobytes-edu/astr596-modeling-universe" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><a href="https://github.com/astrobytes-edu/astr596-modeling-universe/blob/main/03-python/02-scientific-computing-core/07-python-numpy-scientific-ORIG.md" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8top:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div><button class="inline-flex size-[24px] hover:text-[#E18435] items-center justify-center" aria-label="Launch in external computing interface" title="Launch in external computing interface" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Re8top:" data-state="closed"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><h1 class="mb-0">Chapter 7: NumPy - The Foundation of Scientific Computing</h1><header class="mt-4 not-prose"><div class="grid grid-cols-1 sm:grid-cols-2 gap-y-1"><div><span class="font-semibold text-sm"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R2t8top:" data-state="closed">Anna Rosen</button><a class="ml-1" href="mailto:alrosen@sdsu.edu" title="Anna Rosen &lt;alrosen@sdsu.edu&gt;" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 -translate-y-[0.1em] hover:text-blue-400"><path d="M21.8 18c0 1.1-.9 2-1.9 2H4.2c-1.1 0-1.9-.9-1.9-2V9.9c0-.5.3-.7.8-.4l7.8 4.7c.7.4 1.7.4 2.4 0L21 9.5c.4-.2.8-.1.8.4V18z"></path><path d="M21.8 6c0-1.1-.9-2-1.9-2H4.2c-1.1 0-2 .9-2 2v.4c0 .5.3 1.1.8 1.3l8.5 5.1c.2.1.7.1.9 0l8.6-5c.4-.3.8-.9.8-1.3-.1-.1-.1-.5 0-.5z"></path></svg></a><a class="ml-1" href="https://orcid.org/0000-0003-4423-0660" title="ORCID: 0000-0003-4423-0660" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 -translate-y-[0.1em] hover:text-[#A9C751]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span></div><div class="text-sm"><div>San Diego State University<!-- --> </div></div></div></header></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><h2 id="learning-objectives" class="relative group"><span class="heading-text">Learning Objectives</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#learning-objectives" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>By the end of this chapter, you will be able to:</p><ul><li>Understand why NumPy arrays are 10-100x faster than Python lists for numerical computation</li><li>Create and manipulate arrays using various initialization methods and slicing techniques</li><li>Apply vectorization to eliminate explicit loops and write efficient scientific code</li><li>Master broadcasting rules to perform operations on arrays of different shapes elegantly</li><li>Use NumPy’s mathematical functions for scientific calculations</li><li>Understand memory layout and its impact on performance</li><li>Debug common NumPy errors and understand when operations create copies vs views</li><li>Choose when NumPy is appropriate versus other tools like pandas or sparse matrices</li><li>Integrate NumPy with the scientific Python ecosystem</li></ul><h2 id="prerequisites-check" class="relative group"><span class="heading-text">Prerequisites Check</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#prerequisites-check" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Before starting this chapter, verify you can:</p><ul><li>✓ Work with Python lists and understand indexing/slicing (Chapter 4)</li><li>✓ Write functions and understand scope (Chapter 5)</li><li>✓ Understand object methods and attributes (Chapter 6)</li><li>✓ Use list comprehensions for data transformation (Chapter 4)</li><li>✓ Work with nested data structures (Chapter 4)</li></ul><h2 id="chapter-overview" class="relative group"><span class="heading-text">Chapter Overview</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#chapter-overview" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>So far, you’ve been using Python lists for numerical data. But try this simple experiment: compute the sum of squares for a million numbers using a list comprehension versus a loop. Even with list comprehensions, Python is surprisingly slow for numerical work. This is where NumPy transforms Python from a general-purpose language into a scientific computing powerhouse.</p><p>NumPy (Numerical Python) is not just a library—it’s the foundation upon which the entire scientific Python ecosystem is built. Every plot you make with Matplotlib, every optimization you run with SciPy, every dataframe you manipulate with Pandas, ultimately relies on NumPy arrays. Understanding NumPy deeply means understanding how scientific computing works in Python.</p><p>This chapter reveals why NumPy is fast (hint: it’s not written in Python), how its mental model differs from pure Python (vectorization over loops), and how its design patterns appear throughout scientific computing. You’ll learn to think in arrays, not elements—a fundamental shift that makes the difference between code that takes hours and code that takes seconds. By the end, you’ll understand why that <code>Star</code> class you created in Chapter 6 might be better represented as a structured NumPy array when you have millions of stars to process.</p><h2 id="id-7-1-why-numpy-the-performance-revolution" class="relative group"><span class="heading-text">7.1 Why NumPy? The Performance Revolution</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-1-why-numpy-the-performance-revolution" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Let’s start with a motivating example that shows why NumPy exists:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [1]: import time
In [2]: import numpy as np

# Pure Python: sum of squares for 1 million numbers
In [3]: def python_sum_of_squares(n):
   ...:     &quot;&quot;&quot;Pure Python implementation using list comprehension.&quot;&quot;&quot;
   ...:     numbers = list(range(n))
   ...:     return sum(x**2 for x in numbers)

# NumPy: same calculation
In [4]: def numpy_sum_of_squares(n):
   ...:     &quot;&quot;&quot;NumPy implementation using vectorization.&quot;&quot;&quot;
   ...:     numbers = np.arange(n)
   ...:     return np.sum(numbers**2)

# Time both approaches
In [5]: n = 1_000_000

In [6]: start = time.perf_counter()
In [7]: python_result = python_sum_of_squares(n)
In [8]: python_time = time.perf_counter() - start

In [9]: start = time.perf_counter()
In [10]: numpy_result = numpy_sum_of_squares(n)
In [11]: numpy_time = time.perf_counter() - start

In [12]: print(f&quot;Python: {python_time:.3f} seconds&quot;)
In [13]: print(f&quot;NumPy:  {numpy_time:.3f} seconds&quot;)
In [14]: print(f&quot;Speedup: {python_time/numpy_time:.1f}x&quot;)
Python: 0.142 seconds
NumPy:  0.003 seconds
Speedup: 47.3x

In [15]: python_result == numpy_result  # Same answer!
Out[15]: True</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>NumPy is nearly 50 times faster! But why? The answer reveals fundamental truths about scientific computing.</p><h3 id="the-secret-numpy-arrays-are-not-python-lists" class="relative group"><span class="heading-text">The Secret: NumPy Arrays Are Not Python Lists</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#the-secret-numpy-arrays-are-not-python-lists" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Understanding the fundamental difference between Python lists and NumPy arrays is crucial for writing efficient scientific code. Python lists are incredibly flexible—they can hold any type of object, grow and shrink dynamically, and support arbitrary nesting. This flexibility comes at a cost: each element in a list is actually a pointer to a Python object stored elsewhere in memory. When you perform operations on lists, Python must follow these pointers, check types, and handle each element individually.</p><p>NumPy arrays, by contrast, store raw numerical data in contiguous blocks of memory, just like arrays in C or Fortran. All elements must be the same type, and the array size is fixed when created. These restrictions enable dramatic performance improvements.</p><figure class=""></figure><p>With Python lists, accessing an element means following a pointer, checking the object type, extracting the value, and potentially handling reference counting. With NumPy arrays, accessing an element is just reading from a memory offset—the same operation that happens in compiled languages. This difference becomes dramatic when operating on millions of elements.</p><h3 id="the-mental-model-shift-vectorization" class="relative group"><span class="heading-text">The Mental Model Shift: Vectorization</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#the-mental-model-shift-vectorization" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The performance gain from NumPy requires a different programming paradigm called vectorization. Instead of thinking about operations on individual elements (the Python way), you think about operations on entire arrays (the NumPy way). This isn’t just a syntactic difference—it’s a fundamental shift in how you approach problems.</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Python style: loop over elements explicitly
def python_distance(x_coords, y_coords):
    &quot;&quot;&quot;
    Calculate distances from origin using Python loops.
    Note: We process each coordinate pair individually.
    &quot;&quot;&quot;
    distances = []
    for x, y in zip(x_coords, y_coords):
        dist = (x**2 + y**2)**0.5
        distances.append(dist)
    return distances

# NumPy style: operate on entire arrays at once
def numpy_distance(x_coords, y_coords):
    &quot;&quot;&quot;
    Calculate distances from origin using vectorization.
    The entire operation happens in compiled C code.
    &quot;&quot;&quot;
    return np.sqrt(x_coords**2 + y_coords**2)

# Test with 100,000 points
n_points = 100_000
x = np.random.randn(n_points)  # Random x coordinates
y = np.random.randn(n_points)  # Random y coordinates

# Convert to lists for Python version
x_list = x.tolist()
y_list = y.tolist()

# Time both approaches
%timeit python_distance(x_list, y_list)
# 31.2 ms ± 501 µs per loop

%timeit numpy_distance(x, y)
# 371 µs ± 5.2 µs per loop

# 84x faster with vectorization!</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Vectorization means the loop still happens, but it’s implemented in compiled C code rather than interpreted Python. The CPU can also use SIMD (Single Instruction, Multiple Data) instructions to process multiple array elements simultaneously, further improving performance.</p><h3 id="id-computational-thinking-box-the-two-language-problem" class="relative group"><span class="heading-text">📦 <strong>Computational Thinking Box: The Two-Language Problem</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-computational-thinking-box-the-two-language-problem" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">PATTERN: The Two-Language Problem in Scientific Computing

Many scientific computing ecosystems face a fundamental dilemma:
- High-level languages (Python, MATLAB, R) are great for experimentation
- Low-level languages (C, Fortran) are needed for performance
- Scientists want to think about science, not memory management

NumPy&#x27;s Solution:
- Python interface for thinking and prototyping
- C/Fortran implementation for computation
- Seamless boundary between the two worlds

This pattern appears throughout scientific Python:
- NumPy: Python interface, C implementation
- SciPy: Python interface, Fortran/C++ implementation  
- Pandas: Python interface, Cython implementation
- Scikit-learn: Python interface, Cython/C++ implementation

The key insight: put the language boundary at the right abstraction level.
For NumPy, that&#x27;s the array operation, not the element operation.
This lets scientists write Python while getting C performance.</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h2 id="id-7-2-creating-arrays-from-lists-to-grids" class="relative group"><span class="heading-text">7.2 Creating Arrays: From Lists to Grids</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-2-creating-arrays-from-lists-to-grids" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>NumPy provides many ways to create arrays, each optimized for different use cases. Understanding these is crucial for efficient scientific computing.</p><h3 id="from-python-sequences" class="relative group"><span class="heading-text">From Python Sequences</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#from-python-sequences" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The most straightforward way to create NumPy arrays is by converting existing Python data structures:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [16]: # From a simple list
In [17]: list_data = [1, 2, 3, 4, 5]
In [18]: arr = np.array(list_data)
In [19]: print(f&quot;Array: {arr}&quot;)
In [20]: print(f&quot;Type: {type(arr)}&quot;)  # Note: it&#x27;s an object!
In [21]: print(f&quot;Dtype: {arr.dtype}&quot;)  # Data type of elements
Array: [1 2 3 4 5]
Type: &lt;class &#x27;numpy.ndarray&#x27;&gt;
Dtype: int64

In [22]: # From nested lists (creates 2D array)
In [23]: matrix_data = [[1, 2, 3],
   ...:                 [4, 5, 6],
   ...:                 [7, 8, 9]]
In [24]: matrix = np.array(matrix_data)
In [25]: print(f&quot;Matrix:\n{matrix}&quot;)
In [26]: print(f&quot;Shape: {matrix.shape}&quot;)  # (rows, columns)
In [27]: print(f&quot;Dimensions: {matrix.ndim}&quot;)
Matrix:
[[1 2 3]
 [4 5 6]
 [7 8 9]]
Shape: (3, 3)
Dimensions: 2</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Remember from Chapter 6 that NumPy arrays are objects! They have attributes (<code>shape</code>, <code>dtype</code>, <code>size</code>) and methods (<code>reshape()</code>, <code>mean()</code>, <code>sum()</code>). This is object-oriented programming in action—the array object encapsulates both data and operations on that data.</p><h3 id="initialization-functions" class="relative group"><span class="heading-text">Initialization Functions</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#initialization-functions" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Creating arrays from scratch is often more efficient than converting lists, especially for large arrays:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [28]: # Arrays of zeros - useful for accumulating results
In [29]: zeros = np.zeros((3, 4))  # 3 rows, 4 columns
In [30]: print(f&quot;Zeros:\n{zeros}&quot;)
Zeros:
[[0. 0. 0. 0.]
 [0. 0. 0. 0.]
 [0. 0. 0. 0.]]

In [31]: # Arrays of ones - useful for counting or normalization
In [32]: ones = np.ones((2, 3), dtype=np.int32)  # Can specify dtype
In [33]: print(f&quot;Ones:\n{ones}&quot;)
Ones:
[[1 1 1]
 [1 1 1]]

In [34]: # Identity matrix - useful for linear algebra
In [35]: identity = np.eye(3)
In [36]: print(f&quot;Identity:\n{identity}&quot;)
Identity:
[[1. 0. 0.]
 [0. 1. 0.]
 [0. 0. 1.]]

In [37]: # Uninitialized array - fastest but DANGEROUS
In [38]: empty = np.empty((2, 2))  # Contains garbage values!
In [39]: print(f&quot;Empty (undefined values):\n{empty}&quot;)
Empty (undefined values):
[[4.67e-310 0.00e+000]
 [0.00e+000 0.00e+000]]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-common-bug-alert-uninitialized-arrays" class="relative group"><span class="heading-text">⚠️ <strong>Common Bug Alert: Uninitialized Arrays</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-common-bug-alert-uninitialized-arrays" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># WRONG: Assuming empty arrays contain zeros
def calculate_sums_wrong(data, n_bins):
    &quot;&quot;&quot;This function has a subtle bug.&quot;&quot;&quot;
    sums = np.empty(n_bins)  # Contains garbage values!
    for i, value in enumerate(data):
        bin_idx = int(value) % n_bins
        sums[bin_idx] += value  # Adding to garbage!
    return sums

# CORRECT: Use zeros for accumulation
def calculate_sums_correct(data, n_bins):
    &quot;&quot;&quot;Always initialize accumulators to zero.&quot;&quot;&quot;
    sums = np.zeros(n_bins)  # Properly initialized
    for i, value in enumerate(data):
        bin_idx = int(value) % n_bins
        sums[bin_idx] += value  # Now safe to accumulate
    return sums

# The bug might not be obvious in testing!
test_data = np.array([1.5, 2.7, 3.2])
print(calculate_sums_wrong(test_data, 5))   # Unpredictable results!
print(calculate_sums_correct(test_data, 5))  # [0, 1.5, 2.7, 3.2, 0]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Always use <code>zeros()</code> for accumulation, <code>ones()</code> for counting, and only use <code>empty()</code> when you’ll immediately overwrite all values. The performance gain from <code>empty()</code> is rarely worth the risk of bugs.</p><h3 id="range-arrays" class="relative group"><span class="heading-text">Range Arrays</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#range-arrays" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>For sequences of numbers, NumPy provides optimized functions that are much more memory-efficient than converting Python ranges:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [40]: # Like Python&#x27;s range, but returns an array
In [41]: integers = np.arange(10)  # 0 to 9
In [42]: print(f&quot;Integers: {integers}&quot;)
Integers: [0 1 2 3 4 5 6 7 8 9]

In [43]: # With start, stop, step (half-open interval like Python)
In [44]: evens = np.arange(0, 10, 2)
In [45]: print(f&quot;Evens: {evens}&quot;)
Evens: [0 2 4 6 8]

In [46]: # Floating-point ranges (be careful with precision!)
In [47]: floats = np.arange(0, 1, 0.1)
In [48]: print(f&quot;Floats: {floats}&quot;)
In [49]: print(f&quot;Length: {len(floats)}&quot;)  # Might not be what you expect!
Floats: [0.  0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9]
Length: 10  # Note: doesn&#x27;t include 1.0!

In [50]: # Linear spacing - specify number of points instead of step
In [51]: linear = np.linspace(0, 1, 11)  # 11 points from 0 to 1 inclusive
In [52]: print(f&quot;Linear: {linear}&quot;)
Linear: [0.  0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1. ]

In [53]: # Logarithmic spacing - for log-scale plots or sampling
In [54]: logarithmic = np.logspace(0, 3, 4)  # 10^0 to 10^3
In [55]: print(f&quot;Logarithmic: {logarithmic}&quot;)
Logarithmic: [   1.   10.  100. 1000.]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-check-your-understanding" class="relative group"><span class="heading-text">🔍 <strong>Check Your Understanding</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-check-your-understanding" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>What’s the difference between <code>np.arange(0, 1, 0.1)</code> and <code>np.linspace(0, 1, 11)</code>?</p><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Answer</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><p>Both create arrays from 0 to 1, but they work fundamentally differently and this matters for scientific computing:</p><p><code>np.arange(0, 1, 0.1)</code> uses a step size of 0.1, similar to a for loop with floating-point increment. Due to floating-point arithmetic limitations, this can accumulate rounding errors and might not include exactly 1.0. The exact number of points depends on floating-point precision.</p><p><code>np.linspace(0, 1, 11)</code> creates exactly 11 evenly spaced points including both endpoints. It calculates the spacing to ensure exact endpoints and uniform distribution. This is more numerically stable and predictable.</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Demonstration of the subtle but important difference
arange_arr = np.arange(0, 1, 0.1)
linspace_arr = np.linspace(0, 1, 11)

print(f&quot;arange length: {len(arange_arr)}&quot;)      # 10 (doesn&#x27;t include 1.0)
print(f&quot;linspace length: {len(linspace_arr)}&quot;)  # 11 (includes both endpoints)
print(f&quot;arange last: {arange_arr[-1]}&quot;)         # 0.9
print(f&quot;linspace last: {linspace_arr[-1]}&quot;)     # 1.0

# Floating-point precision issues with arange
step = 0.1
accumulated = 0.0
for i in range(3):
    accumulated += step
print(f&quot;0.1 + 0.1 + 0.1 = {accumulated}&quot;)  # 0.30000000000000004 (not 0.3!)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Use <code>linspace</code> when you need a specific number of points including endpoints (common in plotting and interpolation). Use <code>arange</code> for integer sequences or when you need a specific step size and can tolerate floating-point imprecision.</p></div></details><h3 id="random-arrays" class="relative group"><span class="heading-text">Random Arrays</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#random-arrays" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Scientific computing often needs random data for Monte Carlo simulations, statistical sampling, or algorithm testing:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [56]: # ALWAYS set seed for reproducibility in scientific work!
In [57]: np.random.seed(42)

In [58]: # Uniform distribution [0, 1)
In [59]: uniform = np.random.rand(3, 3)
In [60]: print(f&quot;Uniform:\n{uniform}&quot;)
Uniform:
[[0.374 0.950 0.731]
 [0.598 0.156 0.155]
 [0.058 0.866 0.601]]

In [61]: # Standard normal distribution (mean=0, std=1)
In [62]: normal = np.random.randn(3, 3)
In [63]: print(f&quot;Normal:\n{normal}&quot;)
Normal:
[[ 0.708 -0.757 -1.316]
 [ 0.386  1.749  0.297]
 [-0.814 -0.454 -1.150]]

In [64]: # Random integers for discrete problems
In [65]: integers = np.random.randint(0, 10, size=(2, 4))
In [66]: print(f&quot;Random integers:\n{integers}&quot;)
Random integers:
[[7 6 6 8]
 [8 3 9 8]]

In [67]: # Poisson distribution for photon counting
In [68]: # Mean photon count = 5 photons per pixel
In [69]: photon_counts = np.random.poisson(lam=5, size=10)
In [70]: print(f&quot;Photon counts: {photon_counts}&quot;)
Photon counts: [3 5 6 3 8 4 3 3 6 2]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Note: NumPy 1.17+ introduced a new random API with better practices for parallel computing:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Modern approach (recommended for new code)
rng = np.random.default_rng(seed=42)  # Create generator
data = rng.standard_normal((3, 3))    # Use generator methods</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h2 id="id-7-3-array-attributes-and-memory-layout" class="relative group"><span class="heading-text">7.3 Array Attributes and Memory Layout</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-3-array-attributes-and-memory-layout" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Understanding array attributes and memory layout is crucial for writing efficient code and debugging unexpected behavior.</p><h3 id="essential-attributes" class="relative group"><span class="heading-text">Essential Attributes</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#essential-attributes" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Every NumPy array is an object with attributes that completely describe its structure:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [71]: # Create a 3D array for demonstration
In [72]: arr = np.random.randn(2, 3, 4)  # 2 blocks, 3 rows, 4 columns each

In [73]: print(f&quot;Shape: {arr.shape}&quot;)        # Dimensions (most important!)
In [74]: print(f&quot;Size: {arr.size}&quot;)          # Total number of elements
In [75]: print(f&quot;Ndim: {arr.ndim}&quot;)          # Number of dimensions
In [76]: print(f&quot;Dtype: {arr.dtype}&quot;)        # Data type of elements
In [77]: print(f&quot;Itemsize: {arr.itemsize}&quot;)  # Bytes per element
In [78]: print(f&quot;Nbytes: {arr.nbytes}&quot;)      # Total memory usage
Shape: (2, 3, 4)
Size: 24
Ndim: 3
Dtype: float64
Itemsize: 8
Nbytes: 192

In [79]: # Memory layout information (advanced but important)
In [80]: print(f&quot;Strides: {arr.strides}&quot;)  # Bytes to jump for next element
In [81]: print(f&quot;C-contiguous: {arr.flags[&#x27;C_CONTIGUOUS&#x27;]}&quot;)
In [82]: print(f&quot;Fortran-contiguous: {arr.flags[&#x27;F_CONTIGUOUS&#x27;]}&quot;)
Strides: (96, 32, 8)  # Jump 96 bytes for next block, 32 for next row, 8 for next element
C-contiguous: True
Fortran-contiguous: False</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="memory-layout-row-major-vs-column-major" class="relative group"><span class="heading-text">Memory Layout: Row-Major vs Column-Major</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#memory-layout-row-major-vs-column-major" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>NumPy can store multidimensional arrays in different memory layouts. Understanding this is crucial for performance when working with large datasets or interfacing with other languages:</p><figure class=""></figure><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [83]: # Default is C-order (row-major) - rows are contiguous
In [84]: c_array = np.array([[1, 2, 3],
   ...:                       [4, 5, 6]])
In [85]: print(f&quot;C-order strides: {c_array.strides}&quot;)
C-order strides: (24, 8)  # 24 bytes to next row (3 elements × 8 bytes)

In [86]: # Can create Fortran-order (column-major) - columns are contiguous
In [87]: f_array = np.array([[1, 2, 3],
   ...:                       [4, 5, 6]], order=&#x27;F&#x27;)
In [88]: print(f&quot;F-order strides: {f_array.strides}&quot;)
F-order strides: (8, 16)  # 8 bytes to next row (1 element × 8 bytes)

In [89]: # Performance implications: access contiguous data when possible
In [90]: large = np.random.randn(1000, 1000)

In [91]: # Summing along rows (axis=1) is fast for C-order
In [92]: # because we read memory sequentially
In [93]: %timeit large.sum(axis=1)
574 µs ± 12.3 µs per loop

In [94]: # Summing along columns (axis=0) is slower for C-order
In [95]: # because we jump around in memory
In [96]: %timeit large.sum(axis=0)
1.28 ms ± 23.4 µs per loop  # 2x slower!

# Why? CPU cache works best with sequential memory access</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="data-types-and-memory-usage" class="relative group"><span class="heading-text">Data Types and Memory Usage</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#data-types-and-memory-usage" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>NumPy provides precise control over data types, crucial for memory efficiency and numerical precision in scientific computing:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [97]: # Integer types with different ranges and memory usage
In [98]: int8 = np.array([1, 2, 3], dtype=np.int8)    # -128 to 127
In [99]: int16 = np.array([1, 2, 3], dtype=np.int16)  # -32,768 to 32,767
In [100]: int32 = np.array([1, 2, 3], dtype=np.int32)  # ~±2 billion
In [101]: int64 = np.array([1, 2, 3], dtype=np.int64)  # ~±9 quintillion

In [102]: print(f&quot;int8 uses {int8.nbytes} bytes for 3 elements&quot;)
In [103]: print(f&quot;int64 uses {int64.nbytes} bytes for 3 elements&quot;)
int8 uses 3 bytes for 3 elements
int64 uses 24 bytes for 3 elements  # 8x more memory!

In [104]: # Floating-point types - precision vs memory tradeoff
In [105]: float16 = np.array([1.0, 2.0], dtype=np.float16)  # Half precision
In [106]: float32 = np.array([1.0, 2.0], dtype=np.float32)  # Single precision
In [107]: float64 = np.array([1.0, 2.0], dtype=np.float64)  # Double precision

In [108]: # Complex numbers for signal processing or quantum mechanics
In [109]: complex_arr = np.array([1+2j, 3+4j], dtype=np.complex128)
In [110]: print(f&quot;Complex array: {complex_arr}&quot;)
In [111]: print(f&quot;Real parts: {complex_arr.real}&quot;)
In [112]: print(f&quot;Imaginary parts: {complex_arr.imag}&quot;)
Complex array: [1.+2.j 3.+4.j]
Real parts: [1. 3.]
Imaginary parts: [2. 4.]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-performance-profile-data-type-impact" class="relative group"><span class="heading-text">🔊 <strong>Performance Profile: Data Type Impact</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-performance-profile-data-type-impact" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Memory and speed tradeoffs with different dtypes
n = 10_000_000  # 10 million elements

# Create arrays with different precision
float64_arr = np.random.randn(n)  # Default double precision
float32_arr = float64_arr.astype(np.float32)  # Single precision
float16_arr = float64_arr.astype(np.float16)  # Half precision

print(f&quot;float64: {float64_arr.nbytes / 1e6:.1f} MB&quot;)
print(f&quot;float32: {float32_arr.nbytes / 1e6:.1f} MB&quot;)
print(f&quot;float16: {float16_arr.nbytes / 1e6:.1f} MB&quot;)
# Output:
# float64: 80.0 MB
# float32: 40.0 MB  
# float16: 20.0 MB

# Performance comparison
%timeit float64_arr.sum()  # 7.92 ms
%timeit float32_arr.sum()  # 3.96 ms (2x faster!)
%timeit float16_arr.sum()  # 15.8 ms (slower - limited hardware support)

# But beware precision loss!
large_number = 1e10
small_number = 1.0
print(f&quot;float64: {large_number + small_number}&quot;)  # 10000000001.0 (correct)
print(f&quot;float32: {np.float32(large_number) + np.float32(small_number)}&quot;)  # 10000000000.0 (lost precision!)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Choose dtypes based on your scientific requirements: float64 for high precision calculations, float32 for large datasets where some precision loss is acceptable, integers for counting and indexing.</p><h2 id="id-7-4-indexing-and-slicing-views-vs-copies" class="relative group"><span class="heading-text">7.4 Indexing and Slicing: Views vs Copies</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-4-indexing-and-slicing-views-vs-copies" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>NumPy’s indexing is powerful but has subtleties that can cause bugs if not understood properly. The key concept is understanding when NumPy creates a view (shared memory) versus a copy (independent memory).</p><h3 id="basic-indexing-creates-views" class="relative group"><span class="heading-text">Basic Indexing (Creates Views)</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#basic-indexing-creates-views" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Basic slicing with integers and colons creates views that share memory with the original array:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [113]: # 1D indexing - similar to Python lists
In [114]: arr = np.arange(10)
In [115]: print(f&quot;Original: {arr}&quot;)
In [116]: print(f&quot;Element at index 3: {arr[3]}&quot;)
In [117]: print(f&quot;Slice [2:5]: {arr[2:5]}&quot;)
In [118]: print(f&quot;Every 2nd element: {arr[::2]}&quot;)
In [119]: print(f&quot;Reverse: {arr[::-1]}&quot;)
Original: [0 1 2 3 4 5 6 7 8 9]
Element at index 3: 3
Slice [2:5]: [2 3 4]
Every 2nd element: [0 2 4 6 8]
Reverse: [9 8 7 6 5 4 3 2 1 0]

In [120]: # CRITICAL: Slices are views, not copies!
In [121]: slice_view = arr[2:5]
In [122]: slice_view[0] = 999  # Modifying the view
In [123]: print(f&quot;Original after modification: {arr}&quot;)
Original after modification: [  0   1 999   3   4   5   6   7   8   9]
# The original array changed!</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-common-bug-alert-unexpected-mutation" class="relative group"><span class="heading-text">⚠️ <strong>Common Bug Alert: Unexpected Mutation</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-common-bug-alert-unexpected-mutation" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># DANGEROUS: Functions that modify views change the original!
def process_middle(data):
    &quot;&quot;&quot;Process middle section of data - has a hidden side effect!&quot;&quot;&quot;
    middle = data[len(data)//4:3*len(data)//4]  # This is a view!
    middle *= 2  # This modifies the original array!
    return middle

original = np.arange(10)
print(f&quot;Before: {original}&quot;)
result = process_middle(original)
print(f&quot;After: {original}&quot;)  # Original is changed unexpectedly!
# Before: [0 1 2 3 4 5 6 7 8 9]
# After: [0 1 4 6 8 5 6 7 8 9]

# SAFE: Explicitly copy when you need independence
def process_middle_safe(data):
    &quot;&quot;&quot;Process middle section without side effects.&quot;&quot;&quot;
    middle = data[len(data)//4:3*len(data)//4].copy()  # Explicit copy
    middle *= 2  # Only affects the copy
    return middle</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="multidimensional-indexing" class="relative group"><span class="heading-text">Multidimensional Indexing</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#multidimensional-indexing" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>For 2D arrays and higher dimensions, indexing becomes more sophisticated:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [124]: # Create a 2D array (matrix)
In [125]: matrix = np.array([[1, 2, 3],
    ...:                      [4, 5, 6],
    ...:                      [7, 8, 9]])

In [126]: # Single element access
In [127]: print(f&quot;Element at row 1, column 2: {matrix[1, 2]}&quot;)
Element at row 1, column 2: 6

In [128]: # Entire row or column extraction
In [129]: print(f&quot;Row 1: {matrix[1, :]}&quot;)     # Can also write matrix[1]
In [130]: print(f&quot;Column 2: {matrix[:, 2]}&quot;)
Row 1: [4 5 6]
Column 2: [3 6 9]

In [131]: # Submatrix extraction
In [132]: print(f&quot;Top-left 2x2 submatrix:\n{matrix[:2, :2]}&quot;)
Top-left 2x2 submatrix:
[[1 2]
 [4 5]]

In [133]: # Strided access for sampling
In [134]: print(f&quot;Every other element:\n{matrix[::2, ::2]}&quot;)
Every other element:
[[1 3]
 [7 9]]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="fancy-indexing-creates-copies" class="relative group"><span class="heading-text">Fancy Indexing (Creates Copies)</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#fancy-indexing-creates-copies" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Using arrays or lists as indices creates copies, not views. This is called “fancy indexing”:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [135]: arr = np.arange(10) * 10  # [0, 10, 20, ..., 90]

In [136]: # Integer array indexing
In [137]: indices = np.array([1, 3, 5])
In [138]: selected = arr[indices]  # This is a COPY!
In [139]: print(f&quot;Selected elements: {selected}&quot;)
Selected elements: [10 30 50]

In [140]: selected[0] = 999  # Modify the copy
In [141]: print(f&quot;Original unchanged: {arr}&quot;)
Original unchanged: [ 0 10 20 30 40 50 60 70 80 90]

In [142]: # Boolean indexing (masking) - also creates copies
In [143]: mask = arr &gt; 40
In [144]: print(f&quot;Boolean mask: {mask}&quot;)
In [145]: filtered = arr[mask]  # Copy of elements where mask is True
In [146]: print(f&quot;Filtered elements: {filtered}&quot;)
Boolean mask: [False False False False False  True  True  True  True  True]
Filtered elements: [50 60 70 80 90]

In [147]: # Combining conditions with &amp; (and), | (or), ~ (not)
In [148]: # Note: Use &amp;, not &#x27;and&#x27; for element-wise operations
In [149]: complex_mask = (arr &gt; 20) &amp; (arr &lt; 70)
In [150]: print(f&quot;Complex filter result: {arr[complex_mask]}&quot;)
Complex filter result: [30 40 50 60]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-computational-thinking-box-views-vs-copies" class="relative group"><span class="heading-text">📦 <strong>Computational Thinking Box: Views vs Copies</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-computational-thinking-box-views-vs-copies" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">PATTERN: Memory Efficiency Through Views

Views are NumPy&#x27;s mechanism for providing different perspectives 
on the same underlying data without copying it. This pattern is 
crucial for both memory efficiency and performance.

When NumPy creates views (shares memory):
- Basic slicing: arr[1:5], arr[:, 2], arr[::2]
- Reshaping: arr.reshape(new_shape)
- Transposing: arr.T
- Type casting sometimes: arr.view(new_dtype)

When NumPy creates copies (independent memory):
- Fancy indexing: arr[[1,3,5]], arr[arr &gt; 0]
- Explicit copy: arr.copy()
- Operations that change size: arr.flatten()

Testing if something is a view:
    if arr.base is not None:
        print(&quot;arr is a view of&quot;, arr.base)
    else:
        print(&quot;arr owns its data&quot;)

This pattern appears throughout scientific computing:
- Pandas DataFrames (often views of NumPy arrays)
- Memory-mapped files (views of disk data)
- GPU computing (minimizing expensive memory transfers)

Understanding views vs copies helps you:
1. Avoid unexpected data modification
2. Minimize memory usage with large datasets
3. Write more efficient algorithms</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h2 id="id-7-5-vectorization-thinking-in-arrays" class="relative group"><span class="heading-text">7.5 Vectorization: Thinking in Arrays</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-5-vectorization-thinking-in-arrays" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Vectorization is the key to NumPy’s performance and elegance. It means expressing operations on entire arrays rather than individual elements, pushing loops into compiled code.</p><h3 id="universal-functions-ufuncs" class="relative group"><span class="heading-text">Universal Functions (ufuncs)</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#universal-functions-ufuncs" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>NumPy provides “universal functions” that operate element-wise on arrays with optimized C implementations:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [151]: # Arithmetic operations are vectorized
In [152]: a = np.array([1, 2, 3, 4])
In [153]: b = np.array([10, 20, 30, 40])

In [154]: # These operations happen in parallel in C
In [155]: print(f&quot;Addition: {a + b}&quot;)
In [156]: print(f&quot;Multiplication: {a * b}&quot;)
In [157]: print(f&quot;Power: {a ** 2}&quot;)
Addition: [11 22 33 44]
Multiplication: [10 40 90 160]
Power: [ 1  4  9 16]

In [158]: # Mathematical functions are vectorized
In [159]: angles = np.array([0, np.pi/4, np.pi/2, np.pi])
In [160]: print(f&quot;Sin: {np.sin(angles)}&quot;)
In [161]: print(f&quot;Cos: {np.cos(angles)}&quot;)
Sin: [0.000e+00 7.071e-01 1.000e+00 1.225e-16]
Cos: [ 1.000e+00  7.071e-01  6.123e-17 -1.000e+00]

In [162]: # Comparison operations return boolean arrays
In [163]: arr = np.arange(5)
In [164]: print(f&quot;Greater than 2: {arr &gt; 2}&quot;)
In [165]: print(f&quot;Equal to 3: {arr == 3}&quot;)
Greater than 2: [False False False  True  True]
Equal to 3: [False False False  True False]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="vectorizing-custom-functions" class="relative group"><span class="heading-text">Vectorizing Custom Functions</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#vectorizing-custom-functions" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>You can vectorize your own functions, though true vectorization (using NumPy operations throughout) is faster than using <code>np.vectorize</code>:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [166]: # Example: photon energy from wavelength
In [167]: def photon_energy_scalar(wavelength_nm):
    ...:     &quot;&quot;&quot;
    ...:     Calculate photon energy in eV from wavelength in nm.
    ...:     E = hc/λ where h is Planck constant, c is speed of light
    ...:     &quot;&quot;&quot;
    ...:     h = 4.135667e-15  # Planck constant in eV·s
    ...:     c = 2.998e17      # Speed of light in nm/s
    ...:     return h * c / wavelength_nm

In [168]: # Works on single values
In [169]: print(f&quot;Energy at 500nm: {photon_energy_scalar(500):.3f} eV&quot;)
Energy at 500nm: 2.480 eV

In [170]: # np.vectorize for convenience (but not optimal performance)
In [171]: photon_energy_vec = np.vectorize(photon_energy_scalar)
In [172]: wavelengths = np.array([400, 500, 600, 700])  # nm
In [173]: print(f&quot;Energies: {photon_energy_vec(wavelengths)}&quot;)
Energies: [3.099 2.480 2.066 1.771]

In [174]: # Better: write truly vectorized code using NumPy operations
In [175]: def photon_energy_fast(wavelength_nm):
    ...:     &quot;&quot;&quot;Truly vectorized version - works on arrays natively.&quot;&quot;&quot;
    ...:     h = 4.135667e-15  # eV·s
    ...:     c = 2.998e17      # nm/s
    ...:     return h * c / wavelength_nm  # NumPy handles arrays automatically

In [176]: # Performance comparison
In [177]: large_wavelengths = np.random.uniform(300, 800, 100000)
In [178]: %timeit photon_energy_vec(large_wavelengths)   # 35.2 ms
In [179]: %timeit photon_energy_fast(large_wavelengths)  # 326 µs
# True vectorization is 100x faster!</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="aggregation-functions" class="relative group"><span class="heading-text">Aggregation Functions</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#aggregation-functions" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Aggregations reduce arrays to scalars or smaller arrays, with optimized implementations for common operations:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [180]: # Generate sample data
In [181]: data = np.random.randn(1000)

In [182]: # Basic statistics - all optimized C implementations
In [183]: print(f&quot;Mean: {data.mean():.4f}&quot;)
In [184]: print(f&quot;Standard deviation: {data.std():.4f}&quot;)
In [185]: print(f&quot;Min: {data.min():.4f}, Max: {data.max():.4f}&quot;)
In [186]: print(f&quot;Median: {np.median(data):.4f}&quot;)
Mean: -0.0234
Standard deviation: 0.9897
Min: -3.2384, Max: 3.0234
Median: -0.0365

In [187]: # Percentiles for outlier detection
In [188]: print(f&quot;5th percentile: {np.percentile(data, 5):.4f}&quot;)
In [189]: print(f&quot;95th percentile: {np.percentile(data, 95):.4f}&quot;)
5th percentile: -1.6422
95th percentile: 1.5967

In [190]: # Aggregation along specific axes for multidimensional arrays
In [191]: matrix = np.random.randn(3, 4)
In [192]: print(f&quot;Matrix:\n{matrix}&quot;)
In [193]: print(f&quot;Column means (axis=0): {matrix.mean(axis=0)}&quot;)
In [194]: print(f&quot;Row means (axis=1): {matrix.mean(axis=1)}&quot;)
Matrix:
[[-0.245  1.234 -0.567  0.891]
 [ 2.345 -1.234  0.123 -0.456]
 [ 0.789 -0.012  1.234 -2.345]]
Column means (axis=0): [ 0.963 -0.004  0.263 -0.637]
Row means (axis=1): [ 0.328  0.195 -0.084]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-check-your-understanding-1" class="relative group"><span class="heading-text">🔍 <strong>Check Your Understanding</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-check-your-understanding-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Given a 2D array representing an image, how would you normalize it so all values are between 0 and 1?</p><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Answer</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><p>There are several normalization approaches depending on your scientific requirements:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create sample &quot;image&quot; data
image = np.random.randn(100, 100) * 50 + 128  # Centered at 128, std=50

# Method 1: Min-Max normalization (scales to exact [0, 1])
def min_max_normalize(arr):
    &quot;&quot;&quot;
    Scale array to [0, 1] range.
    Good for: display, when you need exact bounds
    &quot;&quot;&quot;
    return (arr - arr.min()) / (arr.max() - arr.min())

normalized1 = min_max_normalize(image)
print(f&quot;Range: [{normalized1.min():.3f}, {normalized1.max():.3f}]&quot;)  # [0.000, 1.000]

# Method 2: Clipping to known range (e.g., 0-255 for 8-bit images)
def clip_normalize(arr, min_val=0, max_val=255):
    &quot;&quot;&quot;
    Clip to range then normalize.
    Good for: when you know the expected data range
    &quot;&quot;&quot;
    clipped = np.clip(arr, min_val, max_val)
    return (clipped - min_val) / (max_val - min_val)

normalized2 = clip_normalize(image, 0, 255)

# Method 3: Z-score normalization (standardization)
def z_score_normalize(arr):
    &quot;&quot;&quot;
    Standardize to mean=0, std=1.
    Good for: machine learning, statistical analysis
    Note: doesn&#x27;t guarantee [0,1] range!
    &quot;&quot;&quot;
    return (arr - arr.mean()) / arr.std()

standardized = z_score_normalize(image)
print(f&quot;Mean: {standardized.mean():.6f}, Std: {standardized.std():.6f}&quot;)

# Choose based on your scientific needs!
# - Min-max for display (guarantees [0,1])
# - Clipping when you know valid data range
# - Z-score for statistical processing</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>The key insight: vectorized operations make this efficient even for large images. No loops needed!</p></div></details><h2 id="id-7-6-broadcasting-numpys-superpower" class="relative group"><span class="heading-text">7.6 Broadcasting: NumPy’s Superpower</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-6-broadcasting-numpys-superpower" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Broadcasting allows NumPy to perform operations on arrays of different shapes without explicit loops or data copying. It’s one of NumPy’s most powerful and elegant features.</p><h3 id="the-broadcasting-rules" class="relative group"><span class="heading-text">The Broadcasting Rules</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#the-broadcasting-rules" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Broadcasting follows strict rules to determine how arrays of different shapes can be combined. Understanding these rules is essential for writing efficient NumPy code:</p><figure class=""></figure><p>The rules are:</p><ol start="1"><li>Compare shapes element-wise starting from the rightmost dimension</li><li>Two dimensions are compatible if they’re equal or one is 1</li><li>Arrays with fewer dimensions are padded with 1s on the left</li><li>After broadcasting, each dimension is the maximum of the input dimensions</li></ol><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [195]: # Broadcasting examples
In [196]: arr = np.array([[1, 2, 3],
    ...:                   [4, 5, 6],
    ...:                   [7, 8, 9]])

In [197]: # Scalar broadcasting (scalar is treated as shape ())
In [198]: print(f&quot;Array + 10:\n{arr + 10}&quot;)
Array + 10:
[[11 12 13]
 [14 15 16]
 [17 18 19]]

In [199]: # 1D array broadcasts to each row
In [200]: row_vector = np.array([100, 200, 300])  # Shape: (3,)
In [201]: print(f&quot;Array + row vector:\n{arr + row_vector}&quot;)
Array + row vector:
[[101 202 303]
 [104 205 306]
 [107 208 309]]

In [202]: # Column vector broadcasts to each column
In [203]: col_vector = np.array([[1000],
    ...:                          [2000],
    ...:                          [3000]])  # Shape: (3, 1)
In [204]: print(f&quot;Array + column vector:\n{arr + col_vector}&quot;)
Array + column vector:
[[1001 1002 1003]
 [2004 2005 2006]
 [3007 3008 3009]]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="practical-broadcasting-examples" class="relative group"><span class="heading-text">Practical Broadcasting Examples</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#practical-broadcasting-examples" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Broadcasting makes many scientific calculations elegant and efficient. An important note: broadcasting doesn’t actually copy data in memory - it creates sophisticated views with different strides, making it memory-efficient even for large arrays. This means you can “stretch” a small array to match a large one without memory concerns.</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [205]: # Example: Normalize each column of a matrix independently
In [206]: # Common in machine learning preprocessing
In [207]: data = np.random.randn(100, 3) * [10, 50, 100] + [0, 100, 200]
In [208]: print(f&quot;Original means: {data.mean(axis=0)}&quot;)
In [209]: print(f&quot;Original stds: {data.std(axis=0)}&quot;)
Original means: [  0.234  99.876 200.123]
Original stds: [ 9.987 49.234 98.765]

In [210]: # Subtract mean and divide by std for each column
In [211]: # Broadcasting handles the dimension mismatch automatically
In [212]: normalized = (data - data.mean(axis=0)) / data.std(axis=0)
In [213]: print(f&quot;Normalized means: {normalized.mean(axis=0)}&quot;)  # Should be ~0
In [214]: print(f&quot;Normalized stds: {normalized.std(axis=0)}&quot;)    # Should be ~1
Normalized means: [-1.23e-17  2.45e-17  3.67e-17]
Normalized stds: [1. 1. 1.]

In [215]: # Example: Distance matrix between points
In [216]: # Calculate all pairwise distances efficiently
In [217]: points = np.random.randn(5, 2)  # 5 points in 2D
In [218]: 
In [219]: # Use broadcasting to compute all pairwise differences
In [220]: # Reshape for broadcasting: (5,1,2) - (1,5,2) -&gt; (5,5,2)
In [221]: diff = points[:, np.newaxis, :] - points[np.newaxis, :, :]
In [222]: distances = np.sqrt((diff**2).sum(axis=2))
In [223]: print(f&quot;Distance matrix shape: {distances.shape}&quot;)
In [224]: print(f&quot;Distance from point 0 to point 1: {distances[0,1]:.3f}&quot;)
Distance matrix shape: (5, 5)
Distance from point 0 to point 1: 1.234</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-common-bug-alert-broadcasting-surprises" class="relative group"><span class="heading-text">⚠️ <strong>Common Bug Alert: Broadcasting Surprises</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-common-bug-alert-broadcasting-surprises" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># UNEXPECTED: Broadcasting can hide dimension mismatches
a = np.array([[1, 2, 3]])     # Shape: (1, 3)
b = np.array([[10], [20]])    # Shape: (2, 1)

# This works but might not be what you intended!
try:
    result = a + b  # Broadcasts to (2, 3)
    print(f&quot;Unexpected broadcasting result:\n{result}&quot;)
except ValueError as e:
    print(f&quot;Error: {e}&quot;)
# Output:
# [[11 12 13]
#  [21 22 23]]

# DEFENSIVE: Check shapes when unsure
def safe_add(a, b):
    &quot;&quot;&quot;Add arrays with shape checking.&quot;&quot;&quot;
    if a.shape != b.shape:
        print(f&quot;Warning: Broadcasting {a.shape} and {b.shape}&quot;)
        result_shape = np.broadcast_shapes(a.shape, b.shape)
        print(f&quot;Result will have shape: {result_shape}&quot;)
    return a + b

# EXPLICIT: Use np.newaxis to be clear about intent
row = np.array([1, 2, 3])
col = np.array([10, 20])

# Make broadcasting explicit and intentional
result = row[np.newaxis, :] + col[:, np.newaxis]
print(f&quot;Explicit broadcasting result shape: {result.shape}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h2 id="id-7-7-mathematical-operations-and-linear-algebra" class="relative group"><span class="heading-text">7.7 Mathematical Operations and Linear Algebra</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-7-mathematical-operations-and-linear-algebra" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>NumPy provides comprehensive mathematical functions optimized for arrays, from basic arithmetic to sophisticated linear algebra operations.</p><h3 id="element-wise-mathematics" class="relative group"><span class="heading-text">Element-wise Mathematics</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#element-wise-mathematics" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>All standard mathematical functions are available and vectorized:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [225]: # Trigonometric functions
In [226]: angles = np.linspace(0, 2*np.pi, 5)
In [227]: print(f&quot;Angles (radians): {angles}&quot;)
In [228]: print(f&quot;Sin: {np.sin(angles)}&quot;)
In [229]: print(f&quot;Arcsin of 0.5: {np.arcsin(0.5)} radians&quot;)
Angles (radians): [0.    1.571 3.142 4.712 6.283]
Sin: [ 0.000e+00  1.000e+00  1.225e-16 -1.000e+00 -2.449e-16]
Arcsin of 0.5: 0.524 radians

In [230]: # Exponential and logarithmic functions
In [231]: x = np.array([1, 2, 3])
In [232]: print(f&quot;Exp(x): {np.exp(x)}&quot;)         # e^x
In [233]: print(f&quot;Log(x): {np.log(x)}&quot;)         # Natural log
In [234]: print(f&quot;Log10(x): {np.log10(x)}&quot;)     # Base-10 log
In [235]: print(f&quot;2^x: {np.exp2(x)}&quot;)           # 2^x for information theory
Exp(x): [ 2.718  7.389 20.086]
Log(x): [0.    0.693 1.099]
Log10(x): [0.    0.301 0.477]
2^x: [2. 4. 8.]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="linear-algebra-operations" class="relative group"><span class="heading-text">Linear Algebra Operations</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#linear-algebra-operations" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>NumPy includes a comprehensive linear algebra module crucial for scientific computing:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [236]: # Matrix multiplication - different from element-wise!
In [237]: A = np.array([[1, 2],
    ...:                [3, 4]])
In [238]: B = np.array([[5, 6],
    ...:                [7, 8]])

In [239]: # Element-wise multiplication (Hadamard product)
In [240]: print(f&quot;Element-wise A * B:\n{A * B}&quot;)
Element-wise A * B:
[[ 5 12]
 [21 32]]

In [241]: # True matrix multiplication
In [242]: print(f&quot;Matrix multiplication A @ B:\n{A @ B}&quot;)
In [243]: # Also: np.dot(A, B) or np.matmul(A, B)
Matrix multiplication A @ B:
[[19 22]
 [43 50]]

In [244]: # Essential linear algebra operations
In [245]: matrix = np.array([[3, 1],
    ...:                      [1, 2]])

In [246]: # Determinant
In [247]: det = np.linalg.det(matrix)
In [248]: print(f&quot;Determinant: {det:.3f}&quot;)
Determinant: 5.000

In [249]: # Eigenvalues and eigenvectors
In [250]: eigenvalues, eigenvectors = np.linalg.eig(matrix)
In [251]: print(f&quot;Eigenvalues: {eigenvalues}&quot;)
In [252]: print(f&quot;Eigenvectors:\n{eigenvectors}&quot;)
Eigenvalues: [3.618 1.382]
Eigenvectors:
[[ 0.851 -0.526]
 [ 0.526  0.851]]

In [253]: # Matrix inverse (use with caution!)
In [254]: inverse = np.linalg.inv(matrix)
In [255]: print(f&quot;Inverse:\n{inverse}&quot;)
In [256]: print(f&quot;Check A @ A^(-1):\n{matrix @ inverse}&quot;)  # Should be identity
Inverse:
[[ 0.4 -0.2]
 [-0.2  0.6]]
Check A @ A^(-1):
[[1. 0.]
 [0. 1.]]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="numerical-stability-considerations" class="relative group"><span class="heading-text">Numerical Stability Considerations</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#numerical-stability-considerations" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Not all mathematically correct operations are numerically stable. Understanding this is crucial for scientific computing:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [257]: # Example: Solving linear systems Ax = b
In [258]: A = np.array([[3, 1],
    ...:                [1, 2]])
In [259]: b = np.array([9, 8])

In [260]: # Method 1: Using inverse (NOT RECOMMENDED)
In [261]: x_inverse = np.linalg.inv(A) @ b
In [262]: print(f&quot;Solution using inverse: {x_inverse}&quot;)
Solution using inverse: [2. 3.]

In [263]: # Method 2: Using solve (RECOMMENDED)
In [264]: x_solve = np.linalg.solve(A, b)
In [265]: print(f&quot;Solution using solve: {x_solve}&quot;)
Solution using solve: [2. 3.]

In [266]: # Why solve is better: check condition number
In [267]: cond = np.linalg.cond(A)
In [268]: print(f&quot;Condition number: {cond:.2f}&quot;)
Condition number: 2.62

# Small condition number = stable
# Large condition number (&gt;1000) = potentially unstable

In [269]: # Example of numerical instability
In [270]: # Ill-conditioned matrix (nearly singular)
In [271]: A_bad = np.array([[1.0, 1.0],
    ...:                     [1.0, 1.0000001]])  # Almost singular!
In [272]: print(f&quot;Condition number: {np.linalg.cond(A_bad):.2e}&quot;)
Condition number: 4.00e+07  # Huge! Very unstable

# Small input errors lead to large output errors with ill-conditioned matrices</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-computational-thinking-box-numerical-stability" class="relative group"><span class="heading-text">📦 <strong>Computational Thinking Box: Numerical Stability</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-computational-thinking-box-numerical-stability" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">PATTERN: Numerical Stability in Scientific Computing

Not all mathematically equivalent formulations are numerically equal.
Floating-point arithmetic has finite precision, and errors accumulate.

Classic Example: Variance calculation
Mathematically: Var(X) = E[X²] - E[X]²
But this can suffer from catastrophic cancellation!

# Naive implementation (unstable)
def variance_naive(x):
    return np.mean(x**2) - np.mean(x)**2

# Stable implementation (what NumPy uses)
def variance_stable(x):
    mean = np.mean(x)
    return np.mean((x - mean)**2)

# Test with data that has large mean, small variance
data = np.random.randn(1000) * 0.01 + 1e6  # Mean=1e6, std=0.01
print(f&quot;Naive: {variance_naive(data):.6f}&quot;)    # Can be negative!
print(f&quot;Stable: {variance_stable(data):.6f}&quot;)   # Always correct
print(f&quot;NumPy: {np.var(data):.6f}&quot;)            # Uses stable algorithm

Key principles:
1. Avoid subtracting large similar numbers
2. Use library functions (they implement stable algorithms)
3. Check condition numbers for linear algebra
4. Be aware of accumulation order for sums
5. Use higher precision when necessary

This is why we use NumPy/SciPy functions instead of 
reimplementing algorithms from textbooks!</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h2 id="id-7-8-when-numpy-isnt-the-right-tool" class="relative group"><span class="heading-text">7.8 When NumPy Isn’t the Right Tool</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-8-when-numpy-isnt-the-right-tool" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>While NumPy is powerful, it’s important to know when other tools are more appropriate:</p><h3 id="when-to-use-other-tools" class="relative group"><span class="heading-text">When to Use Other Tools</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#when-to-use-other-tools" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># 1. HETEROGENEOUS DATA: Use Pandas for mixed types
# NumPy requires homogeneous data
stellar_data_mixed = {
    &#x27;name&#x27;: [&#x27;Sirius&#x27;, &#x27;Vega&#x27;, &#x27;Altair&#x27;],  # Strings
    &#x27;magnitude&#x27;: [-1.46, 0.03, 0.77],       # Floats
    &#x27;observed&#x27;: [True, True, False],        # Booleans
    &#x27;notes&#x27;: [&#x27;Binary star&#x27;, None, &#x27;Fast rotator&#x27;]  # Mixed
}
# This is awkward in NumPy, natural in Pandas
import pandas as pd
df = pd.DataFrame(stellar_data_mixed)

# 2. SPARSE DATA: Use scipy.sparse for mostly-zero matrices
# NumPy stores all zeros explicitly
from scipy import sparse
# If your matrix is 99% zeros, don&#x27;t use NumPy!
sparse_matrix = sparse.random(10000, 10000, density=0.01)
print(f&quot;Dense size: {10000*10000*8 / 1e9:.2f} GB&quot;)  # 0.80 GB
print(f&quot;Sparse size: ~{0.01*10000*10000*8 / 1e9:.3f} GB&quot;)  # ~0.008 GB

# 3. SYMBOLIC MATH: Use SymPy for algebraic manipulation
from sympy import symbols, expand
x, y = symbols(&#x27;x y&#x27;)
expression = expand((x + y)**2)  # x**2 + 2*x*y + y**2
# NumPy can&#x27;t do symbolic algebra!

# 4. GRAPHS/NETWORKS: Use NetworkX for graph algorithms
# NumPy adjacency matrices become unwieldy for graph operations

# 5. VARIABLE-LENGTH SEQUENCES: Use Python lists
# NumPy requires fixed dimensions
variable_sequences = [
    [1, 2, 3],
    [4, 5],
    [6, 7, 8, 9]
]  # Can&#x27;t efficiently represent in NumPy

# 6. SMALL DATA: Pure Python might be faster!
# NumPy has overhead; for &lt;100 elements, Python can be faster
small_list = [1, 2, 3, 4, 5]
# sum(small_list) might beat np.array(small_list).sum()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="decision-guide" class="relative group"><span class="heading-text">Decision Guide</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#decision-guide" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def choose_data_structure(data_characteristics):
    &quot;&quot;&quot;
    Guide for choosing the right tool for your data.
    &quot;&quot;&quot;
    if data_characteristics[&#x27;homogeneous&#x27;] and data_characteristics[&#x27;numerical&#x27;]:
        if data_characteristics[&#x27;size&#x27;] &gt; 100:
            if data_characteristics[&#x27;dense&#x27;]:
                return &quot;NumPy array&quot;
            else:
                return &quot;scipy.sparse matrix&quot;
        else:
            return &quot;Python list might be sufficient&quot;
    elif data_characteristics[&#x27;tabular&#x27;] and data_characteristics[&#x27;mixed_types&#x27;]:
        return &quot;Pandas DataFrame&quot;
    elif data_characteristics[&#x27;symbolic&#x27;]:
        return &quot;SymPy expressions&quot;
    elif data_characteristics[&#x27;graph_structure&#x27;]:
        return &quot;NetworkX graph&quot;
    else:
        return &quot;Python native structures&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h2 id="id-7-9-advanced-topics-optional" class="relative group"><span class="heading-text">7.9 Advanced Topics (Optional)</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-9-advanced-topics-optional" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>The following sections cover specialized NumPy features that you may encounter in existing code or need for specific use cases. Feel free to skip these on first reading and return when you need them.</p><h3 id="structured-arrays-numpys-tabular-data" class="relative group"><span class="heading-text">Structured Arrays: NumPy’s Tabular Data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#structured-arrays-numpys-tabular-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Before pandas became the standard for tabular data in Python, NumPy provided structured arrays as a way to handle heterogeneous data. While most modern code uses pandas DataFrames for mixed-type tabular data, structured arrays still have specific use cases where they excel.</p><p><strong>When to use structured arrays:</strong></p><ul><li>You need the absolute minimum memory footprint for millions of records</li><li>You’re interfacing with C/Fortran code that expects structured data</li><li>You’re working with memory-mapped files that need fixed record layouts</li><li>You want to stay within pure NumPy without pandas dependencies</li></ul><p><strong>When to use alternatives instead:</strong></p><ul><li><strong>Pandas DataFrames</strong>: For any complex data manipulation, joining, grouping, or analysis (99% of cases)</li><li><strong>Lists of dicts</strong>: For small datasets where convenience matters more than performance</li><li><strong>Custom classes</strong>: When you need methods and complex behavior with your data</li></ul><p>Here’s how structured arrays work and when they might be useful:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Structured arrays store heterogeneous data efficiently
import numpy as np

# Define the structure of each record
star_dtype = np.dtype([
    (&#x27;name&#x27;, &#x27;U20&#x27;),        # Unicode string, max 20 chars
    (&#x27;ra&#x27;, &#x27;f8&#x27;),           # Right ascension (float64) in degrees
    (&#x27;dec&#x27;, &#x27;f8&#x27;),          # Declination (float64) in degrees  
    (&#x27;magnitude&#x27;, &#x27;f4&#x27;),    # Apparent magnitude (float32)
    (&#x27;distance&#x27;, &#x27;f4&#x27;),     # Distance in parsecs
])

# Create structured array - data stored contiguously in memory
stars = np.array([
    (&#x27;Sirius&#x27;, 101.287, -16.716, -1.46, 2.64),
    (&#x27;Canopus&#x27;, 95.988, -52.696, -0.74, 95.0),
    (&#x27;Arcturus&#x27;, 213.915, 19.182, -0.05, 11.26),
], dtype=star_dtype)

# Access fields with bracket notation
print(stars[&#x27;name&#x27;])      # [&#x27;Sirius&#x27; &#x27;Canopus&#x27; &#x27;Arcturus&#x27;]
print(stars[&#x27;magnitude&#x27;])  # [-1.46 -0.74 -0.05]

# NumPy operations work directly on fields
bright_stars = stars[stars[&#x27;magnitude&#x27;] &lt; 0]
abs_mag = stars[&#x27;magnitude&#x27;] - 5*np.log10(stars[&#x27;distance&#x27;]) + 5

# Compare with alternatives:

# 1. Pandas DataFrame (most convenient for analysis)
import pandas as pd
df = pd.DataFrame({
    &#x27;name&#x27;: [&#x27;Sirius&#x27;, &#x27;Canopus&#x27;, &#x27;Arcturus&#x27;],
    &#x27;ra&#x27;: [101.287, 95.988, 213.915],
    &#x27;dec&#x27;: [-16.716, -52.696, 19.182],
    &#x27;magnitude&#x27;: [-1.46, -0.74, -0.05],
    &#x27;distance&#x27;: [2.64, 95.0, 11.26]
})
# Rich functionality but more memory overhead
bright_df = df[df[&#x27;magnitude&#x27;] &lt; 0]

# 2. List of dictionaries (most Pythonic for small data)
stars_dicts = [
    {&#x27;name&#x27;: &#x27;Sirius&#x27;, &#x27;ra&#x27;: 101.287, &#x27;dec&#x27;: -16.716, &#x27;magnitude&#x27;: -1.46},
    {&#x27;name&#x27;: &#x27;Canopus&#x27;, &#x27;ra&#x27;: 95.988, &#x27;dec&#x27;: -52.696, &#x27;magnitude&#x27;: -0.74},
]
# Flexible but slow for large datasets

# Memory comparison for 1 million stars:
# Structured array: ~40 MB (compact, fixed layout)
# Pandas DataFrame: ~100+ MB (flexible, rich features)
# List of dicts: ~400+ MB (maximum flexibility, poor performance)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p><strong>Record Arrays</strong>: A variant of structured arrays that allows attribute-style access using dot notation. They’re essentially structured arrays with syntactic sugar:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Convert to record array for attribute access
rec_stars = np.rec.fromarrays(
    [stars[&#x27;name&#x27;], stars[&#x27;ra&#x27;], stars[&#x27;dec&#x27;]], 
    names=&#x27;name,ra,dec&#x27;
)
print(rec_stars.name)  # Attribute style - convenient but ~10% slower
print(rec_stars[&#x27;name&#x27;])  # Still works

# In practice, if you want attribute access, use pandas:
print(df.name)  # Pandas provides this naturally with more features</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>The bottom line: structured arrays are a specialized tool. For learning NumPy, understanding regular arrays is far more important. You’ll rarely create structured arrays in new code, but you might encounter them when reading data from binary files or working with legacy scientific codebases.</p><h3 id="memory-mapped-arrays-for-huge-datasets" class="relative group"><span class="heading-text">Memory-Mapped Arrays for Huge Datasets</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#memory-mapped-arrays-for-huge-datasets" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>When working with datasets larger than your RAM (common in astronomy), memory-mapped arrays let you work with data stored on disk as if it were in memory:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create a memory-mapped array on disk
# Useful when data doesn&#x27;t fit in RAM
filename = &#x27;large_data.dat&#x27;
shape = (1000000, 1000)  # 1 million x 1000 array
dtype = np.float32

# Create and write to memory-mapped array
mmap_array = np.memmap(filename, dtype=dtype, mode=&#x27;w+&#x27;, shape=shape)

# Only accessed parts are loaded into RAM
mmap_array[0, :] = np.arange(1000)  # Only this row in memory
mmap_array[999999, :] = np.arange(1000, 2000)  # And now this row

# Ensure data written to disk
del mmap_array  # Flush and close

# Later, read the memory-mapped file
readonly_mmap = np.memmap(filename, dtype=dtype, mode=&#x27;r&#x27;, shape=shape)
print(readonly_mmap[0, 0])  # Only loads what&#x27;s needed

# Clean up
import os
os.remove(filename)

# This is invaluable for:
# - Large astronomical images that don&#x27;t fit in memory
# - Time series data from long observations
# - Simulation outputs that are generated incrementally</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="modern-random-number-generation" class="relative group"><span class="heading-text">Modern Random Number Generation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#modern-random-number-generation" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>NumPy 1.17+ introduced an improved random number API that’s better for reproducible science and parallel computing. You’ll see both the old and new approaches in existing code:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [326]: # Old way (still widely used in existing code)
In [327]: np.random.seed(42)
In [328]: old_random = np.random.randn(5)

In [329]: # New way - better for parallel computing and cleaner design
In [330]: rng = np.random.default_rng(seed=42)  # Create generator object
In [331]: new_random = rng.standard_normal(5)   # Use generator methods

In [332]: print(f&quot;Old API: {old_random}&quot;)
In [333]: print(f&quot;New API: {new_random}&quot;)
Old API: [ 0.496  0.861  0.697 -0.817  0.673]
New API: [ 0.308 -1.299  1.966  0.404  0.224]

In [334]: # Why use the new API for new code?
In [335]: # 1. Better statistical properties (improved algorithms)
In [336]: # 2. Thread-safe for parallel computing
In [337]: # 3. Can create independent random streams easily
In [338]: rng1 = np.random.default_rng(seed=42)
In [339]: rng2 = np.random.default_rng(seed=43)
In [340]: # rng1 and rng2 produce independent, reproducible streams

# Both APIs will coexist for years - know both!</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h2 id="id-7-11-common-pitfalls-and-debugging" class="relative group"><span class="heading-text">7.11 Common Pitfalls and Debugging</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-11-common-pitfalls-and-debugging" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="the-view-vs-copy-confusion" class="relative group"><span class="heading-text">The View vs Copy Confusion</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#the-view-vs-copy-confusion" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># PITFALL: Not knowing when you have a view
arr = np.arange(10)
subset = arr[2:5]  # This is a VIEW
subset[0] = 999
print(arr)  # [0 1 999 3 4 5 6 7 8 9] - Original changed!

# SOLUTION: Be explicit about views and copies
subset_copy = arr[2:5].copy()  # Explicit copy
subset_view = arr[2:5]  # Clear that it&#x27;s a view</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="integer-division-changes" class="relative group"><span class="heading-text">Integer Division Changes</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#integer-division-changes" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># PITFALL: Integer division behavior
arr = np.array([1, 2, 3, 4, 5])

# In Python 3, / always gives float
result1 = arr / 2
print(result1.dtype)  # float64

# Use // for integer division
result2 = arr // 2
print(result2.dtype)  # int64

# Be explicit about dtype when needed
result3 = (arr / 2).astype(int)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="broadcasting-errors" class="relative group"><span class="heading-text">Broadcasting Errors</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#broadcasting-errors" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># PITFALL: Unexpected broadcasting
a = np.ones((3, 3))
b = np.array([1, 2, 3, 4])  # Wrong size!

try:
    c = a + b
except ValueError as e:
    print(f&quot;Error: {e}&quot;)
    # operands could not be broadcast together with shapes (3,3) (4,)

# SOLUTION: Check shapes before operations
def debug_broadcasting(a, b):
    &quot;&quot;&quot;Helper to understand broadcasting.&quot;&quot;&quot;
    print(f&quot;a.shape: {a.shape}&quot;)
    print(f&quot;b.shape: {b.shape}&quot;)
    try:
        result_shape = np.broadcast_shapes(a.shape, b.shape)
        print(f&quot;Result shape: {result_shape}&quot;)
    except ValueError:
        print(&quot;Cannot broadcast these shapes!&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-debug-this" class="relative group"><span class="heading-text">🛠️ <strong>Debug This!</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-debug-this" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>This code has a subtle bug. Can you find it?</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def normalize_columns(data):
    &quot;&quot;&quot;Normalize each column to have mean=0, std=1.&quot;&quot;&quot;
    for col in range(data.shape[1]):
        data[:, col] -= data[:, col].mean()
        data[:, col] /= data[:, col].std()
    return data

# Test it
test_data = np.array([[1.0, 100.0],
                       [2.0, 200.0],
                       [3.0, 300.0]])
                       
normalized = normalize_columns(test_data)
print(f&quot;Original data:\n{test_data}&quot;)
print(f&quot;Normalized:\n{normalized}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Bug and Solution</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><p><strong>Bug</strong>: The function modifies the input array in-place but also returns it, which is confusing. Worse, the original data is lost! After calling the function, both <code>test_data</code> and <code>normalized</code> point to the same modified array.</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">print(test_data is normalized)  # True - same object!</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p><strong>Solutions</strong>:</p><p>Option 1: Work on a copy (preserve original)</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def normalize_columns_safe(data):
    &quot;&quot;&quot;Normalize columns without modifying input.&quot;&quot;&quot;
    result = data.copy()  # Work on copy
    for col in range(result.shape[1]):
        col_data = result[:, col]
        result[:, col] = (col_data - col_data.mean()) / col_data.std()
    return result</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Option 2: Make in-place operation explicit</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def normalize_columns_inplace(data):
    &quot;&quot;&quot;Normalize columns in-place. Returns None to signal in-place.&quot;&quot;&quot;
    for col in range(data.shape[1]):
        col_data = data[:, col]
        data[:, col] = (col_data - col_data.mean()) / col_data.std()
    # Don&#x27;t return anything for in-place operations</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Option 3: Use vectorization (best!)</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def normalize_columns_vectorized(data):
    &quot;&quot;&quot;Vectorized normalization - fastest and clearest.&quot;&quot;&quot;
    return (data - data.mean(axis=0)) / data.std(axis=0)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>The vectorized version is not only faster but also automatically returns a new array, avoiding the confusion entirely.</p></div></details><h2 id="id-7-12-working-with-scientific-data-formats-optional" class="relative group"><span class="heading-text">7.12 Working with Scientific Data Formats (Optional)</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-12-working-with-scientific-data-formats-optional" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>While we’ll cover these in more detail later, here’s a brief introduction to common scientific data formats:</p><h3 id="hdf5-for-large-datasets" class="relative group"><span class="heading-text">HDF5 for Large Datasets</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#hdf5-for-large-datasets" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>HDF5 is ideal for large, complex scientific datasets:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Basic HDF5 usage with h5py
import h5py

# Create HDF5 file with datasets
with h5py.File(&#x27;scientific_data.h5&#x27;, &#x27;w&#x27;) as f:
    # Create datasets
    f.create_dataset(&#x27;temperature&#x27;, data=np.random.randn(1000, 1000))
    f.create_dataset(&#x27;pressure&#x27;, data=np.random.randn(1000, 1000))
    
    # Add metadata as attributes
    f[&#x27;temperature&#x27;].attrs[&#x27;units&#x27;] = &#x27;Kelvin&#x27;
    f[&#x27;temperature&#x27;].attrs[&#x27;date&#x27;] = &#x27;2024-01-15&#x27;

# Read HDF5 file
with h5py.File(&#x27;scientific_data.h5&#x27;, &#x27;r&#x27;) as f:
    temp = f[&#x27;temperature&#x27;][:]  # Load into NumPy array
    print(f&quot;Temperature shape: {temp.shape}&quot;)
    print(f&quot;Units: {f[&#x27;temperature&#x27;].attrs[&#x27;units&#x27;]}&quot;)

# Clean up
import os
os.remove(&#x27;scientific_data.h5&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="fits-for-astronomical-data" class="relative group"><span class="heading-text">FITS for Astronomical Data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#fits-for-astronomical-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>FITS (Flexible Image Transport System) is the standard for astronomical data:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Basic FITS usage with astropy (when available)
try:
    from astropy.io import fits
    
    # Create FITS file
    data = np.random.randn(512, 512)  # Simulated image
    hdu = fits.PrimaryHDU(data)
    hdu.header[&#x27;OBSERVER&#x27;] = &#x27;Your Name&#x27;
    hdu.header[&#x27;EXPTIME&#x27;] = 300.0  # Exposure time in seconds
    
    # Write and read
    hdu.writeto(&#x27;test.fits&#x27;, overwrite=True)
    
    # Read FITS file
    with fits.open(&#x27;test.fits&#x27;) as hdul:
        image = hdul[0].data  # NumPy array
        header = hdul[0].header
        print(f&quot;Image shape: {image.shape}&quot;)
        print(f&quot;Exposure time: {header[&#x27;EXPTIME&#x27;]} seconds&quot;)
    
    # Clean up
    os.remove(&#x27;test.fits&#x27;)
    
except ImportError:
    print(&quot;astropy not installed - FITS example skipped&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>These formats integrate seamlessly with NumPy arrays, making them ideal for scientific data storage and exchange.</p><h2 id="practice-exercises" class="relative group"><span class="heading-text">Practice Exercises</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#practice-exercises" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="exercise-7-1-implement-moving-average" class="relative group"><span class="heading-text">Exercise 7.1: Implement Moving Average</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-7-1-implement-moving-average" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Create a function that computes a moving average efficiently:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">&quot;&quot;&quot;
Implement a moving average function that:
1. Takes a 1D array and window size
2. Returns array of moving averages
3. Handles edge cases appropriately
4. Is vectorized (no Python loops)

Example:
data = [1, 2, 3, 4, 5]
window = 3
result = [1.5, 2, 3, 4, 4.5]  # Edges handled with smaller windows

Hint: Consider np.convolve or cumulative sum approach
&quot;&quot;&quot;

def moving_average(data, window_size):
    &quot;&quot;&quot;
    Compute moving average using vectorization.
    
    Parameters
    ----------
    data : array-like
        Input data
    window_size : int
        Size of moving window
    
    Returns
    -------
    array
        Moving averages
    &quot;&quot;&quot;
    # Your implementation here
    pass

# Test cases
test_data = np.random.randn(1000)
ma = moving_average(test_data, 10)
assert len(ma) == len(test_data), &quot;Output length should match input&quot;
assert np.isfinite(ma).all(), &quot;All values should be finite&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="exercise-7-2-image-processing-with-broadcasting" class="relative group"><span class="heading-text">Exercise 7.2: Image Processing with Broadcasting</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-7-2-image-processing-with-broadcasting" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Implement image transformations using broadcasting:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">&quot;&quot;&quot;
Create functions for basic image processing:
1. Brightness adjustment (add constant to all pixels)
2. Contrast adjustment (multiply all pixels)
3. Gamma correction (power transformation)
4. RGB to grayscale conversion

Work with images as arrays where:
- Grayscale: (height, width)
- RGB: (height, width, 3)

Use broadcasting to avoid loops!
&quot;&quot;&quot;

def adjust_brightness(image, delta):
    &quot;&quot;&quot;
    Adjust brightness by adding delta.
    Ensure result stays in valid range [0, 1].
    &quot;&quot;&quot;
    # Your implementation here
    pass

def adjust_gamma(image, gamma):
    &quot;&quot;&quot;
    Apply gamma correction: out = in^gamma
    Handles negative values properly.
    &quot;&quot;&quot;
    # Your implementation here
    pass

def rgb_to_grayscale(rgb_image):
    &quot;&quot;&quot;
    Convert RGB to grayscale using standard weights:
    gray = 0.299*R + 0.587*G + 0.114*B
    &quot;&quot;&quot;
    # Your implementation here
    pass

# Test with synthetic image
test_rgb = np.random.rand(100, 100, 3)
gray = rgb_to_grayscale(test_rgb)
assert gray.shape == (100, 100), &quot;Should be 2D grayscale&quot;
assert 0 &lt;= gray.min() and gray.max() &lt;= 1, &quot;Should be in [0,1] range&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="exercise-7-3-optimize-star-catalog-operations" class="relative group"><span class="heading-text">Exercise 7.3: Optimize Star Catalog Operations</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-7-3-optimize-star-catalog-operations" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Compare different approaches for astronomical calculations:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">&quot;&quot;&quot;
Given a star catalog with positions and magnitudes,
implement these operations multiple ways and compare performance:

1. Find all stars within a given angular distance from a point
2. Calculate total flux from all stars (flux = 10^(-0.4 * magnitude))
3. Find the brightest N stars in a region

Implement using:
a) Pure Python loops (baseline)
b) NumPy vectorization
c) Boolean masking

Measure performance differences.
&quot;&quot;&quot;

# Generate synthetic catalog
n_stars = 100000
catalog = {
    &#x27;ra&#x27;: np.random.uniform(0, 360, n_stars),      # Right ascension (degrees)
    &#x27;dec&#x27;: np.random.uniform(-90, 90, n_stars),    # Declination (degrees)
    &#x27;mag&#x27;: np.random.uniform(-1, 20, n_stars)      # Magnitude
}

def angular_distance(ra1, dec1, ra2, dec2):
    &quot;&quot;&quot;
    Calculate angular distance between points on sphere.
    Uses haversine formula for numerical stability.
    &quot;&quot;&quot;
    # Convert to radians
    ra1, dec1, ra2, dec2 = map(np.radians, [ra1, dec1, ra2, dec2])
    
    # Haversine formula
    dra = ra2 - ra1
    ddec = dec2 - dec1
    a = np.sin(ddec/2)**2 + np.cos(dec1) * np.cos(dec2) * np.sin(dra/2)**2
    c = 2 * np.arcsin(np.sqrt(a))
    
    return np.degrees(c)

def find_nearby_stars_loop(catalog, ra_center, dec_center, radius):
    &quot;&quot;&quot;Pure Python implementation.&quot;&quot;&quot;
    # Your implementation here
    pass

def find_nearby_stars_numpy(catalog, ra_center, dec_center, radius):
    &quot;&quot;&quot;Vectorized NumPy implementation.&quot;&quot;&quot;
    # Your implementation here
    pass

# Compare performance
import time
# Your timing code here</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="exercise-7-4-memory-efficient-large-array-processing" class="relative group"><span class="heading-text">Exercise 7.4: Memory-Efficient Large Array Processing</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-7-4-memory-efficient-large-array-processing" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Work with arrays too large to fit in memory:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">&quot;&quot;&quot;
Process a large dataset in chunks to avoid memory issues:

1. Create a large dataset (simulate with smaller array)
2. Process in chunks of fixed size
3. Combine results appropriately

Example task: Calculate statistics for a 10GB array
on a machine with 4GB RAM.

Implement:
- Chunked mean calculation
- Chunked standard deviation (trickier!)
- Chunked percentiles
&quot;&quot;&quot;

def chunked_mean(data_generator, chunk_size=1000000):
    &quot;&quot;&quot;
    Calculate mean of data that comes in chunks.
    Uses numerically stable online algorithm.
    &quot;&quot;&quot;
    total_sum = 0.0
    total_count = 0
    
    for chunk in data_generator:
        # Your implementation here
        pass
    
    return total_sum / total_count if total_count &gt; 0 else 0.0

def chunked_std(data_generator, chunk_size=1000000):
    &quot;&quot;&quot;
    Calculate standard deviation in chunks.
    Uses Welford&#x27;s online algorithm for numerical stability.
    &quot;&quot;&quot;
    n = 0
    mean = 0.0
    M2 = 0.0
    
    for chunk in data_generator:
        # Your implementation here
        # Hint: Update mean and M2 incrementally
        pass
    
    return np.sqrt(M2 / n) if n &gt; 1 else 0.0

# Test with generator that simulates large data
def data_generator(total_size, chunk_size):
    &quot;&quot;&quot;Generate random data in chunks.&quot;&quot;&quot;
    n_chunks = total_size // chunk_size
    for _ in range(n_chunks):
        yield np.random.randn(chunk_size)
    
    remainder = total_size % chunk_size
    if remainder:
        yield np.random.randn(remainder)

# Verify your implementation
total = 10000000  # 10 million points
gen = data_generator(total, chunk_size=100000)
mean = chunked_mean(gen)
print(f&quot;Chunked mean: {mean:.6f} (should be ~0)&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h2 id="key-takeaways" class="relative group"><span class="heading-text">Key Takeaways</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#key-takeaways" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>✅ <strong>NumPy arrays are fundamentally different from Python lists</strong> - They store homogeneous data in contiguous memory blocks, enabling 10-100x performance improvements through vectorized operations in compiled C code.</p><p>✅ <strong>Vectorization is the key mental shift</strong> - Think in terms of operations on entire arrays, not individual elements. This leverages CPU vector instructions and eliminates Python interpreter overhead.</p><p>✅ <strong>Broadcasting enables elegant code</strong> - Operations between arrays of different shapes follow simple rules, eliminating explicit loops while maintaining memory efficiency.</p><p>✅ <strong>Views vs copies matter for correctness and performance</strong> - Basic slicing creates views (shared memory), while fancy indexing creates copies. Understanding this prevents bugs and memory issues.</p><p>✅ <strong>Data types affect both memory and precision</strong> - Choose float32 for speed/memory with acceptable precision loss, float64 for accuracy, and appropriate integer types for counting and indexing.</p><p>✅ <strong>Memory layout impacts performance</strong> - Row-major (C) vs column-major (Fortran) ordering affects cache efficiency. Access patterns should match memory layout for optimal performance.</p><p>✅ <strong>Numerical stability matters</strong> - Not all mathematically equivalent operations are numerically stable. Use library functions that implement stable algorithms.</p><p>✅ <strong>NumPy isn’t always the answer</strong> - Use pandas for heterogeneous data, scipy.sparse for sparse matrices, and native Python for small datasets or variable-length sequences.</p><p>✅ <strong>NumPy is the foundation</strong> - Every major scientific Python library builds on NumPy. Understanding NumPy deeply means understanding the entire ecosystem.</p><h2 id="quick-reference-tables" class="relative group"><span class="heading-text">Quick Reference Tables</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#quick-reference-tables" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="array-creation-functions" class="relative group"><span class="heading-text">Array Creation Functions</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#array-creation-functions" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><table class=""><tbody><tr class=""><th class="">Function</th><th class="">Purpose</th><th class="">Example</th></tr><tr class=""><td class=""><code>np.array()</code></td><td class="">From Python sequence</td><td class=""><code>np.array([1, 2, 3])</code></td></tr><tr class=""><td class=""><code>np.zeros()</code></td><td class="">Initialize with zeros</td><td class=""><code>np.zeros((3, 4))</code></td></tr><tr class=""><td class=""><code>np.ones()</code></td><td class="">Initialize with ones</td><td class=""><code>np.ones((2, 3))</code></td></tr><tr class=""><td class=""><code>np.empty()</code></td><td class="">Uninitialized (fast but dangerous)</td><td class=""><code>np.empty((2, 2))</code></td></tr><tr class=""><td class=""><code>np.arange()</code></td><td class="">Range of values</td><td class=""><code>np.arange(0, 10, 2)</code></td></tr><tr class=""><td class=""><code>np.linspace()</code></td><td class="">N evenly spaced points</td><td class=""><code>np.linspace(0, 1, 11)</code></td></tr><tr class=""><td class=""><code>np.logspace()</code></td><td class="">Log-spaced values</td><td class=""><code>np.logspace(0, 3, 4)</code></td></tr><tr class=""><td class=""><code>np.eye()</code></td><td class="">Identity matrix</td><td class=""><code>np.eye(3)</code></td></tr><tr class=""><td class=""><code>np.random.rand()</code></td><td class="">Uniform [0,1)</td><td class=""><code>np.random.rand(3, 3)</code></td></tr><tr class=""><td class=""><code>np.random.randn()</code></td><td class="">Standard normal</td><td class=""><code>np.random.randn(3, 3)</code></td></tr></tbody></table><h3 id="essential-array-attributes" class="relative group"><span class="heading-text">Essential Array Attributes</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#essential-array-attributes" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><table class=""><tbody><tr class=""><th class="">Attribute</th><th class="">Description</th><th class="">Example Output</th></tr><tr class=""><td class=""><code>.shape</code></td><td class="">Dimensions</td><td class=""><code>(3, 4)</code></td></tr><tr class=""><td class=""><code>.ndim</code></td><td class="">Number of dimensions</td><td class=""><code>2</code></td></tr><tr class=""><td class=""><code>.size</code></td><td class="">Total elements</td><td class=""><code>12</code></td></tr><tr class=""><td class=""><code>.dtype</code></td><td class="">Data type</td><td class=""><code>dtype(&#x27;float64&#x27;)</code></td></tr><tr class=""><td class=""><code>.nbytes</code></td><td class="">Total bytes</td><td class=""><code>96</code></td></tr><tr class=""><td class=""><code>.T</code></td><td class="">Transpose</td><td class="">Array view</td></tr><tr class=""><td class=""><code>.flags</code></td><td class="">Memory layout info</td><td class="">Dict of flags</td></tr><tr class=""><td class=""><code>.base</code></td><td class="">Base array if view</td><td class="">Array or None</td></tr></tbody></table><h3 id="common-array-methods" class="relative group"><span class="heading-text">Common Array Methods</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#common-array-methods" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><table class=""><tbody><tr class=""><th class="">Method</th><th class="">Purpose</th><th class="">Example</th></tr><tr class=""><td class=""><code>.reshape()</code></td><td class="">Change dimensions</td><td class=""><code>arr.reshape(2, 3)</code></td></tr><tr class=""><td class=""><code>.flatten()</code></td><td class="">To 1D copy</td><td class=""><code>arr.flatten()</code></td></tr><tr class=""><td class=""><code>.ravel()</code></td><td class="">To 1D view/copy</td><td class=""><code>arr.ravel()</code></td></tr><tr class=""><td class=""><code>.transpose()</code></td><td class="">Swap axes</td><td class=""><code>arr.transpose()</code></td></tr><tr class=""><td class=""><code>.sum()</code></td><td class="">Sum elements</td><td class=""><code>arr.sum(axis=0)</code></td></tr><tr class=""><td class=""><code>.mean()</code></td><td class="">Average</td><td class=""><code>arr.mean()</code></td></tr><tr class=""><td class=""><code>.std()</code></td><td class="">Standard deviation</td><td class=""><code>arr.std()</code></td></tr><tr class=""><td class=""><code>.min()/.max()</code></td><td class="">Extrema</td><td class=""><code>arr.max()</code></td></tr><tr class=""><td class=""><code>.argmin()/.argmax()</code></td><td class="">Index of extrema</td><td class=""><code>arr.argmax()</code></td></tr><tr class=""><td class=""><code>.sort()</code></td><td class="">Sort in-place</td><td class=""><code>arr.sort()</code></td></tr><tr class=""><td class=""><code>.copy()</code></td><td class="">Deep copy</td><td class=""><code>arr.copy()</code></td></tr></tbody></table><h3 id="broadcasting-rules-quick-reference" class="relative group"><span class="heading-text">Broadcasting Rules Quick Reference</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#broadcasting-rules-quick-reference" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><table class=""><tbody><tr class=""><th class="">Shape A</th><th class="">Shape B</th><th class="">Result</th><th class="">Rule Applied</th></tr><tr class=""><td class=""><code>(3,)</code></td><td class=""><code>()</code></td><td class=""><code>(3,)</code></td><td class="">Scalar broadcasts</td></tr><tr class=""><td class=""><code>(3, 4)</code></td><td class=""><code>(4,)</code></td><td class=""><code>(3, 4)</code></td><td class="">1D broadcasts to rows</td></tr><tr class=""><td class=""><code>(3, 4)</code></td><td class=""><code>(3, 1)</code></td><td class=""><code>(3, 4)</code></td><td class="">Column broadcasts</td></tr><tr class=""><td class=""><code>(3, 1, 4)</code></td><td class=""><code>(1, 5, 4)</code></td><td class=""><code>(3, 5, 4)</code></td><td class="">Both broadcast</td></tr><tr class=""><td class=""><code>(3, 4)</code></td><td class=""><code>(2, 3, 4)</code></td><td class=""><code>(2, 3, 4)</code></td><td class="">Smaller adds dimensions</td></tr><tr class=""><td class=""><code>(3, 4)</code></td><td class=""><code>(5, 4)</code></td><td class="">Error!</td><td class="">Incompatible shapes</td></tr></tbody></table><h2 id="debugging-checklist" class="relative group"><span class="heading-text">Debugging Checklist</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#debugging-checklist" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>When NumPy code doesn’t work as expected:</p><ol start="1"><li><strong>Check shapes</strong>: <code>print(f&quot;Shape: {arr.shape}&quot;)</code></li><li><strong>Check dtype</strong>: <code>print(f&quot;Dtype: {arr.dtype}&quot;)</code></li><li><strong>Check if view or copy</strong>: <code>print(f&quot;Owns data: {arr.flags[&#x27;OWNDATA&#x27;]}&quot;)</code></li><li><strong>Check for NaN/Inf</strong>: <code>print(f&quot;Has NaN: {np.isnan(arr).any()}&quot;)</code></li><li><strong>Check memory layout</strong>: <code>print(f&quot;C-contiguous: {arr.flags[&#x27;C_CONTIGUOUS&#x27;]}&quot;)</code></li><li><strong>Check broadcasting</strong>: <code>np.broadcast_shapes(a.shape, b.shape)</code></li></ol><h2 id="further-resources" class="relative group"><span class="heading-text">Further Resources</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#further-resources" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ul><li><a target="_blank" rel="noreferrer" href="https://numpy.org/doc/stable/user/index.html" class="">NumPy User Guide</a> - Official comprehensive guide</li><li><a target="_blank" rel="noreferrer" href="https://numpy.org/doc/stable/reference/index.html" class="">NumPy API Reference</a> - Complete function documentation</li><li><a target="_blank" rel="noreferrer" href="https://numpy.org/doc/stable/user/numpy-for-matlab-users.html" class="">NumPy for MATLAB users</a> - Transition guide</li><li><a target="_blank" rel="noreferrer" href="https://www.labri.fr/perso/nrougier/from-python-to-numpy/" class="">From Python to NumPy</a> - Advanced vectorization techniques</li></ul><h2 id="next-chapter-preview" class="relative group"><span class="heading-text">Next Chapter Preview</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#next-chapter-preview" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>With NumPy mastery achieved, Chapter 8 introduces Matplotlib for visualization. You’ll discover how Matplotlib’s object-oriented design (building on Chapter 6) works seamlessly with NumPy arrays. Every plot you create will use NumPy arrays as its foundation, and you’ll learn to create publication-quality figures that bring your data to life.</p><p>The NumPy-Matplotlib synergy is fundamental: plot data is NumPy arrays, image data is NumPy arrays, and all transformations use NumPy operations. Your deep understanding of NumPy will make mastering visualization natural and intuitive!# Chapter 7: NumPy - The Foundation of Scientific Computing</p><h2 id="learning-objectives-1" class="relative group"><span class="heading-text">Learning Objectives</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#learning-objectives-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>By the end of this chapter, you will be able to:</p><ul><li>Understand why NumPy arrays are 10-100x faster than Python lists for numerical computation</li><li>Create and manipulate arrays using various initialization methods and slicing techniques</li><li>Apply vectorization to eliminate explicit loops and write efficient scientific code</li><li>Master broadcasting rules to perform operations on arrays of different shapes elegantly</li><li>Use NumPy’s mathematical functions for scientific calculations</li><li>Understand memory layout and its impact on performance</li><li>Debug common NumPy errors and understand when operations create copies vs views</li><li>Integrate NumPy with the scientific Python ecosystem</li></ul><h2 id="prerequisites-check-1" class="relative group"><span class="heading-text">Prerequisites Check</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#prerequisites-check-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Before starting this chapter, verify you can:</p><ul><li>✓ Work with Python lists and understand indexing/slicing (Chapter 4)</li><li>✓ Write functions and understand scope (Chapter 5)</li><li>✓ Understand object methods and attributes (Chapter 6)</li><li>✓ Use list comprehensions for data transformation (Chapter 4)</li><li>✓ Work with nested data structures (Chapter 4)</li></ul><h2 id="chapter-overview-1" class="relative group"><span class="heading-text">Chapter Overview</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#chapter-overview-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>So far, you’ve been using Python lists for numerical data. But try this simple experiment: compute the sum of squares for a million numbers using a list comprehension versus a loop. Even with list comprehensions, Python is surprisingly slow for numerical work. This is where NumPy transforms Python from a general-purpose language into a scientific computing powerhouse.</p><p>NumPy (Numerical Python) is not just a library—it’s the foundation upon which the entire scientific Python ecosystem is built. Every plot you make with Matplotlib, every optimization you run with SciPy, every dataframe you manipulate with Pandas, ultimately relies on NumPy arrays. Understanding NumPy deeply means understanding how scientific computing works in Python.</p><p>This chapter reveals why NumPy is fast (hint: it’s not written in Python), how its mental model differs from pure Python (vectorization over loops), and how its design patterns appear throughout scientific computing. You’ll learn to think in arrays, not elements—a fundamental shift that makes the difference between code that takes hours and code that takes seconds. By the end, you’ll understand why that <code>Star</code> class you created in Chapter 6 might be better represented as a structured NumPy array when you have millions of stars to process.</p><h2 id="id-7-1-why-numpy-the-performance-revolution-1" class="relative group"><span class="heading-text">7.1 Why NumPy? The Performance Revolution</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-1-why-numpy-the-performance-revolution-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Let’s start with a motivating example that shows why NumPy exists:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [1]: import time
In [2]: import numpy as np

# Pure Python: sum of squares for 1 million numbers
In [3]: def python_sum_of_squares(n):
   ...:     &quot;&quot;&quot;Pure Python implementation.&quot;&quot;&quot;
   ...:     numbers = list(range(n))
   ...:     return sum(x**2 for x in numbers)

# NumPy: same calculation
In [4]: def numpy_sum_of_squares(n):
   ...:     &quot;&quot;&quot;NumPy implementation.&quot;&quot;&quot;
   ...:     numbers = np.arange(n)
   ...:     return np.sum(numbers**2)

# Time both approaches
In [5]: n = 1_000_000

In [6]: start = time.perf_counter()
In [7]: python_result = python_sum_of_squares(n)
In [8]: python_time = time.perf_counter() - start

In [9]: start = time.perf_counter()
In [10]: numpy_result = numpy_sum_of_squares(n)
In [11]: numpy_time = time.perf_counter() - start

In [12]: print(f&quot;Python: {python_time:.3f} seconds&quot;)
In [13]: print(f&quot;NumPy:  {numpy_time:.3f} seconds&quot;)
In [14]: print(f&quot;Speedup: {python_time/numpy_time:.1f}x&quot;)
Python: 0.142 seconds
NumPy:  0.003 seconds
Speedup: 47.3x

In [15]: python_result == numpy_result  # Same answer!
Out[15]: True</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>NumPy is nearly 50 times faster! But why? The answer reveals fundamental truths about scientific computing.</p><h3 id="the-secret-numpy-arrays-are-not-python-lists-1" class="relative group"><span class="heading-text">The Secret: NumPy Arrays Are Not Python Lists</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#the-secret-numpy-arrays-are-not-python-lists-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><figure class=""></figure><p><strong>Python lists</strong> store pointers to Python objects scattered throughout memory. Each integer is a full Python object with type information, reference counting, and other overhead. Accessing an element means following a pointer, checking the type, extracting the value—expensive operations repeated millions of times.</p><p><strong>NumPy arrays</strong> store raw numbers in contiguous memory, like C arrays. The array header contains metadata (data type, shape, strides), but the data itself is just bytes in memory. Operations can be passed directly to optimized C/Fortran code that processes memory blocks efficiently, leveraging CPU vector instructions and cache locality.</p><h3 id="the-mental-model-shift-vectorization-1" class="relative group"><span class="heading-text">The Mental Model Shift: Vectorization</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#the-mental-model-shift-vectorization-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The performance gain requires a different programming style. Instead of thinking about individual elements, think about entire arrays:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Python style: loop over elements
def python_distance(x_coords, y_coords):
    &quot;&quot;&quot;Calculate distances from origin, Python style.&quot;&quot;&quot;
    distances = []
    for x, y in zip(x_coords, y_coords):
        dist = (x**2 + y**2)**0.5
        distances.append(dist)
    return distances

# NumPy style: operate on entire arrays
def numpy_distance(x_coords, y_coords):
    &quot;&quot;&quot;Calculate distances from origin, NumPy style.&quot;&quot;&quot;
    return np.sqrt(x_coords**2 + y_coords**2)

# Test with 100,000 points
n_points = 100_000
x = np.random.randn(n_points)
y = np.random.randn(n_points)

# Convert to lists for Python version
x_list = x.tolist()
y_list = y.tolist()

%timeit python_distance(x_list, y_list)
# 31.2 ms ± 501 µs per loop

%timeit numpy_distance(x, y)
# 371 µs ± 5.2 µs per loop

# 84x faster!</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>This is <strong>vectorization</strong>: expressing operations on entire arrays rather than individual elements. The loop still happens, but it’s in compiled C code, not interpreted Python.</p><h3 id="id-computational-thinking-box-the-two-language-problem-1" class="relative group"><span class="heading-text">📦 <strong>Computational Thinking Box: The Two-Language Problem</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-computational-thinking-box-the-two-language-problem-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">PATTERN: The Two-Language Problem in Scientific Computing

Many scientific computing ecosystems face a dilemma:
- High-level languages (Python, MATLAB, R) are great for experimentation
- Low-level languages (C, Fortran) are needed for performance
- Scientists want to think about science, not memory management

NumPy&#x27;s Solution:
- Python interface for thinking and prototyping
- C/Fortran implementation for computation
- Seamless boundary between the two

This pattern appears throughout scientific Python:
- NumPy: Python interface, C implementation
- SciPy: Python interface, Fortran/C++ implementation  
- Pandas: Python interface, Cython implementation
- Scikit-learn: Python interface, Cython/C++ implementation

The key insight: put the boundary at the right abstraction level.
For NumPy, that&#x27;s the array operation, not the element operation.</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h2 id="id-7-2-creating-arrays-from-lists-to-grids-1" class="relative group"><span class="heading-text">7.2 Creating Arrays: From Lists to Grids</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-2-creating-arrays-from-lists-to-grids-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>NumPy provides many ways to create arrays, each optimized for different use cases. Understanding these is crucial for efficient scientific computing.</p><h3 id="from-python-sequences-1" class="relative group"><span class="heading-text">From Python Sequences</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#from-python-sequences-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The most straightforward way is converting existing Python data:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [16]: # From a list
In [17]: list_data = [1, 2, 3, 4, 5]
In [18]: arr = np.array(list_data)
In [19]: print(f&quot;Array: {arr}&quot;)
In [20]: print(f&quot;Type: {type(arr)}&quot;)  # Note: it&#x27;s an object!
In [21]: print(f&quot;Dtype: {arr.dtype}&quot;)  # Data type of elements
Array: [1 2 3 4 5]
Type: &lt;class &#x27;numpy.ndarray&#x27;&gt;
Dtype: int64

In [22]: # From nested lists (creates 2D array)
In [23]: matrix_data = [[1, 2, 3],
   ...:                 [4, 5, 6],
   ...:                 [7, 8, 9]]
In [24]: matrix = np.array(matrix_data)
In [25]: print(f&quot;Matrix:\n{matrix}&quot;)
In [26]: print(f&quot;Shape: {matrix.shape}&quot;)  # (rows, columns)
In [27]: print(f&quot;Dimensions: {matrix.ndim}&quot;)
Matrix:
[[1 2 3]
 [4 5 6]
 [7 8 9]]
Shape: (3, 3)
Dimensions: 2</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Remember from Chapter 6: NumPy arrays are objects! They have attributes (<code>shape</code>, <code>dtype</code>, <code>size</code>) and methods (<code>reshape()</code>, <code>mean()</code>, <code>sum()</code>). This is OOP in action.</p><h3 id="initialization-functions-1" class="relative group"><span class="heading-text">Initialization Functions</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#initialization-functions-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Creating arrays from scratch is often more efficient than converting lists:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [28]: # Arrays of zeros (useful for accumulation)
In [29]: zeros = np.zeros((3, 4))  # 3 rows, 4 columns
In [30]: print(f&quot;Zeros:\n{zeros}&quot;)
Zeros:
[[0. 0. 0. 0.]
 [0. 0. 0. 0.]
 [0. 0. 0. 0.]]

In [31]: # Arrays of ones (useful for counting)
In [32]: ones = np.ones((2, 3), dtype=np.int32)  # Can specify dtype
In [33]: print(f&quot;Ones:\n{ones}&quot;)
Ones:
[[1 1 1]
 [1 1 1]]

In [34]: # Identity matrix (useful for linear algebra)
In [35]: identity = np.eye(3)
In [36]: print(f&quot;Identity:\n{identity}&quot;)
Identity:
[[1. 0. 0.]
 [0. 1. 0.]
 [0. 0. 1.]]

In [37]: # Uninitialized array (fastest, but contains garbage)
In [38]: empty = np.empty((2, 2))  # DANGER: random values!
In [39]: print(f&quot;Empty (undefined values):\n{empty}&quot;)
Empty (undefined values):
[[4.67e-310 0.00e+000]
 [0.00e+000 0.00e+000]]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-common-bug-alert-uninitialized-arrays-1" class="relative group"><span class="heading-text">⚠️ <strong>Common Bug Alert: Uninitialized Arrays</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-common-bug-alert-uninitialized-arrays-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># WRONG: Assuming empty arrays contain zeros
def calculate_sums_wrong(data, n_bins):
    sums = np.empty(n_bins)  # Contains garbage!
    for i, value in enumerate(data):
        bin_idx = int(value) % n_bins
        sums[bin_idx] += value  # Adding to garbage!
    return sums

# CORRECT: Use zeros for accumulation
def calculate_sums_correct(data, n_bins):
    sums = np.zeros(n_bins)  # Initialized to zero
    for i, value in enumerate(data):
        bin_idx = int(value) % n_bins
        sums[bin_idx] += value
    return sums

# The bug might not be obvious in testing!
test_data = np.array([1.5, 2.7, 3.2])
print(calculate_sums_wrong(test_data, 5))   # Unpredictable!
print(calculate_sums_correct(test_data, 5))  # [0, 1.5, 2.7, 3.2, 0]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Always use <code>zeros()</code> for accumulation, <code>ones()</code> for counting, and only use <code>empty()</code> when you’ll immediately overwrite all values.</p><h3 id="range-arrays-1" class="relative group"><span class="heading-text">Range Arrays</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#range-arrays-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>For sequences of numbers, NumPy provides optimized functions:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [40]: # Like Python&#x27;s range, but returns an array
In [41]: integers = np.arange(10)  # 0 to 9
In [42]: print(f&quot;Integers: {integers}&quot;)
Integers: [0 1 2 3 4 5 6 7 8 9]

In [43]: # With start, stop, step
In [44]: evens = np.arange(0, 10, 2)
In [45]: print(f&quot;Evens: {evens}&quot;)
Evens: [0 2 4 6 8]

In [46]: # Floating-point ranges
In [47]: floats = np.arange(0, 1, 0.1)
In [48]: print(f&quot;Floats: {floats}&quot;)
Floats: [0.  0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9]

In [49]: # Linear spacing (specify number of points, not step)
In [50]: linear = np.linspace(0, 1, 11)  # 11 points from 0 to 1
In [51]: print(f&quot;Linear: {linear}&quot;)
Linear: [0.  0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1. ]

In [52]: # Logarithmic spacing (for log-scale plots)
In [53]: logarithmic = np.logspace(0, 3, 4)  # 10^0 to 10^3
In [54]: print(f&quot;Logarithmic: {logarithmic}&quot;)
Logarithmic: [   1.   10.  100. 1000.]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-check-your-understanding-2" class="relative group"><span class="heading-text">🔍 <strong>Check Your Understanding</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-check-your-understanding-2" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>What’s the difference between <code>np.arange(0, 1, 0.1)</code> and <code>np.linspace(0, 1, 11)</code>?</p><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Answer</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><p>Both create arrays from 0 to 1, but they work differently:</p><ul><li><p><code>np.arange(0, 1, 0.1)</code> uses a step size of 0.1. Due to floating-point arithmetic, it might not include exactly 1.0 and might have slight inaccuracies.</p></li><li><p><code>np.linspace(0, 1, 11)</code> creates exactly 11 evenly spaced points including both endpoints. It’s more precise for floating-point ranges.</p></li></ul><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Demonstration of the difference
arange_arr = np.arange(0, 1, 0.1)
linspace_arr = np.linspace(0, 1, 11)

print(f&quot;arange length: {len(arange_arr)}&quot;)      # 10 (doesn&#x27;t include 1.0)
print(f&quot;linspace length: {len(linspace_arr)}&quot;)  # 11 (includes both endpoints)
print(f&quot;arange last: {arange_arr[-1]}&quot;)         # 0.9
print(f&quot;linspace last: {linspace_arr[-1]}&quot;)     # 1.0

# Floating-point issues with arange
print(f&quot;0.1 + 0.1 + 0.1 == 0.3? {0.1 + 0.1 + 0.1 == 0.3}&quot;)  # False!</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Use <code>linspace</code> when you need a specific number of points including endpoints. Use <code>arange</code> for integer sequences or when you need a specific step size.</p></div></details><h3 id="random-arrays-1" class="relative group"><span class="heading-text">Random Arrays</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#random-arrays-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Scientific computing often needs random data for Monte Carlo simulations, testing, or initialization:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [55]: # Set seed for reproducibility (important for science!)
In [56]: np.random.seed(42)

In [57]: # Uniform distribution [0, 1)
In [58]: uniform = np.random.rand(3, 3)
In [59]: print(f&quot;Uniform:\n{uniform}&quot;)
Uniform:
[[0.374 0.950 0.731]
 [0.598 0.156 0.155]
 [0.058 0.866 0.601]]

In [60]: # Standard normal distribution (mean=0, std=1)
In [61]: normal = np.random.randn(3, 3)
In [62]: print(f&quot;Normal:\n{normal}&quot;)
Normal:
[[ 0.708 -0.757 -1.316]
 [ 0.386  1.749  0.297]
 [-0.814 -0.454 -1.150]]

In [63]: # Random integers
In [64]: integers = np.random.randint(0, 10, size=(2, 4))
In [65]: print(f&quot;Random integers:\n{integers}&quot;)
Random integers:
[[7 6 6 8]
 [8 3 9 8]]

In [66]: # Custom distribution (e.g., Poisson for photon counts)
In [67]: photon_counts = np.random.poisson(lam=5, size=10)
In [68]: print(f&quot;Photon counts: {photon_counts}&quot;)
Photon counts: [3 5 6 3 8 4 3 3 6 2]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h2 id="id-7-3-array-attributes-and-memory-layout-1" class="relative group"><span class="heading-text">7.3 Array Attributes and Memory Layout</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-3-array-attributes-and-memory-layout-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Understanding array attributes and memory layout is crucial for writing efficient code and debugging strange behavior.</p><h3 id="essential-attributes-1" class="relative group"><span class="heading-text">Essential Attributes</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#essential-attributes-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Every NumPy array has attributes that describe its structure:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [69]: # Create a 3D array for demonstration
In [70]: arr = np.random.randn(2, 3, 4)  # 2 blocks, 3 rows, 4 columns

In [71]: print(f&quot;Shape: {arr.shape}&quot;)        # Dimensions
In [72]: print(f&quot;Size: {arr.size}&quot;)          # Total elements
In [73]: print(f&quot;Ndim: {arr.ndim}&quot;)          # Number of dimensions
In [74]: print(f&quot;Dtype: {arr.dtype}&quot;)        # Data type
In [75]: print(f&quot;Itemsize: {arr.itemsize}&quot;)  # Bytes per element
In [76]: print(f&quot;Nbytes: {arr.nbytes}&quot;)      # Total bytes
Shape: (2, 3, 4)
Size: 24
Ndim: 3
Dtype: float64
Itemsize: 8
Nbytes: 192

In [77]: # Memory layout information
In [78]: print(f&quot;Strides: {arr.strides}&quot;)  # Bytes to next element
In [79]: print(f&quot;C-contiguous: {arr.flags[&#x27;C_CONTIGUOUS&#x27;]}&quot;)
In [80]: print(f&quot;Fortran-contiguous: {arr.flags[&#x27;F_CONTIGUOUS&#x27;]}&quot;)
Strides: (96, 32, 8)
C-contiguous: True
Fortran-contiguous: False</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="memory-layout-row-major-vs-column-major-1" class="relative group"><span class="heading-text">Memory Layout: Row-Major vs Column-Major</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#memory-layout-row-major-vs-column-major-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>NumPy can store arrays in different memory layouts, which affects performance:</p><figure class=""></figure><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [81]: # Default is C-order (row-major)
In [82]: c_array = np.array([[1, 2, 3],
   ...:                       [4, 5, 6]])
In [83]: print(f&quot;C-order strides: {c_array.strides}&quot;)  # (24, 8)
C-order strides: (24, 8)  # 3 elements * 8 bytes to next row

In [84]: # Can create Fortran-order (column-major)
In [85]: f_array = np.array([[1, 2, 3],
   ...:                       [4, 5, 6]], order=&#x27;F&#x27;)
In [86]: print(f&quot;F-order strides: {f_array.strides}&quot;)  # (8, 16)
F-order strides: (8, 16)  # 1 element * 8 bytes to next row

In [87]: # Performance implications
In [88]: large = np.random.randn(1000, 1000)

In [89]: # Summing along rows (axis=1) is fast for C-order
In [90]: %timeit large.sum(axis=1)
574 µs ± 12.3 µs per loop

In [91]: # Summing along columns (axis=0) is slower for C-order
In [92]: %timeit large.sum(axis=0)
1.28 ms ± 23.4 µs per loop

# Why? Cache locality! Accessing contiguous memory is faster.</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="data-types-and-memory-usage-1" class="relative group"><span class="heading-text">Data Types and Memory Usage</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#data-types-and-memory-usage-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>NumPy provides precise control over data types, crucial for memory efficiency and numerical precision:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [93]: # Integer types
In [94]: int8 = np.array([1, 2, 3], dtype=np.int8)    # -128 to 127
In [95]: int16 = np.array([1, 2, 3], dtype=np.int16)  # -32,768 to 32,767
In [96]: int32 = np.array([1, 2, 3], dtype=np.int32)  # ~±2 billion
In [97]: int64 = np.array([1, 2, 3], dtype=np.int64)  # ~±9 quintillion

In [98]: print(f&quot;int8 bytes: {int8.nbytes}&quot;)   # 3 bytes
In [99]: print(f&quot;int64 bytes: {int64.nbytes}&quot;) # 24 bytes
int8 bytes: 3
int64 bytes: 24

In [100]: # Floating-point types
In [101]: float16 = np.array([1.0, 2.0], dtype=np.float16)  # Half precision
In [102]: float32 = np.array([1.0, 2.0], dtype=np.float32)  # Single precision
In [103]: float64 = np.array([1.0, 2.0], dtype=np.float64)  # Double precision

In [104]: # Complex numbers for signal processing
In [105]: complex_arr = np.array([1+2j, 3+4j], dtype=np.complex128)
In [106]: print(f&quot;Complex array: {complex_arr}&quot;)
In [107]: print(f&quot;Real parts: {complex_arr.real}&quot;)
In [108]: print(f&quot;Imaginary parts: {complex_arr.imag}&quot;)
Complex array: [1.+2.j 3.+4.j]
Real parts: [1. 3.]
Imaginary parts: [2. 4.]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-performance-profile-data-type-impact-1" class="relative group"><span class="heading-text">🔊 <strong>Performance Profile: Data Type Impact</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-performance-profile-data-type-impact-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Memory and speed tradeoffs with different dtypes
n = 10_000_000  # 10 million elements

# Create arrays with different dtypes
float64_arr = np.random.randn(n)  # Default
float32_arr = float64_arr.astype(np.float32)
float16_arr = float64_arr.astype(np.float16)

print(f&quot;float64: {float64_arr.nbytes / 1e6:.1f} MB&quot;)
print(f&quot;float32: {float32_arr.nbytes / 1e6:.1f} MB&quot;)
print(f&quot;float16: {float16_arr.nbytes / 1e6:.1f} MB&quot;)

# Performance comparison
%timeit float64_arr.sum()  # 7.92 ms
%timeit float32_arr.sum()  # 3.96 ms (2x faster!)
%timeit float16_arr.sum()  # 15.8 ms (slower - no hardware support)

# But beware precision loss!
print(f&quot;float64 sum: {float64_arr.sum()}&quot;)
print(f&quot;float32 sum: {float32_arr.sum()}&quot;)  # Slightly different
print(f&quot;float16 sum: {float16_arr.sum()}&quot;)  # Very different!</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Choose dtypes based on your needs: float64 for precision, float32 for speed/memory with acceptable precision loss, integers when appropriate.</p><h2 id="id-7-4-indexing-and-slicing-views-vs-copies-1" class="relative group"><span class="heading-text">7.4 Indexing and Slicing: Views vs Copies</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-4-indexing-and-slicing-views-vs-copies-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>NumPy’s indexing is powerful but has subtleties that can cause bugs if not understood properly.</p><h3 id="basic-indexing-creates-views-1" class="relative group"><span class="heading-text">Basic Indexing (Creates Views)</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#basic-indexing-creates-views-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Basic slicing creates <strong>views</strong> that share memory with the original array:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [109]: # 1D indexing - similar to lists
In [110]: arr = np.arange(10)
In [111]: print(f&quot;Original: {arr}&quot;)
In [112]: print(f&quot;Element 3: {arr[3]}&quot;)
In [113]: print(f&quot;Slice 2:5: {arr[2:5]}&quot;)
In [114]: print(f&quot;Every 2nd: {arr[::2]}&quot;)
In [115]: print(f&quot;Reverse: {arr[::-1]}&quot;)
Original: [0 1 2 3 4 5 6 7 8 9]
Element 3: 3
Slice 2:5: [2 3 4]
Every 2nd: [0 2 4 6 8]
Reverse: [9 8 7 6 5 4 3 2 1 0]

In [116]: # CRITICAL: Slices are views, not copies!
In [117]: slice_view = arr[2:5]
In [118]: slice_view[0] = 999
In [119]: print(f&quot;Original after modification: {arr}&quot;)
Original after modification: [  0   1 999   3   4   5   6   7   8   9]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-common-bug-alert-unexpected-mutation-1" class="relative group"><span class="heading-text">⚠️ <strong>Common Bug Alert: Unexpected Mutation</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-common-bug-alert-unexpected-mutation-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># DANGEROUS: Modifying a view changes the original!
def process_middle(data):
    &quot;&quot;&quot;Process middle section of data.&quot;&quot;&quot;
    middle = data[len(data)//4:3*len(data)//4]  # View!
    middle *= 2  # This modifies the original!
    return middle

original = np.arange(10)
print(f&quot;Before: {original}&quot;)
result = process_middle(original)
print(f&quot;After: {original}&quot;)  # Original is changed!
# Before: [0 1 2 3 4 5 6 7 8 9]
# After: [0 1 4 6 8 5 6 7 8 9]

# SAFE: Explicitly copy when needed
def process_middle_safe(data):
    &quot;&quot;&quot;Process middle section without modifying original.&quot;&quot;&quot;
    middle = data[len(data)//4:3*len(data)//4].copy()  # Copy!
    middle *= 2
    return middle</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="multidimensional-indexing-1" class="relative group"><span class="heading-text">Multidimensional Indexing</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#multidimensional-indexing-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>For 2D arrays and higher, indexing becomes more powerful:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [120]: # Create a 2D array
In [121]: matrix = np.array([[1, 2, 3],
    ...:                      [4, 5, 6],
    ...:                      [7, 8, 9]])

In [122]: # Single element
In [123]: print(f&quot;Element [1,2]: {matrix[1, 2]}&quot;)  # Row 1, Column 2
Element [1,2]: 6

In [124]: # Entire row or column
In [125]: print(f&quot;Row 1: {matrix[1, :]}&quot;)     # or just matrix[1]
In [126]: print(f&quot;Column 2: {matrix[:, 2]}&quot;)
Row 1: [4 5 6]
Column 2: [3 6 9]

In [127]: # Submatrix
In [128]: print(f&quot;Top-left 2x2:\n{matrix[:2, :2]}&quot;)
Top-left 2x2:
[[1 2]
 [4 5]]

In [129]: # Strided access
In [130]: print(f&quot;Every other element:\n{matrix[::2, ::2]}&quot;)
Every other element:
[[1 3]
 [7 9]]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="fancy-indexing-creates-copies-1" class="relative group"><span class="heading-text">Fancy Indexing (Creates Copies)</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#fancy-indexing-creates-copies-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Using arrays as indices creates <strong>copies</strong>, not views:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [131]: arr = np.arange(10) * 10

In [132]: # Integer array indexing
In [133]: indices = np.array([1, 3, 5])
In [134]: selected = arr[indices]  # This is a COPY
In [135]: print(f&quot;Selected: {selected}&quot;)
Selected: [10 30 50]

In [136]: selected[0] = 999
In [137]: print(f&quot;Original unchanged: {arr}&quot;)  # Original intact
Original unchanged: [ 0 10 20 30 40 50 60 70 80 90]

In [138]: # Boolean indexing (masking)
In [139]: mask = arr &gt; 40
In [140]: print(f&quot;Mask: {mask}&quot;)
In [141]: filtered = arr[mask]  # Also a COPY
In [142]: print(f&quot;Filtered: {filtered}&quot;)
Mask: [False False False False False  True  True  True  True  True]
Filtered: [50 60 70 80 90]

In [143]: # Combining conditions
In [144]: complex_mask = (arr &gt; 20) &amp; (arr &lt; 70)  # Note: &amp; not &#x27;and&#x27;
In [145]: print(f&quot;Complex filter: {arr[complex_mask]}&quot;)
Complex filter: [30 40 50 60]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-computational-thinking-box-views-vs-copies-1" class="relative group"><span class="heading-text">📦 <strong>Computational Thinking Box: Views vs Copies</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-computational-thinking-box-views-vs-copies-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">PATTERN: Memory Efficiency Through Views

Views are NumPy&#x27;s way of providing different perspectives 
on the same data without copying it. This is crucial for:

1. Memory efficiency: No duplication of large datasets
2. Performance: No time spent copying
3. Consistency: Changes visible everywhere

When NumPy creates views:
- Basic slicing (arr[1:5], arr[:, 2])
- Reshaping (arr.reshape())
- Transposing (arr.T)

When NumPy creates copies:
- Fancy indexing (arr[[1,3,5]])
- Boolean indexing (arr[arr &gt; 0])
- Explicit copy (arr.copy())

Testing if something is a view:
arr.base is not None  # True if arr is a view

This pattern appears in:
- Pandas DataFrames (views of underlying NumPy arrays)
- Memory-mapped files (views of disk data)
- GPU computing (avoiding expensive memory transfers)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h2 id="id-7-5-vectorization-thinking-in-arrays-1" class="relative group"><span class="heading-text">7.5 Vectorization: Thinking in Arrays</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-5-vectorization-thinking-in-arrays-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Vectorization is the key to NumPy’s performance. It means expressing operations on entire arrays rather than individual elements.</p><h3 id="universal-functions-ufuncs-1" class="relative group"><span class="heading-text">Universal Functions (ufuncs)</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#universal-functions-ufuncs-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>NumPy provides “universal functions” that operate element-wise on arrays:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [146]: # Arithmetic operations are vectorized
In [147]: a = np.array([1, 2, 3, 4])
In [148]: b = np.array([10, 20, 30, 40])

In [149]: print(f&quot;Addition: {a + b}&quot;)
In [150]: print(f&quot;Multiplication: {a * b}&quot;)
In [151]: print(f&quot;Power: {a ** 2}&quot;)
Addition: [11 22 33 44]
Multiplication: [10 40 90 160]
Power: [ 1  4  9 16]

In [152]: # Mathematical functions are vectorized
In [153]: angles = np.array([0, np.pi/4, np.pi/2, np.pi])
In [154]: print(f&quot;Sin: {np.sin(angles)}&quot;)
In [155]: print(f&quot;Cos: {np.cos(angles)}&quot;)
Sin: [0.000e+00 7.071e-01 1.000e+00 1.225e-16]
Cos: [ 1.000e+00  7.071e-01  6.123e-17 -1.000e+00]

In [156]: # Comparison operations are vectorized
In [157]: arr = np.arange(5)
In [158]: print(f&quot;Greater than 2: {arr &gt; 2}&quot;)
In [159]: print(f&quot;Equal to 3: {arr == 3}&quot;)
Greater than 2: [False False False  True  True]
Equal to 3: [False False False  True False]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="vectorizing-custom-functions-1" class="relative group"><span class="heading-text">Vectorizing Custom Functions</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#vectorizing-custom-functions-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>You can vectorize your own functions to work on arrays:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [160]: # Scalar function
In [161]: def photon_energy(wavelength_nm):
    ...:     &quot;&quot;&quot;Calculate photon energy in eV from wavelength in nm.&quot;&quot;&quot;
    ...:     h = 4.135667e-15  # Planck constant in eV·s
    ...:     c = 299792458     # Speed of light in m/s
    ...:     return h * c / (wavelength_nm * 1e-9)

In [162]: # Works on single values
In [163]: print(f&quot;Energy at 500nm: {photon_energy(500):.2f} eV&quot;)
Energy at 500nm: 2.48 eV

In [164]: # Vectorize to work on arrays
In [165]: photon_energy_vec = np.vectorize(photon_energy)

In [166]: # Now works on arrays!
In [167]: wavelengths = np.array([400, 500, 600, 700])
In [168]: energies = photon_energy_vec(wavelengths)
In [169]: print(f&quot;Energies: {energies}&quot;)
Energies: [3.10 2.48 2.07 1.77]

# Note: np.vectorize is convenient but not fast (it&#x27;s still a Python loop)
# For performance, write truly vectorized code:
In [170]: def photon_energy_fast(wavelength_nm):
    ...:     &quot;&quot;&quot;Truly vectorized version.&quot;&quot;&quot;
    ...:     h = 4.135667e-15
    ...:     c = 299792458
    ...:     return h * c / (wavelength_nm * 1e-9)  # Works on arrays!

In [171]: # This is much faster for large arrays
In [172]: large_wavelengths = np.random.uniform(300, 800, 100000)
In [173]: %timeit photon_energy_vec(large_wavelengths)  # 35.2 ms
In [174]: %timeit photon_energy_fast(large_wavelengths) # 326 µs (100x faster!)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="aggregation-functions-1" class="relative group"><span class="heading-text">Aggregation Functions</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#aggregation-functions-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Aggregations reduce arrays to scalar values or smaller arrays:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [175]: data = np.random.randn(1000)

In [176]: # Basic statistics
In [177]: print(f&quot;Mean: {data.mean():.4f}&quot;)
In [178]: print(f&quot;Std: {data.std():.4f}&quot;)
In [179]: print(f&quot;Min: {data.min():.4f}&quot;)
In [180]: print(f&quot;Max: {data.max():.4f}&quot;)
In [181]: print(f&quot;Median: {np.median(data):.4f}&quot;)
Mean: -0.0234
Std: 0.9897
Min: -3.2384
Max: 3.0234
Median: -0.0365

In [182]: # Percentiles (useful for outlier detection)
In [183]: print(f&quot;5th percentile: {np.percentile(data, 5):.4f}&quot;)
In [184]: print(f&quot;95th percentile: {np.percentile(data, 95):.4f}&quot;)
5th percentile: -1.6422
95th percentile: 1.5967

In [185]: # Along specific axes for multidimensional arrays
In [186]: matrix = np.random.randn(3, 4)
In [187]: print(f&quot;Matrix:\n{matrix}&quot;)
In [188]: print(f&quot;Column means: {matrix.mean(axis=0)}&quot;)  # Average each column
In [189]: print(f&quot;Row means: {matrix.mean(axis=1)}&quot;)     # Average each row
Matrix:
[[-0.245  1.234 -0.567  0.891]
 [ 2.345 -1.234  0.123 -0.456]
 [ 0.789 -0.012  1.234 -2.345]]
Column means: [ 0.963 -0.004  0.263 -0.637]
Row means: [ 0.328  0.195 -0.084]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-check-your-understanding-3" class="relative group"><span class="heading-text">🔍 <strong>Check Your Understanding</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-check-your-understanding-3" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Given a 2D array representing an image, how would you normalize it so all values are between 0 and 1?</p><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Answer</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><p>There are several approaches depending on what you mean by normalization:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create sample &quot;image&quot; data
image = np.random.randn(100, 100) * 50 + 128  # Centered at 128

# Method 1: Min-Max normalization (scales to exact [0, 1])
def min_max_normalize(arr):
    &quot;&quot;&quot;Scale array to [0, 1] range.&quot;&quot;&quot;
    return (arr - arr.min()) / (arr.max() - arr.min())

normalized1 = min_max_normalize(image)
print(f&quot;Range: [{normalized1.min()}, {normalized1.max()}]&quot;)  # [0.0, 1.0]

# Method 2: Clipping to known range (e.g., 0-255 for 8-bit images)
def clip_normalize(arr, min_val=0, max_val=255):
    &quot;&quot;&quot;Clip to range then normalize.&quot;&quot;&quot;
    clipped = np.clip(arr, min_val, max_val)
    return (clipped - min_val) / (max_val - min_val)

normalized2 = clip_normalize(image)

# Method 3: Z-score normalization (mean=0, std=1, not [0,1])
def z_score_normalize(arr):
    &quot;&quot;&quot;Standardize to mean=0, std=1.&quot;&quot;&quot;
    return (arr - arr.mean()) / arr.std()

standardized = z_score_normalize(image)
print(f&quot;Mean: {standardized.mean():.6f}, Std: {standardized.std():.6f}&quot;)

# Important: Choose based on your needs!
# - Min-max for display (guarantees [0,1])
# - Clipping for known ranges
# - Z-score for machine learning</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>The key insight: vectorized operations make this efficient even for large images. No loops needed!</p></div></details><h2 id="id-7-6-broadcasting-numpys-superpower-1" class="relative group"><span class="heading-text">7.6 Broadcasting: NumPy’s Superpower</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-6-broadcasting-numpys-superpower-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Broadcasting allows NumPy to perform operations on arrays of different shapes without explicit loops or copies. It’s one of NumPy’s most powerful features.</p><h3 id="the-broadcasting-rules-1" class="relative group"><span class="heading-text">The Broadcasting Rules</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#the-broadcasting-rules-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Broadcasting follows simple rules to determine how arrays of different shapes can be combined:</p><figure class=""></figure><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [190]: # Broadcasting in action
In [191]: arr = np.array([[1, 2, 3],
    ...:                   [4, 5, 6],
    ...:                   [7, 8, 9]])

In [192]: # Adding a scalar (broadcasts to all elements)
In [193]: print(f&quot;Array + 10:\n{arr + 10}&quot;)
Array + 10:
[[11 12 13]
 [14 15 16]
 [17 18 19]]

In [194]: # Adding a 1D array to rows (broadcasts to each row)
In [195]: row_vector = np.array([100, 200, 300])
In [196]: print(f&quot;Array + row vector:\n{arr + row_vector}&quot;)
Array + row vector:
[[101 202 303]
 [104 205 306]
 [107 208 309]]

In [197]: # Adding a column vector (broadcasts to each column)
In [198]: col_vector = np.array([[1000],
    ...:                          [2000],
    ...:                          [3000]])
In [199]: print(f&quot;Array + column vector:\n{arr + col_vector}&quot;)
Array + column vector:
[[1001 1002 1003]
 [2004 2005 2006]
 [3007 3008 3009]]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="practical-broadcasting-examples-1" class="relative group"><span class="heading-text">Practical Broadcasting Examples</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#practical-broadcasting-examples-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Broadcasting makes many scientific calculations elegant:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [200]: # Normalize each column of a matrix
In [201]: data = np.random.randn(100, 3) * [10, 50, 100] + [0, 100, 200]
In [202]: print(f&quot;Original means: {data.mean(axis=0)}&quot;)
In [203]: print(f&quot;Original stds: {data.std(axis=0)}&quot;)

In [204]: # Subtract mean and divide by std for each column
In [205]: normalized = (data - data.mean(axis=0)) / data.std(axis=0)
In [206]: print(f&quot;Normalized means: {normalized.mean(axis=0)}&quot;)  # ~0
In [207]: print(f&quot;Normalized stds: {normalized.std(axis=0)}&quot;)    # ~1
Original means: [  0.234  99.876 200.123]
Original stds: [ 9.987 49.234 98.765]
Normalized means: [-1.23e-17  2.45e-17  3.67e-17]
Normalized stds: [1. 1. 1.]

In [208]: # Distance matrix between points
In [209]: points = np.random.randn(5, 2)  # 5 points in 2D
In [210]: # Use broadcasting to compute all pairwise differences
In [211]: diff = points[:, np.newaxis, :] - points[np.newaxis, :, :]
In [212]: # Shape: (5, 1, 2) - (1, 5, 2) = (5, 5, 2)
In [213]: distances = np.sqrt((diff**2).sum(axis=2))
In [214]: print(f&quot;Distance matrix:\n{distances}&quot;)
Distance matrix:
[[0.    1.234 2.345 0.567 1.890]
 [1.234 0.    1.567 0.890 2.234]
 [2.345 1.567 0.    1.234 0.789]
 [0.567 0.890 1.234 0.    1.456]
 [1.890 2.234 0.789 1.456 0.   ]]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-common-bug-alert-broadcasting-surprises-1" class="relative group"><span class="heading-text">⚠️ <strong>Common Bug Alert: Broadcasting Surprises</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-common-bug-alert-broadcasting-surprises-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># UNEXPECTED: Broadcasting can hide dimension mismatches
a = np.array([[1, 2, 3]])     # Shape: (1, 3)
b = np.array([[10], [20]])    # Shape: (2, 1)

# This works but might not be what you intended!
result = a + b  # Broadcasts to (2, 3)
print(f&quot;Result:\n{result}&quot;)
# [[11 12 13]
#  [21 22 23]]

# DEFENSIVE: Check shapes when unsure
def safe_add(a, b):
    &quot;&quot;&quot;Add arrays with shape checking.&quot;&quot;&quot;
    if a.shape != b.shape:
        print(f&quot;Warning: Broadcasting {a.shape} and {b.shape}&quot;)
        print(f&quot;Result shape will be: {np.broadcast_shapes(a.shape, b.shape)}&quot;)
    return a + b

# EXPLICIT: Use np.newaxis to be clear about intent
row = np.array([1, 2, 3])
col = np.array([10, 20])

# Clear that we want to broadcast
result = row[np.newaxis, :] + col[:, np.newaxis]
print(f&quot;Explicit broadcasting:\n{result}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h2 id="id-7-7-mathematical-operations-and-linear-algebra-1" class="relative group"><span class="heading-text">7.7 Mathematical Operations and Linear Algebra</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-7-mathematical-operations-and-linear-algebra-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>NumPy provides a comprehensive suite of mathematical functions optimized for arrays.</p><h3 id="element-wise-mathematics-1" class="relative group"><span class="heading-text">Element-wise Mathematics</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#element-wise-mathematics-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [215]: # Trigonometric functions
In [216]: angles = np.linspace(0, 2*np.pi, 5)
In [217]: print(f&quot;Sin: {np.sin(angles)}&quot;)
In [218]: print(f&quot;Arcsin of 0.5: {np.arcsin(0.5)}&quot;)

In [219]: # Exponential and logarithmic
In [220]: x = np.array([1, 2, 3])
In [221]: print(f&quot;Exp: {np.exp(x)}&quot;)           # e^x
In [222]: print(f&quot;Log: {np.log(x)}&quot;)           # Natural log
In [223]: print(f&quot;Log10: {np.log10(x)}&quot;)       # Base-10 log
In [224]: print(f&quot;Exp2: {np.exp2(x)}&quot;)         # 2^x

In [225]: # Special functions for scientific computing
In [226]: from scipy import special  # Extended special functions
In [227]: x = np.linspace(0, 10, 100)
In [228]: bessel = special.j0(x)  # Bessel function of first kind
In [229]: gamma = special.gamma(x + 1)  # Gamma function</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="linear-algebra-operations-1" class="relative group"><span class="heading-text">Linear Algebra Operations</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#linear-algebra-operations-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>NumPy includes a full linear algebra module:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [230]: # Matrix multiplication
In [231]: A = np.array([[1, 2],
    ...:                [3, 4]])
In [232]: B = np.array([[5, 6],
    ...:                [7, 8]])

In [233]: # Element-wise multiplication (NOT matrix multiplication)
In [234]: print(f&quot;Element-wise A * B:\n{A * B}&quot;)

In [235]: # True matrix multiplication
In [236]: print(f&quot;Matrix multiplication A @ B:\n{A @ B}&quot;)
In [237]: # Or: np.dot(A, B) or np.matmul(A, B)
Element-wise A * B:
[[ 5 12]
 [21 32]]
Matrix multiplication A @ B:
[[19 22]
 [43 50]]

In [238]: # Common linear algebra operations
In [239]: matrix = np.array([[3, 1],
    ...:                      [1, 2]])

In [240]: # Determinant
In [241]: det = np.linalg.det(matrix)
In [242]: print(f&quot;Determinant: {det}&quot;)

In [243]: # Eigenvalues and eigenvectors
In [244]: eigenvalues, eigenvectors = np.linalg.eig(matrix)
In [245]: print(f&quot;Eigenvalues: {eigenvalues}&quot;)
In [246]: print(f&quot;Eigenvectors:\n{eigenvectors}&quot;)

In [247]: # Inverse
In [248]: inverse = np.linalg.inv(matrix)
In [249]: print(f&quot;Inverse:\n{inverse}&quot;)
In [250]: print(f&quot;Check: A @ A^-1 =\n{matrix @ inverse}&quot;)  # Should be identity

In [251]: # Solving linear systems: Ax = b
In [252]: A = np.array([[3, 1],
    ...:                [1, 2]])
In [253]: b = np.array([9, 8])
In [254]: x = np.linalg.solve(A, b)
In [255]: print(f&quot;Solution: {x}&quot;)
In [256]: print(f&quot;Check: Ax = {A @ x}&quot;)  # Should equal b</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-computational-thinking-box-numerical-stability-1" class="relative group"><span class="heading-text">📦 <strong>Computational Thinking Box: Numerical Stability</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-computational-thinking-box-numerical-stability-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">PATTERN: Numerical Stability in Linear Algebra

Not all mathematically correct operations are numerically stable.
Small floating-point errors can explode into wrong answers.

Example: Solving Ax = b
- Mathematically: x = A^(-1) @ b
- Numerically: DON&#x27;T compute inverse! Use np.linalg.solve()

Why? Matrix inversion is:
1. Expensive: O(n³) operations
2. Unstable: Errors amplify with condition number
3. Unnecessary: Solving systems is more stable

Condition number measures sensitivity to errors:
cond = np.linalg.cond(A)
- cond ~ 1: Well-conditioned (stable)
- cond &gt;&gt; 1: Ill-conditioned (unstable)
- cond = ∞: Singular (no unique solution)

This pattern appears throughout scientific computing:
- Use np.linalg.lstsq() for overdetermined systems
- Use QR decomposition instead of normal equations
- Use SVD for rank-deficient problems
- Use specialized solvers for specific matrix structures

The lesson: Numerical computing ≠ symbolic math
Always consider stability, not just correctness.</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h2 id="id-7-8-structured-arrays-beyond-simple-numbers" class="relative group"><span class="heading-text">7.8 Structured Arrays: Beyond Simple Numbers</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-8-structured-arrays-beyond-simple-numbers" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>NumPy can handle heterogeneous data through structured arrays, bridging the gap to databases and complex data:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [257]: # Define a structured dtype for star catalog
In [258]: star_dtype = np.dtype([
    ...:     (&#x27;name&#x27;, &#x27;U20&#x27;),        # Unicode string, max 20 chars
    ...:     (&#x27;ra&#x27;, &#x27;f8&#x27;),           # Right ascension (float64)
    ...:     (&#x27;dec&#x27;, &#x27;f8&#x27;),          # Declination (float64)
    ...:     (&#x27;magnitude&#x27;, &#x27;f4&#x27;),    # Apparent magnitude (float32)
    ...:     (&#x27;spectral_type&#x27;, &#x27;U10&#x27;) # Spectral classification
    ...: ])

In [259]: # Create structured array
In [260]: stars = np.array([
    ...:     (&#x27;Sirius&#x27;, 101.287, -16.716, -1.46, &#x27;A1V&#x27;),
    ...:     (&#x27;Canopus&#x27;, 95.988, -52.696, -0.74, &#x27;A9II&#x27;),
    ...:     (&#x27;Arcturus&#x27;, 213.915, 19.182, -0.05, &#x27;K1.5III&#x27;),
    ...:     (&#x27;Vega&#x27;, 279.234, 38.784, 0.03, &#x27;A0V&#x27;)
    ...: ], dtype=star_dtype)

In [261]: # Access fields like object attributes
In [262]: print(f&quot;Names: {stars[&#x27;name&#x27;]}&quot;)
In [263]: print(f&quot;Magnitudes: {stars[&#x27;magnitude&#x27;]}&quot;)
Names: [&#x27;Sirius&#x27; &#x27;Canopus&#x27; &#x27;Arcturus&#x27; &#x27;Vega&#x27;]
Magnitudes: [-1.46 -0.74 -0.05  0.03]

In [264]: # Boolean indexing works with structured arrays
In [265]: bright = stars[stars[&#x27;magnitude&#x27;] &lt; 0]
In [266]: print(f&quot;Bright stars: {bright[&#x27;name&#x27;]}&quot;)
Bright stars: [&#x27;Sirius&#x27; &#x27;Canopus&#x27; &#x27;Arcturus&#x27;]

In [267]: # Sorting by field
In [268]: sorted_stars = np.sort(stars, order=&#x27;magnitude&#x27;)
In [269]: print(f&quot;Sorted by brightness: {sorted_stars[&#x27;name&#x27;]}&quot;)
Sorted by brightness: [&#x27;Sirius&#x27; &#x27;Canopus&#x27; &#x27;Arcturus&#x27; &#x27;Vega&#x27;]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>This connects to Chapter 6’s OOP concepts: structured arrays are like arrays of objects, but with better performance for large datasets. When you have millions of stars, structured arrays are more efficient than lists of Star objects.</p><h2 id="id-7-9-memory-management-and-performance-tips" class="relative group"><span class="heading-text">7.9 Memory Management and Performance Tips</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-9-memory-management-and-performance-tips" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Understanding memory usage helps write efficient code for large datasets:</p><h3 id="memory-views-and-copies" class="relative group"><span class="heading-text">Memory Views and Copies</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#memory-views-and-copies" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [270]: # Check if array owns its data
In [271]: original = np.arange(1000000)
In [272]: view = original[::2]  # Every other element
In [273]: copy = original[::2].copy()

In [274]: print(f&quot;View owns data: {view.flags[&#x27;OWNDATA&#x27;]}&quot;)  # False
In [275]: print(f&quot;Copy owns data: {copy.flags[&#x27;OWNDATA&#x27;]}&quot;)  # True
In [276]: print(f&quot;View base is original: {view.base is original}&quot;)  # True

In [277]: # Memory usage
In [278]: print(f&quot;Original size: {original.nbytes / 1e6:.1f} MB&quot;)
In [279]: print(f&quot;View size: {view.nbytes / 1e6:.1f} MB&quot;)  # Half size
In [280]: print(f&quot;But view doesn&#x27;t use extra memory!&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="in-place-operations" class="relative group"><span class="heading-text">In-place Operations</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#in-place-operations" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Modify arrays in-place to save memory:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">In [281]: # Out-of-place (creates new array)
In [282]: a = np.arange(1000000, dtype=np.float64)
In [283]: b = a * 2  # New array created

In [284]: # In-place (modifies existing array)
In [285]: a *= 2  # No new array

In [286]: # Many functions have in-place versions
In [287]: arr = np.random.randn(1000, 1000)
In [288]: # Out-of-place
In [289]: normalized = arr / arr.std()

In [290]: # In-place
In [291]: arr /= arr.std()  # Modifies arr directly

In [292]: # Some functions have &#x27;out&#x27; parameter
In [293]: result = np.empty_like(arr)
In [294]: np.sqrt(arr**2, out=result)  # Writes to existing array</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-performance-profile-memory-access-patterns" class="relative group"><span class="heading-text">🔊 <strong>Performance Profile: Memory Access Patterns</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-performance-profile-memory-access-patterns" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Cache-friendly vs cache-unfriendly operations
large = np.random.randn(10000, 10000)

# Row-wise sum (cache-friendly for C-order arrays)
%timeit large.sum(axis=1)  # 57.4 ms

# Column-wise sum (cache-unfriendly for C-order arrays)
%timeit large.sum(axis=0)  # 128 ms

# Transpose makes column-wise cache-friendly
large_T = large.T
%timeit large_T.sum(axis=0)  # 58.1 ms (fast again!)

# But transpose is just a view (no copy)
print(f&quot;Transpose is view: {large_T.base is large}&quot;)  # True

# For best performance:
# 1. Access memory sequentially when possible
# 2. Use contiguous arrays
# 3. Consider memory layout for your access pattern</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h2 id="id-7-10-common-pitfalls-and-debugging" class="relative group"><span class="heading-text">7.10 Common Pitfalls and Debugging</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-10-common-pitfalls-and-debugging" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="integer-division-changed-in-python-3" class="relative group"><span class="heading-text">Integer Division Changed in Python 3</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#integer-division-changed-in-python-3" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Python 2 vs Python 3 difference that affects NumPy
arr = np.array([1, 2, 3, 4, 5])

# Python 3: / always gives float
print(arr / 2)  # [0.5 1.  1.5 2.  2.5]

# Use // for integer division
print(arr // 2)  # [0 1 1 2 2]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="modifying-arrays-during-iteration" class="relative group"><span class="heading-text">Modifying Arrays During Iteration</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#modifying-arrays-during-iteration" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># WRONG: Modifying array while iterating
arr = np.array([1, 2, 3, 4, 5])
for i, val in enumerate(arr):
    if val &gt; 2:
        arr[i] = 0  # Dangerous!

# CORRECT: Use vectorized operations
arr[arr &gt; 2] = 0

# Or if you must loop, work on a copy
for i, val in enumerate(arr.copy()):
    if val &gt; 2:
        arr[i] = 0</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-debug-this-1" class="relative group"><span class="heading-text">🛠️ <strong>Debug This!</strong></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-debug-this-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>This code has a subtle bug. Can you find it?</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def normalize_columns(data):
    &quot;&quot;&quot;Normalize each column to have mean=0, std=1.&quot;&quot;&quot;
    for col in range(data.shape[1]):
        data[:, col] -= data[:, col].mean()
        data[:, col] /= data[:, col].std()
    return data

# Test it
test_data = np.array([[1, 100],
                       [2, 200],
                       [3, 300]], dtype=np.float64)
                       
normalized = normalize_columns(test_data)
print(f&quot;Original data:\n{test_data}&quot;)
print(f&quot;Normalized:\n{normalized}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><details class="myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden bg-gray-50 dark:bg-stone-800"><summary class="myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03] bg-gray-100 dark:bg-slate-900"><span class="myst-dropdown-header-title text-neutral-900 dark:text-white"><span class="block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px] details-toggle transition-transform"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></span>Bug and Solution</span></summary><div class="myst-dropdown-body px-4 py-1 details-body"><p><strong>Bug</strong>: The function modifies the input array in-place but also returns it, which can be confusing. Worse, the original data is lost!</p><p>After normalization, both <code>test_data</code> and <code>normalized</code> point to the same modified array:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">print(test_data is normalized)  # True - same object!</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p><strong>Solutions</strong>:</p><p>Option 1: Work on a copy</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def normalize_columns(data):
    &quot;&quot;&quot;Normalize columns without modifying input.&quot;&quot;&quot;
    result = data.copy()  # Work on copy
    for col in range(result.shape[1]):
        result[:, col] -= result[:, col].mean()
        result[:, col] /= result[:, col].std()
    return result</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Option 2: Make in-place operation explicit</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def normalize_columns_inplace(data):
    &quot;&quot;&quot;Normalize columns in-place. Returns None.&quot;&quot;&quot;
    for col in range(data.shape[1]):
        data[:, col] -= data[:, col].mean()
        data[:, col] /= data[:, col].std()
    # Don&#x27;t return anything for in-place operations</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Option 3: Use vectorization (best!)</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def normalize_columns_vectorized(data):
    &quot;&quot;&quot;Vectorized normalization.&quot;&quot;&quot;
    return (data - data.mean(axis=0)) / data.std(axis=0)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div></details><h2 id="practice-exercises-1" class="relative group"><span class="heading-text">Practice Exercises</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#practice-exercises-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="exercise-7-1-implement-moving-average-1" class="relative group"><span class="heading-text">Exercise 7.1: Implement Moving Average</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-7-1-implement-moving-average-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Create a function that computes a moving average efficiently:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">&quot;&quot;&quot;
Implement a moving average function that:
1. Takes a 1D array and window size
2. Returns array of moving averages
3. Handles edge cases appropriately
4. Is vectorized (no Python loops)

Example:
data = [1, 2, 3, 4, 5]
window = 3
result = [1.5, 2, 3, 4, 4.5]  # Edges handled with smaller windows

Hint: Consider np.convolve or clever use of cumsum
&quot;&quot;&quot;

def moving_average(data, window_size):
    &quot;&quot;&quot;Compute moving average using vectorization.&quot;&quot;&quot;
    # Your implementation here
    pass

# Test cases
test_data = np.random.randn(1000)
ma = moving_average(test_data, 10)
assert len(ma) == len(test_data)
assert np.isfinite(ma).all()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="exercise-7-2-image-processing-with-broadcasting-1" class="relative group"><span class="heading-text">Exercise 7.2: Image Processing with Broadcasting</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-7-2-image-processing-with-broadcasting-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Implement image transformations using broadcasting:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">&quot;&quot;&quot;
Create functions for basic image processing:
1. Brightness adjustment (add constant to all pixels)
2. Contrast adjustment (multiply all pixels)
3. Gamma correction (power transformation)
4. Color channel mixing (for RGB images)

Work with images as arrays where:
- Grayscale: (height, width)
- RGB: (height, width, 3)

Use broadcasting to avoid loops!
&quot;&quot;&quot;

def adjust_brightness(image, delta):
    &quot;&quot;&quot;Adjust brightness by adding delta.&quot;&quot;&quot;
    # Ensure result stays in valid range [0, 255] or [0, 1]
    pass

def adjust_gamma(image, gamma):
    &quot;&quot;&quot;Apply gamma correction: out = in^gamma.&quot;&quot;&quot;
    pass

def rgb_to_grayscale(rgb_image):
    &quot;&quot;&quot;Convert RGB to grayscale using standard weights:
    gray = 0.299*R + 0.587*G + 0.114*B
    &quot;&quot;&quot;
    pass

# Test with synthetic image
test_rgb = np.random.rand(100, 100, 3)
gray = rgb_to_grayscale(test_rgb)
assert gray.shape == (100, 100)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="exercise-7-3-optimize-star-catalog-operations-1" class="relative group"><span class="heading-text">Exercise 7.3: Optimize Star Catalog Operations</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-7-3-optimize-star-catalog-operations-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Compare different approaches for astronomical calculations:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">&quot;&quot;&quot;
Given a star catalog with positions and magnitudes,
implement these operations multiple ways and compare performance:

1. Find all stars within a given angular distance from a point
2. Calculate total flux from all stars (flux = 10^(-0.4 * magnitude))
3. Find the brightest N stars in a region

Implement using:
a) Pure Python loops (baseline)
b) NumPy vectorization
c) Boolean masking

Measure performance differences.
&quot;&quot;&quot;

# Generate synthetic catalog
n_stars = 100000
catalog = {
    &#x27;ra&#x27;: np.random.uniform(0, 360, n_stars),      # Right ascension
    &#x27;dec&#x27;: np.random.uniform(-90, 90, n_stars),    # Declination  
    &#x27;mag&#x27;: np.random.uniform(-1, 20, n_stars)      # Magnitude
}

def find_nearby_stars_loop(catalog, ra_center, dec_center, radius):
    &quot;&quot;&quot;Pure Python implementation.&quot;&quot;&quot;
    # Your implementation
    pass

def find_nearby_stars_numpy(catalog, ra_center, dec_center, radius):
    &quot;&quot;&quot;Vectorized NumPy implementation.&quot;&quot;&quot;
    # Your implementation
    # Hint: Use broadcasting for angular distance
    pass

# Compare performance
import time
# Your timing code here</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="exercise-7-4-memory-efficient-large-array-processing-1" class="relative group"><span class="heading-text">Exercise 7.4: Memory-Efficient Large Array Processing</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-7-4-memory-efficient-large-array-processing-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Work with arrays too large to fit in memory:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">&quot;&quot;&quot;
Process a large dataset in chunks to avoid memory issues:

1. Create a large dataset (simulate with smaller array)
2. Process in chunks of fixed size
3. Combine results appropriately

Example task: Calculate statistics for a 10GB array
on a machine with 4GB RAM.

Implement:
- Chunked mean calculation
- Chunked standard deviation (trickier!)
- Chunked percentiles
&quot;&quot;&quot;

def chunked_mean(data_generator, chunk_size=1000000):
    &quot;&quot;&quot;Calculate mean of data that comes in chunks.&quot;&quot;&quot;
    total_sum = 0
    total_count = 0
    
    for chunk in data_generator:
        # Your implementation
        pass
    
    return total_sum / total_count

def chunked_std(data_generator, chunk_size=1000000):
    &quot;&quot;&quot;Calculate standard deviation in chunks.
    Hint: Use Welford&#x27;s online algorithm or two-pass approach
    &quot;&quot;&quot;
    # Your implementation
    pass

# Test with generator that simulates large data
def data_generator(total_size, chunk_size):
    &quot;&quot;&quot;Generate random data in chunks.&quot;&quot;&quot;
    n_chunks = total_size // chunk_size
    for _ in range(n_chunks):
        yield np.random.randn(chunk_size)
    
    remainder = total_size % chunk_size
    if remainder:
        yield np.random.randn(remainder)

# Verify your implementation
# Should work even if total_size &gt; available memory</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h2 id="key-takeaways-1" class="relative group"><span class="heading-text">Key Takeaways</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#key-takeaways-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>✅ <strong>NumPy arrays are not Python lists</strong> - They store homogeneous data in contiguous memory, enabling 10-100x performance improvements through vectorized operations in compiled code.</p><p>✅ <strong>Vectorization is the key mental shift</strong> - Think in terms of operations on entire arrays, not individual elements. This leverages CPU vector instructions and eliminates Python loop overhead.</p><p>✅ <strong>Broadcasting enables elegant code</strong> - Operations between arrays of different shapes follow simple rules, eliminating the need for explicit loops while maintaining memory efficiency.</p><p>✅ <strong>Views vs copies matter for performance</strong> - Basic slicing creates views (shared memory), while fancy indexing creates copies. Understanding this prevents bugs and memory issues.</p><p>✅ <strong>Data types affect both memory and precision</strong> - Choose float32 for speed/memory with acceptable precision loss, float64 for accuracy, and appropriate integer types for counting.</p><p>✅ <strong>Memory layout impacts performance</strong> - Row-major (C) vs column-major (Fortran) ordering affects cache efficiency. Access patterns should match memory layout.</p><p>✅ <strong>NumPy is the foundation</strong> - Every major scientific Python library builds on NumPy. Understanding NumPy deeply means understanding scientific Python.</p><p>✅ <strong>Debugging NumPy requires different tools</strong> - Use shape, dtype, and flags attributes to understand arrays. Check for views vs copies, broadcasting behavior, and memory layout.</p><h2 id="quick-reference-tables-1" class="relative group"><span class="heading-text">Quick Reference Tables</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#quick-reference-tables-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="array-creation-functions-1" class="relative group"><span class="heading-text">Array Creation Functions</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#array-creation-functions-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><table class=""><tbody><tr class=""><th class="">Function</th><th class="">Purpose</th><th class="">Example</th></tr><tr class=""><td class=""><code>np.array()</code></td><td class="">From Python sequence</td><td class=""><code>np.array([1, 2, 3])</code></td></tr><tr class=""><td class=""><code>np.zeros()</code></td><td class="">Initialize with zeros</td><td class=""><code>np.zeros((3, 4))</code></td></tr><tr class=""><td class=""><code>np.ones()</code></td><td class="">Initialize with ones</td><td class=""><code>np.ones((2, 3))</code></td></tr><tr class=""><td class=""><code>np.empty()</code></td><td class="">Uninitialized (fast)</td><td class=""><code>np.empty((2, 2))</code></td></tr><tr class=""><td class=""><code>np.arange()</code></td><td class="">Range of values</td><td class=""><code>np.arange(0, 10, 2)</code></td></tr><tr class=""><td class=""><code>np.linspace()</code></td><td class="">N evenly spaced</td><td class=""><code>np.linspace(0, 1, 11)</code></td></tr><tr class=""><td class=""><code>np.logspace()</code></td><td class="">Log-spaced values</td><td class=""><code>np.logspace(0, 3, 4)</code></td></tr><tr class=""><td class=""><code>np.eye()</code></td><td class="">Identity matrix</td><td class=""><code>np.eye(3)</code></td></tr><tr class=""><td class=""><code>np.random.rand()</code></td><td class="">Uniform [0,1)</td><td class=""><code>np.random.rand(3, 3)</code></td></tr><tr class=""><td class=""><code>np.random.randn()</code></td><td class="">Standard normal</td><td class=""><code>np.random.randn(3, 3)</code></td></tr></tbody></table><h3 id="essential-array-attributes-1" class="relative group"><span class="heading-text">Essential Array Attributes</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#essential-array-attributes-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><table class=""><tbody><tr class=""><th class="">Attribute</th><th class="">Description</th><th class="">Example Output</th></tr><tr class=""><td class=""><code>.shape</code></td><td class="">Dimensions</td><td class=""><code>(3, 4)</code></td></tr><tr class=""><td class=""><code>.ndim</code></td><td class="">Number of dimensions</td><td class=""><code>2</code></td></tr><tr class=""><td class=""><code>.size</code></td><td class="">Total elements</td><td class=""><code>12</code></td></tr><tr class=""><td class=""><code>.dtype</code></td><td class="">Data type</td><td class=""><code>dtype(&#x27;float64&#x27;)</code></td></tr><tr class=""><td class=""><code>.nbytes</code></td><td class="">Total bytes</td><td class=""><code>96</code></td></tr><tr class=""><td class=""><code>.T</code></td><td class="">Transpose</td><td class="">Array view</td></tr><tr class=""><td class=""><code>.flat</code></td><td class="">Flattened iterator</td><td class="">Iterator object</td></tr><tr class=""><td class=""><code>.real</code></td><td class="">Real part</td><td class="">Array</td></tr><tr class=""><td class=""><code>.imag</code></td><td class="">Imaginary part</td><td class="">Array</td></tr></tbody></table><h3 id="common-array-methods-1" class="relative group"><span class="heading-text">Common Array Methods</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#common-array-methods-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><table class=""><tbody><tr class=""><th class="">Method</th><th class="">Purpose</th><th class="">Example</th></tr><tr class=""><td class=""><code>.reshape()</code></td><td class="">Change dimensions</td><td class=""><code>arr.reshape(2, 3)</code></td></tr><tr class=""><td class=""><code>.flatten()</code></td><td class="">To 1D copy</td><td class=""><code>arr.flatten()</code></td></tr><tr class=""><td class=""><code>.ravel()</code></td><td class="">To 1D view/copy</td><td class=""><code>arr.ravel()</code></td></tr><tr class=""><td class=""><code>.transpose()</code></td><td class="">Swap axes</td><td class=""><code>arr.transpose()</code></td></tr><tr class=""><td class=""><code>.swapaxes()</code></td><td class="">Swap two axes</td><td class=""><code>arr.swapaxes(0, 1)</code></td></tr><tr class=""><td class=""><code>.sum()</code></td><td class="">Sum elements</td><td class=""><code>arr.sum(axis=0)</code></td></tr><tr class=""><td class=""><code>.mean()</code></td><td class="">Average</td><td class=""><code>arr.mean()</code></td></tr><tr class=""><td class=""><code>.std()</code></td><td class="">Standard deviation</td><td class=""><code>arr.std()</code></td></tr><tr class=""><td class=""><code>.min()/.max()</code></td><td class="">Extrema</td><td class=""><code>arr.max()</code></td></tr><tr class=""><td class=""><code>.argmin()/.argmax()</code></td><td class="">Index of extrema</td><td class=""><code>arr.argmax()</code></td></tr><tr class=""><td class=""><code>.sort()</code></td><td class="">Sort in-place</td><td class=""><code>arr.sort()</code></td></tr><tr class=""><td class=""><code>.copy()</code></td><td class="">Deep copy</td><td class=""><code>arr.copy()</code></td></tr></tbody></table><h3 id="mathematical-functions" class="relative group"><span class="heading-text">Mathematical Functions</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#mathematical-functions" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><table class=""><tbody><tr class=""><th class="">Function</th><th class="">Purpose</th><th class="">Example</th></tr><tr class=""><td class=""><code>np.add()</code></td><td class="">Addition</td><td class=""><code>np.add(a, b)</code> or <code>a + b</code></td></tr><tr class=""><td class=""><code>np.multiply()</code></td><td class="">Element-wise multiply</td><td class=""><code>np.multiply(a, b)</code> or <code>a * b</code></td></tr><tr class=""><td class=""><code>np.dot()</code></td><td class="">Dot product</td><td class=""><code>np.dot(a, b)</code></td></tr><tr class=""><td class=""><code>np.matmul()</code></td><td class="">Matrix multiply</td><td class=""><code>np.matmul(a, b)</code> or <code>a @ b</code></td></tr><tr class=""><td class=""><code>np.sqrt()</code></td><td class="">Square root</td><td class=""><code>np.sqrt(arr)</code></td></tr><tr class=""><td class=""><code>np.exp()</code></td><td class="">Exponential</td><td class=""><code>np.exp(arr)</code></td></tr><tr class=""><td class=""><code>np.log()</code></td><td class="">Natural log</td><td class=""><code>np.log(arr)</code></td></tr><tr class=""><td class=""><code>np.sin()/.cos()</code></td><td class="">Trigonometric</td><td class=""><code>np.sin(arr)</code></td></tr><tr class=""><td class=""><code>np.abs()</code></td><td class="">Absolute value</td><td class=""><code>np.abs(arr)</code></td></tr><tr class=""><td class=""><code>np.round()</code></td><td class="">Round to nearest</td><td class=""><code>np.round(arr, 2)</code></td></tr></tbody></table><h3 id="broadcasting-rules-quick-reference-1" class="relative group"><span class="heading-text">Broadcasting Rules Quick Reference</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#broadcasting-rules-quick-reference-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><table class=""><tbody><tr class=""><th class="">Shape A</th><th class="">Shape B</th><th class="">Result</th><th class="">Rule Applied</th></tr><tr class=""><td class=""><code>(3,)</code></td><td class=""><code>()</code></td><td class=""><code>(3,)</code></td><td class="">Scalar broadcasts</td></tr><tr class=""><td class=""><code>(3, 4)</code></td><td class=""><code>(4,)</code></td><td class=""><code>(3, 4)</code></td><td class="">1D broadcasts to rows</td></tr><tr class=""><td class=""><code>(3, 4)</code></td><td class=""><code>(3, 1)</code></td><td class=""><code>(3, 4)</code></td><td class="">Column broadcasts</td></tr><tr class=""><td class=""><code>(3, 1, 4)</code></td><td class=""><code>(1, 5, 4)</code></td><td class=""><code>(3, 5, 4)</code></td><td class="">Both broadcast</td></tr><tr class=""><td class=""><code>(3, 4)</code></td><td class=""><code>(2, 3, 4)</code></td><td class=""><code>(2, 3, 4)</code></td><td class="">Smaller adds dimensions</td></tr><tr class=""><td class=""><code>(3, 4)</code></td><td class=""><code>(5, 4)</code></td><td class="">Error!</td><td class="">Incompatible</td></tr></tbody></table><h3 id="linear-algebra-functions" class="relative group"><span class="heading-text">Linear Algebra Functions</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#linear-algebra-functions" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><table class=""><tbody><tr class=""><th class="">Function</th><th class="">Purpose</th><th class="">Example</th></tr><tr class=""><td class=""><code>np.linalg.inv()</code></td><td class="">Matrix inverse</td><td class=""><code>np.linalg.inv(A)</code></td></tr><tr class=""><td class=""><code>np.linalg.det()</code></td><td class="">Determinant</td><td class=""><code>np.linalg.det(A)</code></td></tr><tr class=""><td class=""><code>np.linalg.eig()</code></td><td class="">Eigenvalues/vectors</td><td class=""><code>vals, vecs = np.linalg.eig(A)</code></td></tr><tr class=""><td class=""><code>np.linalg.solve()</code></td><td class="">Solve Ax = b</td><td class=""><code>np.linalg.solve(A, b)</code></td></tr><tr class=""><td class=""><code>np.linalg.lstsq()</code></td><td class="">Least squares</td><td class=""><code>np.linalg.lstsq(A, b)</code></td></tr><tr class=""><td class=""><code>np.linalg.norm()</code></td><td class="">Matrix/vector norm</td><td class=""><code>np.linalg.norm(A)</code></td></tr><tr class=""><td class=""><code>np.linalg.svd()</code></td><td class="">Singular value decomp</td><td class=""><code>U, s, Vh = np.linalg.svd(A)</code></td></tr><tr class=""><td class=""><code>np.linalg.qr()</code></td><td class="">QR decomposition</td><td class=""><code>Q, R = np.linalg.qr(A)</code></td></tr></tbody></table><h2 id="common-patterns-reference" class="relative group"><span class="heading-text">Common Patterns Reference</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#common-patterns-reference" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="pattern-normalize-data" class="relative group"><span class="heading-text">Pattern: Normalize Data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#pattern-normalize-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Min-max normalization to [0, 1]
normalized = (data - data.min()) / (data.max() - data.min())

# Z-score normalization (standardization)
standardized = (data - data.mean()) / data.std()

# Normalize each column independently
col_normalized = (data - data.mean(axis=0)) / data.std(axis=0)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="pattern-find-indices" class="relative group"><span class="heading-text">Pattern: Find Indices</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#pattern-find-indices" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Find indices where condition is true
indices = np.where(arr &gt; threshold)

# Find first/last occurrence
first_idx = np.argmax(arr &gt; threshold)  # First True
last_idx = len(arr) - np.argmax((arr &gt; threshold)[::-1]) - 1

# Find N largest/smallest indices
n_largest_idx = np.argpartition(arr, -n)[-n:]
n_smallest_idx = np.argpartition(arr, n)[:n]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="pattern-sliding-window" class="relative group"><span class="heading-text">Pattern: Sliding Window</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#pattern-sliding-window" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Using stride tricks for sliding windows
from numpy.lib.stride_tricks import sliding_window_view

# Sliding window of size 3
windows = sliding_window_view(arr, window_shape=3)

# Manual approach with as_strided (advanced)
from numpy.lib.stride_tricks import as_strided
window_size = 3
shape = (len(arr) - window_size + 1, window_size)
strides = (arr.strides[0], arr.strides[0])
windows = as_strided(arr, shape=shape, strides=strides)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="pattern-batch-processing" class="relative group"><span class="heading-text">Pattern: Batch Processing</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#pattern-batch-processing" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Process large array in batches
batch_size = 1000
n_samples = len(data)

for start_idx in range(0, n_samples, batch_size):
    end_idx = min(start_idx + batch_size, n_samples)
    batch = data[start_idx:end_idx]
    # Process batch
    result[start_idx:end_idx] = process(batch)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h2 id="debugging-checklist-1" class="relative group"><span class="heading-text">Debugging Checklist</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#debugging-checklist-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>When NumPy code doesn’t work as expected, check:</p><ol start="1"><li><p><strong>Shape mismatch</strong>: Print shapes of all arrays</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">print(f&quot;A shape: {A.shape}, B shape: {B.shape}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></li><li><p><strong>Data type issues</strong>: Check and convert if needed</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">print(f&quot;dtype: {arr.dtype}&quot;)
arr = arr.astype(np.float64)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></li><li><p><strong>View vs copy</strong>: Check if modification affects original</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">print(f&quot;Is view: {arr.base is not None}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></li><li><p><strong>Broadcasting</strong>: Verify broadcast behavior</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">result_shape = np.broadcast_shapes(A.shape, B.shape)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></li><li><p><strong>Memory layout</strong>: Check for performance issues</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">print(f&quot;C-contiguous: {arr.flags[&#x27;C_CONTIGUOUS&#x27;]}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></li><li><p><strong>NaN/Inf values</strong>: Check for numerical issues</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">print(f&quot;Has NaN: {np.isnan(arr).any()}&quot;)
print(f&quot;Has Inf: {np.isinf(arr).any()}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></li></ol><h2 id="further-resources-1" class="relative group"><span class="heading-text">Further Resources</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#further-resources-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="official-documentation" class="relative group"><span class="heading-text">Official Documentation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#official-documentation" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li><a target="_blank" rel="noreferrer" href="https://numpy.org/doc/stable/user/index.html" class="">NumPy User Guide</a> - Comprehensive user guide</li><li><a target="_blank" rel="noreferrer" href="https://numpy.org/doc/stable/reference/index.html" class="">NumPy Reference</a> - Complete API reference</li><li><a target="_blank" rel="noreferrer" href="https://numpy.org/doc/stable/user/numpy-for-matlab-users.html" class="">NumPy for MATLAB users</a> - Transition guide</li></ul><h3 id="advanced-topics" class="relative group"><span class="heading-text">Advanced Topics</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#advanced-topics" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li><a target="_blank" rel="noreferrer" href="https://numpy.org/doc/stable/reference/internals.html" class="">NumPy’s internals</a> - How NumPy works under the hood</li><li><a target="_blank" rel="noreferrer" href="https://numpy.org/doc/stable/reference/arrays.interface.html" class="">Array interface</a> - For creating NumPy-compatible objects</li><li><a target="_blank" rel="noreferrer" href="https://numpy.org/doc/stable/reference/c-api/index.html" class="">C-API</a> - For extending NumPy with C</li></ul><h3 id="performance-resources" class="relative group"><span class="heading-text">Performance Resources</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#performance-resources" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li><a target="_blank" rel="noreferrer" href="https://numpy.org/doc/stable/user/c-info.how-to-extend.html" class="">Performance tips</a> - Official optimization guide</li><li><a target="_blank" rel="noreferrer" href="https://numpy.org/doc/stable/reference/arrays.ndarray.html#internal-memory-layout-of-an-ndarray" class="">Memory layout</a> - Understanding strides and memory</li></ul><h2 id="next-chapter-preview-1" class="relative group"><span class="heading-text">Next Chapter Preview</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#next-chapter-preview-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>With NumPy mastery achieved, Chapter 8 introduces Matplotlib for visualization. You’ll discover how Matplotlib’s object-oriented design (building on Chapter 6) works seamlessly with NumPy arrays. You’ll learn to create publication-quality figures, from simple line plots to complex multi-panel visualizations, understanding how every plot element is an object you can customize.</p><p>The NumPy-Matplotlib connection is fundamental: every data point you plot is a NumPy array, every image you display is a NumPy array, and every transformation you apply uses NumPy operations. Understanding NumPy deeply means you can manipulate plot data directly, create custom colormaps as arrays, and even implement your own visualization algorithms.</p><p>Get ready to make your data sing through visualization!</p><div></div><div class="flex pt-10 mb-10 space-x-4"><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/python-oop-orig"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="text-xs text-gray-500 dark:text-gray-400">Python Fundamentals</div>Chapter 6: Object-Oriented Programming - Organizing Scientific Code</div></div></a><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/python-matplotlib-scientific-orig"><div class="flex h-full align-middle"><div class="flex-grow"><div class="text-xs text-gray-500 dark:text-gray-400">Scientific Computing Core</div>Chapter 8: Matplotlib - Creating Publication-Quality Scientific Visualizations</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></main></article><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="/build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/build/_shared/chunk-JSE36H2O.js"/><link rel="modulepreload" href="/build/_shared/chunk-HBJK6BW3.js"/><link rel="modulepreload" href="/build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="/build/_shared/chunk-OHOXABTA.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/build/_shared/chunk-C7FW3E47.js"/><link rel="modulepreload" href="/build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/build/_shared/chunk-ND43KHSX.js"/><link rel="modulepreload" href="/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/build/root-IB5726YR.js"/><link rel="modulepreload" href="/build/_shared/chunk-NBON2RSI.js"/><link rel="modulepreload" href="/build/routes/$-LXLHKVOR.js"/><script>window.__remixContext = {"url":"/python-numpy-scientific-orig","state":{"loaderData":{"root":{"config":{"version":2,"myst":"1.6.0","title":"ASTR 596: Modeling the Universe","options":{"logo_text":"✨ASTR 596✨"},"nav":[],"actions":[],"projects":[{"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"subject":"Modeling the Universe","title":"ASTR 596: Modeling the Universe","description":"Graduate-level computational astrophysics course emphasizing glass-box modeling and modern computational frameworks","authors":[{"nameParsed":{"literal":"Anna Rosen","given":"Anna","family":"Rosen"},"name":"Anna Rosen","orcid":"0000-0003-4423-0660","email":"alrosen@sdsu.edu","affiliations":["San Diego State University"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"venue":{"title":"ASTR 596 - Fall 2025","url":"https://www.anna-rosen.com"},"github":"https://github.com/astrobytes-edu/astr596-modeling-universe","keywords":["computational astrophysics","python","numerical methods","machine learning","monte carlo","neural networks","radiative transfer","bayesian inference","JAX"],"affiliations":[{"id":"San Diego State University","name":"San Diego State University"}],"id":"76c4875f-ba4c-4a35-bc58-52304ee2705e","thebe":{"kernelName":"python3"},"exports":[],"bibliography":[],"index":"index","pages":[{"title":"Course Info","level":1},{"slug":"syllabus","title":"Syllabus - ASTR 596: Modeling the Universe","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"schedule","title":"Course Schedule \u0026 Important Dates","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"ai-guidelines-final","title":"ASTR 596 AI Policy \u0026 Learning Framework","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"learning-guide-final","title":"Troubleshooting \u0026 Learning Guide","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"course-overview-final","title":"Understanding Your Learning Journey in ASTR 596","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"why-different-final","title":"Why ASTR 596 is Designed This Way","description":"","date":"","thumbnail":"/build/growth-mindset-f09d688b3b9e3cf1880effa6bda2802e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Getting Started","level":1},{"slug":"software-setup-guide-orig","title":"Software Setup Guide","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"git-intro-guide-orig","title":"Introduction to Git and GitHub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"cli-intro-guide-orig","title":"Introduction to the Command Line Interface (CLI)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Python","level":1},{"title":"Python Fundamentals","level":2},{"slug":"python-enrivonment-revised","title":"Chapter 1: Computational Environments \u0026 Scientific Workflows","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-calculator-orig","title":"Chapter 2: Python as a Calculator \u0026 Basic Data Types","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-control-flow-orig","title":"Chapter 3: Control Flow \u0026 Logic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-data-structures-orig","title":"Chapter 4: Data Structures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-functions-modules-orig","title":"Chapter 5: Functions \u0026 Modules - Building Reusable Scientific Code","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-oop-orig","title":"Chapter 6: Object-Oriented Programming - Organizing Scientific Code","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Scientific Computing Core","level":2},{"slug":"python-numpy-scientific-orig","title":"Chapter 7: NumPy - The Foundation of Scientific Computing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-matplotlib-scientific-orig","title":"Chapter 8: Matplotlib - Creating Publication-Quality Scientific Visualizations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-robust-computing-orig","title":"Chapter 9: Robust Computing Fundamentals - Error Handling and Best Practices","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Computational Methods","level":1},{"slug":"index-1","title":"Computational Methods","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Machine Learning","level":2},{"slug":"index-2","title":"Machine Learning","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Modern Frameworks","level":2},{"slug":"index-3","title":"Modern Frameworks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Numerical Methods","level":2},{"slug":"index-4","title":"Numerical Methods","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Python Fundamentals V1","level":2},{"title":"Python Fundamentals","level":3},{"slug":"index-5","title":"Python Fundamentals","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"chapter1-python-calculator","title":"Chapter 1: Python as a Scientific Calculator","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"chapter2-control-flow","title":"Chapter 2: Control Flow \u0026 Logic - Teaching Computers to Think","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"chapter3-functions","title":"Chapter 3: Functions - The Art of Abstraction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Astrophysics","level":1},{"slug":"index-6","title":"Astrophysics Applications","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Advanced Topics","level":2},{"slug":"index-7","title":"Advanced Topics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Gravitational Dynamics","level":2},{"slug":"index-8","title":"Gravitational Dynamics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Radiative Transfer","level":2},{"slug":"index-9","title":"Radiative Transfer","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Stellar Physics","level":2},{"slug":"index-10","title":"Stellar Physics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Short Projects","level":1},{"slug":"index-11","title":"Short Projects Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"project-submission-guide","title":"ASTR 596: Project Submission Guide","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"project1-description","title":"ASTR 596 Project 1: Python Fundamentals + Numerical Analysis + Stellar Physics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"project2-description","title":"ASTR 596 Project 2: N-Body Dynamics + Statistical Sampling + Stellar Systems","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"project3-description","title":"ASTR 596 Project 3: Monte Carlo Radiative Transfer + MCMC + Bayesian Statistics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Final Project","level":1},{"slug":"index-12","title":"Final Project: Neural Networks \u0026 JAX","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"astr596-project-outline","title":"ASTR596: Modeling the Universe - Complete Scaffolded Project Progression","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"final-project-guide","title":"ASTR 596: Final Project Guide","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Reference","level":1},{"slug":"index-13","title":"Reference Materials","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"cli-advanced-guide","title":"Advanced CLI Guide (Optional)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"External Resources","level":2},{"slug":"index-14","title":"External Resources","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Quick References","level":2},{"slug":"index-15","title":"Quick References","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Troubleshooting","level":2},{"slug":"index-16","title":"Troubleshooting","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static"},"routes/$":{"config":{"version":2,"myst":"1.6.0","title":"ASTR 596: Modeling the Universe","options":{"logo_text":"✨ASTR 596✨"},"nav":[],"actions":[],"projects":[{"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"subject":"Modeling the Universe","title":"ASTR 596: Modeling the Universe","description":"Graduate-level computational astrophysics course emphasizing glass-box modeling and modern computational frameworks","authors":[{"nameParsed":{"literal":"Anna Rosen","given":"Anna","family":"Rosen"},"name":"Anna Rosen","orcid":"0000-0003-4423-0660","email":"alrosen@sdsu.edu","affiliations":["San Diego State University"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"venue":{"title":"ASTR 596 - Fall 2025","url":"https://www.anna-rosen.com"},"github":"https://github.com/astrobytes-edu/astr596-modeling-universe","keywords":["computational astrophysics","python","numerical methods","machine learning","monte carlo","neural networks","radiative transfer","bayesian inference","JAX"],"affiliations":[{"id":"San Diego State University","name":"San Diego State University"}],"id":"76c4875f-ba4c-4a35-bc58-52304ee2705e","thebe":{"kernelName":"python3"},"exports":[],"bibliography":[],"index":"index","pages":[{"title":"Course Info","level":1},{"slug":"syllabus","title":"Syllabus - ASTR 596: Modeling the Universe","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"schedule","title":"Course Schedule \u0026 Important Dates","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"ai-guidelines-final","title":"ASTR 596 AI Policy \u0026 Learning Framework","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"learning-guide-final","title":"Troubleshooting \u0026 Learning Guide","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"course-overview-final","title":"Understanding Your Learning Journey in ASTR 596","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"why-different-final","title":"Why ASTR 596 is Designed This Way","description":"","date":"","thumbnail":"/build/growth-mindset-f09d688b3b9e3cf1880effa6bda2802e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Getting Started","level":1},{"slug":"software-setup-guide-orig","title":"Software Setup Guide","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"git-intro-guide-orig","title":"Introduction to Git and GitHub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"cli-intro-guide-orig","title":"Introduction to the Command Line Interface (CLI)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Python","level":1},{"title":"Python Fundamentals","level":2},{"slug":"python-enrivonment-revised","title":"Chapter 1: Computational Environments \u0026 Scientific Workflows","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-calculator-orig","title":"Chapter 2: Python as a Calculator \u0026 Basic Data Types","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-control-flow-orig","title":"Chapter 3: Control Flow \u0026 Logic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-data-structures-orig","title":"Chapter 4: Data Structures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-functions-modules-orig","title":"Chapter 5: Functions \u0026 Modules - Building Reusable Scientific Code","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-oop-orig","title":"Chapter 6: Object-Oriented Programming - Organizing Scientific Code","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Scientific Computing Core","level":2},{"slug":"python-numpy-scientific-orig","title":"Chapter 7: NumPy - The Foundation of Scientific Computing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-matplotlib-scientific-orig","title":"Chapter 8: Matplotlib - Creating Publication-Quality Scientific Visualizations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-robust-computing-orig","title":"Chapter 9: Robust Computing Fundamentals - Error Handling and Best Practices","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Computational Methods","level":1},{"slug":"index-1","title":"Computational Methods","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Machine Learning","level":2},{"slug":"index-2","title":"Machine Learning","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Modern Frameworks","level":2},{"slug":"index-3","title":"Modern Frameworks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Numerical Methods","level":2},{"slug":"index-4","title":"Numerical Methods","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Python Fundamentals V1","level":2},{"title":"Python Fundamentals","level":3},{"slug":"index-5","title":"Python Fundamentals","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"chapter1-python-calculator","title":"Chapter 1: Python as a Scientific Calculator","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"chapter2-control-flow","title":"Chapter 2: Control Flow \u0026 Logic - Teaching Computers to Think","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"chapter3-functions","title":"Chapter 3: Functions - The Art of Abstraction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Astrophysics","level":1},{"slug":"index-6","title":"Astrophysics Applications","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Advanced Topics","level":2},{"slug":"index-7","title":"Advanced Topics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Gravitational Dynamics","level":2},{"slug":"index-8","title":"Gravitational Dynamics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Radiative Transfer","level":2},{"slug":"index-9","title":"Radiative Transfer","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Stellar Physics","level":2},{"slug":"index-10","title":"Stellar Physics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Short Projects","level":1},{"slug":"index-11","title":"Short Projects Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"project-submission-guide","title":"ASTR 596: Project Submission Guide","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"project1-description","title":"ASTR 596 Project 1: Python Fundamentals + Numerical Analysis + Stellar Physics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"project2-description","title":"ASTR 596 Project 2: N-Body Dynamics + Statistical Sampling + Stellar Systems","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"project3-description","title":"ASTR 596 Project 3: Monte Carlo Radiative Transfer + MCMC + Bayesian Statistics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Final Project","level":1},{"slug":"index-12","title":"Final Project: Neural Networks \u0026 JAX","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"astr596-project-outline","title":"ASTR596: Modeling the Universe - Complete Scaffolded Project Progression","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"final-project-guide","title":"ASTR 596: Final Project Guide","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Reference","level":1},{"slug":"index-13","title":"Reference Materials","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"cli-advanced-guide","title":"Advanced CLI Guide (Optional)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"External Resources","level":2},{"slug":"index-14","title":"External Resources","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Quick References","level":2},{"slug":"index-15","title":"Quick References","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Troubleshooting","level":2},{"slug":"index-16","title":"Troubleshooting","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3}]}]},"page":{"version":2,"kind":"Article","sha256":"254e02943bfaa7d1b64e98dba8aaa794485efff74b55fc5623a0a093e671cedd","slug":"python-numpy-scientific-orig","location":"/03-python/02-scientific-computing-core/07-python-numpy-scientific-ORIG.md","dependencies":[],"frontmatter":{"title":"Chapter 7: NumPy - The Foundation of Scientific Computing","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Anna Rosen","given":"Anna","family":"Rosen"},"name":"Anna Rosen","orcid":"0000-0003-4423-0660","email":"alrosen@sdsu.edu","affiliations":["San Diego State University"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/astrobytes-edu/astr596-modeling-universe","subject":"Modeling the Universe","venue":{"title":"ASTR 596 - Fall 2025","url":"https://www.anna-rosen.com"},"keywords":["computational astrophysics","python","numerical methods","machine learning","monte carlo","neural networks","radiative transfer","bayesian inference","JAX"],"affiliations":[{"id":"San Diego State University","name":"San Diego State University"}],"numbering":{"title":{"offset":2}},"edit_url":"https://github.com/astrobytes-edu/astr596-modeling-universe/blob/main/03-python/02-scientific-computing-core/07-python-numpy-scientific-ORIG.md","exports":[{"format":"md","filename":"07-python-numpy-scientific-ORIG.md","url":"/build/07-python-numpy-scie-b3f695edc08deb41f283969b2861e4ea.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Learning Objectives","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cDDElvBGjU"}],"identifier":"learning-objectives","label":"Learning Objectives","html_id":"learning-objectives","implicit":true,"key":"K82rJaHLIu"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"By the end of this chapter, you will be able to:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"xxIlzqPR2y"}],"key":"o4Puw9p46G"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Understand why NumPy arrays are 10-100x faster than Python lists for numerical computation","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"VnXRtjv27w"}],"key":"TYkflZm2Oh"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Create and manipulate arrays using various initialization methods and slicing techniques","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"eyM9srJVgS"}],"key":"LoVuuFEyUi"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Apply vectorization to eliminate explicit loops and write efficient scientific code","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"lJRNR94ZBu"}],"key":"LzNvZsElYK"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Master broadcasting rules to perform operations on arrays of different shapes elegantly","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"dhZDSH6WUP"}],"key":"pvg6eArom4"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Use NumPy’s mathematical functions for scientific calculations","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"KAOUSGMwKx"}],"key":"GZGNeetntN"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Understand memory layout and its impact on performance","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"tl2B9yAA2o"}],"key":"Wnaaem5jwN"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Debug common NumPy errors and understand when operations create copies vs views","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"yLOwBAoNa8"}],"key":"P0xWDVNgpa"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Choose when NumPy is appropriate versus other tools like pandas or sparse matrices","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"RTzIiAIH6n"}],"key":"VRP3pXQ3l2"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Integrate NumPy with the scientific Python ecosystem","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"sKsVY3obSB"}],"key":"E3dXfBGCPn"}],"key":"W49NNXZXCU"},{"type":"heading","depth":2,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Prerequisites Check","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"napio0Ep0S"}],"identifier":"prerequisites-check","label":"Prerequisites Check","html_id":"prerequisites-check","implicit":true,"key":"w0qXjklrLg"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Before starting this chapter, verify you can:","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"lY1Y6h09Q7"}],"key":"EhxzWtzo8U"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":19,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"✓ Work with Python lists and understand indexing/slicing (Chapter 4)","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"Sqs5Ch6d3V"}],"key":"A0FvP7W3Jx"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"✓ Write functions and understand scope (Chapter 5)","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"zuKEfDXBka"}],"key":"MkFYgHgQcQ"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"✓ Understand object methods and attributes (Chapter 6)","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"n3oI1nqaEn"}],"key":"Ojn83Kl1it"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"✓ Use list comprehensions for data transformation (Chapter 4)","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"TU87fOquH8"}],"key":"VyrPho4N4l"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"✓ Work with nested data structures (Chapter 4)","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"UwZekTYW9z"}],"key":"cCuz9zizHh"}],"key":"gOC4SFxaKG"},{"type":"heading","depth":2,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Chapter Overview","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"Q4tauwkTPh"}],"identifier":"chapter-overview","label":"Chapter Overview","html_id":"chapter-overview","implicit":true,"key":"njQ3YncKUJ"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"So far, you’ve been using Python lists for numerical data. But try this simple experiment: compute the sum of squares for a million numbers using a list comprehension versus a loop. Even with list comprehensions, Python is surprisingly slow for numerical work. This is where NumPy transforms Python from a general-purpose language into a scientific computing powerhouse.","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"djZ9ORJQ4K"}],"key":"T0c4XxQjen"},{"type":"paragraph","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"NumPy (Numerical Python) is not just a library—it’s the foundation upon which the entire scientific Python ecosystem is built. Every plot you make with Matplotlib, every optimization you run with SciPy, every dataframe you manipulate with Pandas, ultimately relies on NumPy arrays. Understanding NumPy deeply means understanding how scientific computing works in Python.","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"YlyuVxVOwA"}],"key":"ivnNbkTDel"},{"type":"paragraph","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"This chapter reveals why NumPy is fast (hint: it’s not written in Python), how its mental model differs from pure Python (vectorization over loops), and how its design patterns appear throughout scientific computing. You’ll learn to think in arrays, not elements—a fundamental shift that makes the difference between code that takes hours and code that takes seconds. By the end, you’ll understand why that ","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"IRLcWBPTJT"},{"type":"inlineCode","value":"Star","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"pIw9iaIJGD"},{"type":"text","value":" class you created in Chapter 6 might be better represented as a structured NumPy array when you have millions of stars to process.","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"fDkQ6Gu1Re"}],"key":"LnXkN4c7YX"},{"type":"heading","depth":2,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"7.1 Why NumPy? The Performance Revolution","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"HyCMcaj4NP"}],"identifier":"id-7-1-why-numpy-the-performance-revolution","label":"7.1 Why NumPy? The Performance Revolution","html_id":"id-7-1-why-numpy-the-performance-revolution","implicit":true,"key":"M7M7wJ6XIG"},{"type":"paragraph","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Let’s start with a motivating example that shows why NumPy exists:","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"hRImztOUMp"}],"key":"BgAWbcfLIl"},{"type":"code","lang":"python","value":"In [1]: import time\nIn [2]: import numpy as np\n\n# Pure Python: sum of squares for 1 million numbers\nIn [3]: def python_sum_of_squares(n):\n   ...:     \"\"\"Pure Python implementation using list comprehension.\"\"\"\n   ...:     numbers = list(range(n))\n   ...:     return sum(x**2 for x in numbers)\n\n# NumPy: same calculation\nIn [4]: def numpy_sum_of_squares(n):\n   ...:     \"\"\"NumPy implementation using vectorization.\"\"\"\n   ...:     numbers = np.arange(n)\n   ...:     return np.sum(numbers**2)\n\n# Time both approaches\nIn [5]: n = 1_000_000\n\nIn [6]: start = time.perf_counter()\nIn [7]: python_result = python_sum_of_squares(n)\nIn [8]: python_time = time.perf_counter() - start\n\nIn [9]: start = time.perf_counter()\nIn [10]: numpy_result = numpy_sum_of_squares(n)\nIn [11]: numpy_time = time.perf_counter() - start\n\nIn [12]: print(f\"Python: {python_time:.3f} seconds\")\nIn [13]: print(f\"NumPy:  {numpy_time:.3f} seconds\")\nIn [14]: print(f\"Speedup: {python_time/numpy_time:.1f}x\")\nPython: 0.142 seconds\nNumPy:  0.003 seconds\nSpeedup: 47.3x\n\nIn [15]: python_result == numpy_result  # Same answer!\nOut[15]: True","position":{"start":{"line":37,"column":1},"end":{"line":73,"column":1}},"key":"lEhodux0bB"},{"type":"paragraph","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"text","value":"NumPy is nearly 50 times faster! But why? The answer reveals fundamental truths about scientific computing.","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"LeesXCFFKL"}],"key":"rPdupvbbiq"},{"type":"heading","depth":3,"position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"text","value":"The Secret: NumPy Arrays Are Not Python Lists","position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"key":"csXSFXHzHK"}],"identifier":"the-secret-numpy-arrays-are-not-python-lists","label":"The Secret: NumPy Arrays Are Not Python Lists","html_id":"the-secret-numpy-arrays-are-not-python-lists","implicit":true,"key":"mozvigxl0s"},{"type":"paragraph","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"text","value":"Understanding the fundamental difference between Python lists and NumPy arrays is crucial for writing efficient scientific code. Python lists are incredibly flexible—they can hold any type of object, grow and shrink dynamically, and support arbitrary nesting. This flexibility comes at a cost: each element in a list is actually a pointer to a Python object stored elsewhere in memory. When you perform operations on lists, Python must follow these pointers, check types, and handle each element individually.","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"J0NPreDOD9"}],"key":"Wh4oPKaLzm"},{"type":"paragraph","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"text","value":"NumPy arrays, by contrast, store raw numerical data in contiguous blocks of memory, just like arrays in C or Fortran. All elements must be the same type, and the array size is fixed when created. These restrictions enable dramatic performance improvements.","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"jh9VUj9BBo"}],"key":"grliTPevxy"},{"type":"mermaid","value":"flowchart TD\n    subgraph \"Python List\"\n        L[List Object] --\u003e P1[Pointer 1]\n        L --\u003e P2[Pointer 2]\n        L --\u003e P3[Pointer 3]\n        L --\u003e PN[Pointer N]\n        \n        P1 --\u003e O1[Integer Object\u003cbr/\u003etype: int\u003cbr/\u003evalue: 0\u003cbr/\u003erefcount: 1]\n        P2 --\u003e O2[Integer Object\u003cbr/\u003etype: int\u003cbr/\u003evalue: 1\u003cbr/\u003erefcount: 1]\n        P3 --\u003e O3[Integer Object\u003cbr/\u003etype: int\u003cbr/\u003evalue: 2\u003cbr/\u003erefcount: 1]\n        PN --\u003e ON[Integer Object\u003cbr/\u003etype: int\u003cbr/\u003evalue: N-1\u003cbr/\u003erefcount: 1]\n    end\n    \n    subgraph \"NumPy Array\"\n        A[Array Header\u003cbr/\u003edtype: int64\u003cbr/\u003eshape: (N,)\u003cbr/\u003estrides: (8,)] --\u003e M[Contiguous Memory Block\u003cbr/\u003e0 | 1 | 2 | 3 | ... | N-1]\n    end\n    \n    style L fill:#f9f\n    style A fill:#9f9\n    style M fill:#9ff","key":"DoALLEzjYF"},{"type":"paragraph","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"text","value":"With Python lists, accessing an element means following a pointer, checking the object type, extracting the value, and potentially handling reference counting. With NumPy arrays, accessing an element is just reading from a memory offset—the same operation that happens in compiled languages. This difference becomes dramatic when operating on millions of elements.","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"UQQ7AEBtY1"}],"key":"vbUlAXDbLS"},{"type":"heading","depth":3,"position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"text","value":"The Mental Model Shift: Vectorization","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"m9ML5jRyTh"}],"identifier":"the-mental-model-shift-vectorization","label":"The Mental Model Shift: Vectorization","html_id":"the-mental-model-shift-vectorization","implicit":true,"key":"vbH5da0yJg"},{"type":"paragraph","position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"children":[{"type":"text","value":"The performance gain from NumPy requires a different programming paradigm called vectorization. Instead of thinking about operations on individual elements (the Python way), you think about operations on entire arrays (the NumPy way). This isn’t just a syntactic difference—it’s a fundamental shift in how you approach problems.","position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"key":"H1RjbeGV2q"}],"key":"ivXoVtn9kK"},{"type":"code","lang":"python","value":"# Python style: loop over elements explicitly\ndef python_distance(x_coords, y_coords):\n    \"\"\"\n    Calculate distances from origin using Python loops.\n    Note: We process each coordinate pair individually.\n    \"\"\"\n    distances = []\n    for x, y in zip(x_coords, y_coords):\n        dist = (x**2 + y**2)**0.5\n        distances.append(dist)\n    return distances\n\n# NumPy style: operate on entire arrays at once\ndef numpy_distance(x_coords, y_coords):\n    \"\"\"\n    Calculate distances from origin using vectorization.\n    The entire operation happens in compiled C code.\n    \"\"\"\n    return np.sqrt(x_coords**2 + y_coords**2)\n\n# Test with 100,000 points\nn_points = 100_000\nx = np.random.randn(n_points)  # Random x coordinates\ny = np.random.randn(n_points)  # Random y coordinates\n\n# Convert to lists for Python version\nx_list = x.tolist()\ny_list = y.tolist()\n\n# Time both approaches\n%timeit python_distance(x_list, y_list)\n# 31.2 ms ± 501 µs per loop\n\n%timeit numpy_distance(x, y)\n# 371 µs ± 5.2 µs per loop\n\n# 84x faster with vectorization!","position":{"start":{"line":112,"column":1},"end":{"line":150,"column":1}},"key":"sslNUCWd93"},{"type":"paragraph","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"text","value":"Vectorization means the loop still happens, but it’s implemented in compiled C code rather than interpreted Python. The CPU can also use SIMD (Single Instruction, Multiple Data) instructions to process multiple array elements simultaneously, further improving performance.","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"GX4HP7lYbi"}],"key":"nkHHR82qUS"},{"type":"heading","depth":3,"position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"text","value":"📦 ","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"sKl176C7Nq"},{"type":"strong","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"text","value":"Computational Thinking Box: The Two-Language Problem","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"iU6y1qoyTn"}],"key":"wAvaUgvq3m"}],"identifier":"id-computational-thinking-box-the-two-language-problem","label":"📦 Computational Thinking Box: The Two-Language Problem","html_id":"id-computational-thinking-box-the-two-language-problem","implicit":true,"key":"N4FisY08MC"},{"type":"code","lang":"","value":"PATTERN: The Two-Language Problem in Scientific Computing\n\nMany scientific computing ecosystems face a fundamental dilemma:\n- High-level languages (Python, MATLAB, R) are great for experimentation\n- Low-level languages (C, Fortran) are needed for performance\n- Scientists want to think about science, not memory management\n\nNumPy's Solution:\n- Python interface for thinking and prototyping\n- C/Fortran implementation for computation\n- Seamless boundary between the two worlds\n\nThis pattern appears throughout scientific Python:\n- NumPy: Python interface, C implementation\n- SciPy: Python interface, Fortran/C++ implementation  \n- Pandas: Python interface, Cython implementation\n- Scikit-learn: Python interface, Cython/C++ implementation\n\nThe key insight: put the language boundary at the right abstraction level.\nFor NumPy, that's the array operation, not the element operation.\nThis lets scientists write Python while getting C performance.","position":{"start":{"line":156,"column":1},"end":{"line":178,"column":1}},"key":"O1sTPMtHmU"},{"type":"heading","depth":2,"position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"children":[{"type":"text","value":"7.2 Creating Arrays: From Lists to Grids","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"JvVdSfi6AF"}],"identifier":"id-7-2-creating-arrays-from-lists-to-grids","label":"7.2 Creating Arrays: From Lists to Grids","html_id":"id-7-2-creating-arrays-from-lists-to-grids","implicit":true,"key":"THsCDUo31G"},{"type":"paragraph","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"children":[{"type":"text","value":"NumPy provides many ways to create arrays, each optimized for different use cases. Understanding these is crucial for efficient scientific computing.","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"CTQnVnRwQk"}],"key":"pd6TPDxw3j"},{"type":"heading","depth":3,"position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"children":[{"type":"text","value":"From Python Sequences","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"key":"IBGAsNnyYV"}],"identifier":"from-python-sequences","label":"From Python Sequences","html_id":"from-python-sequences","implicit":true,"key":"T0uGwgP4lI"},{"type":"paragraph","position":{"start":{"line":186,"column":1},"end":{"line":186,"column":1}},"children":[{"type":"text","value":"The most straightforward way to create NumPy arrays is by converting existing Python data structures:","position":{"start":{"line":186,"column":1},"end":{"line":186,"column":1}},"key":"b1Ed47PuPp"}],"key":"PpI9M1q1vA"},{"type":"code","lang":"python","value":"In [16]: # From a simple list\nIn [17]: list_data = [1, 2, 3, 4, 5]\nIn [18]: arr = np.array(list_data)\nIn [19]: print(f\"Array: {arr}\")\nIn [20]: print(f\"Type: {type(arr)}\")  # Note: it's an object!\nIn [21]: print(f\"Dtype: {arr.dtype}\")  # Data type of elements\nArray: [1 2 3 4 5]\nType: \u003cclass 'numpy.ndarray'\u003e\nDtype: int64\n\nIn [22]: # From nested lists (creates 2D array)\nIn [23]: matrix_data = [[1, 2, 3],\n   ...:                 [4, 5, 6],\n   ...:                 [7, 8, 9]]\nIn [24]: matrix = np.array(matrix_data)\nIn [25]: print(f\"Matrix:\\n{matrix}\")\nIn [26]: print(f\"Shape: {matrix.shape}\")  # (rows, columns)\nIn [27]: print(f\"Dimensions: {matrix.ndim}\")\nMatrix:\n[[1 2 3]\n [4 5 6]\n [7 8 9]]\nShape: (3, 3)\nDimensions: 2","position":{"start":{"line":188,"column":1},"end":{"line":213,"column":1}},"key":"WMVvjRJGID"},{"type":"paragraph","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"children":[{"type":"text","value":"Remember from Chapter 6 that NumPy arrays are objects! They have attributes (","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"jg3ZGH0y49"},{"type":"inlineCode","value":"shape","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"afbwRgwVie"},{"type":"text","value":", ","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"YS2TaRHeaB"},{"type":"inlineCode","value":"dtype","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"JZVCFBgN3D"},{"type":"text","value":", ","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"wqdaqEagNY"},{"type":"inlineCode","value":"size","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"p5QCuu0wFU"},{"type":"text","value":") and methods (","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"wUgLVQ6RcD"},{"type":"inlineCode","value":"reshape()","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"LdWxGOxKGz"},{"type":"text","value":", ","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"U4kr0BXsee"},{"type":"inlineCode","value":"mean()","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"XVl9xNasm6"},{"type":"text","value":", ","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"bHoc1R6jsK"},{"type":"inlineCode","value":"sum()","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"cdlbOqqKHo"},{"type":"text","value":"). This is object-oriented programming in action—the array object encapsulates both data and operations on that data.","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"SciJ0xEgpr"}],"key":"UqSxTYdfs0"},{"type":"heading","depth":3,"position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"children":[{"type":"text","value":"Initialization Functions","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"key":"e2GMoT0lIj"}],"identifier":"initialization-functions","label":"Initialization Functions","html_id":"initialization-functions","implicit":true,"key":"K2JQRMPrl6"},{"type":"paragraph","position":{"start":{"line":219,"column":1},"end":{"line":219,"column":1}},"children":[{"type":"text","value":"Creating arrays from scratch is often more efficient than converting lists, especially for large arrays:","position":{"start":{"line":219,"column":1},"end":{"line":219,"column":1}},"key":"jMcs2FyF8y"}],"key":"w7qtoLUq8s"},{"type":"code","lang":"python","value":"In [28]: # Arrays of zeros - useful for accumulating results\nIn [29]: zeros = np.zeros((3, 4))  # 3 rows, 4 columns\nIn [30]: print(f\"Zeros:\\n{zeros}\")\nZeros:\n[[0. 0. 0. 0.]\n [0. 0. 0. 0.]\n [0. 0. 0. 0.]]\n\nIn [31]: # Arrays of ones - useful for counting or normalization\nIn [32]: ones = np.ones((2, 3), dtype=np.int32)  # Can specify dtype\nIn [33]: print(f\"Ones:\\n{ones}\")\nOnes:\n[[1 1 1]\n [1 1 1]]\n\nIn [34]: # Identity matrix - useful for linear algebra\nIn [35]: identity = np.eye(3)\nIn [36]: print(f\"Identity:\\n{identity}\")\nIdentity:\n[[1. 0. 0.]\n [0. 1. 0.]\n [0. 0. 1.]]\n\nIn [37]: # Uninitialized array - fastest but DANGEROUS\nIn [38]: empty = np.empty((2, 2))  # Contains garbage values!\nIn [39]: print(f\"Empty (undefined values):\\n{empty}\")\nEmpty (undefined values):\n[[4.67e-310 0.00e+000]\n [0.00e+000 0.00e+000]]","position":{"start":{"line":221,"column":1},"end":{"line":251,"column":1}},"key":"CChAaSNZZm"},{"type":"heading","depth":3,"position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"text","value":"⚠️ ","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"W4dRdIiGiv"},{"type":"strong","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"text","value":"Common Bug Alert: Uninitialized Arrays","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"QsOwKZmDm0"}],"key":"Al9bN6aN1V"}],"identifier":"id-common-bug-alert-uninitialized-arrays","label":"⚠️ Common Bug Alert: Uninitialized Arrays","html_id":"id-common-bug-alert-uninitialized-arrays","implicit":true,"key":"n0EoG4YEcV"},{"type":"code","lang":"python","value":"# WRONG: Assuming empty arrays contain zeros\ndef calculate_sums_wrong(data, n_bins):\n    \"\"\"This function has a subtle bug.\"\"\"\n    sums = np.empty(n_bins)  # Contains garbage values!\n    for i, value in enumerate(data):\n        bin_idx = int(value) % n_bins\n        sums[bin_idx] += value  # Adding to garbage!\n    return sums\n\n# CORRECT: Use zeros for accumulation\ndef calculate_sums_correct(data, n_bins):\n    \"\"\"Always initialize accumulators to zero.\"\"\"\n    sums = np.zeros(n_bins)  # Properly initialized\n    for i, value in enumerate(data):\n        bin_idx = int(value) % n_bins\n        sums[bin_idx] += value  # Now safe to accumulate\n    return sums\n\n# The bug might not be obvious in testing!\ntest_data = np.array([1.5, 2.7, 3.2])\nprint(calculate_sums_wrong(test_data, 5))   # Unpredictable results!\nprint(calculate_sums_correct(test_data, 5))  # [0, 1.5, 2.7, 3.2, 0]","position":{"start":{"line":255,"column":1},"end":{"line":278,"column":1}},"key":"mMmCKZCmBd"},{"type":"paragraph","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"children":[{"type":"text","value":"Always use ","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"OMFaV7n0aY"},{"type":"inlineCode","value":"zeros()","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"faAHcITAAf"},{"type":"text","value":" for accumulation, ","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"o23Fbxjkml"},{"type":"inlineCode","value":"ones()","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"b2iqFGELD5"},{"type":"text","value":" for counting, and only use ","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"BkUBgazkuZ"},{"type":"inlineCode","value":"empty()","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"Oq8eFHHzEM"},{"type":"text","value":" when you’ll immediately overwrite all values. The performance gain from ","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"ifNWYI1XG5"},{"type":"inlineCode","value":"empty()","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"yNdgqoeYrY"},{"type":"text","value":" is rarely worth the risk of bugs.","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"PoMrjUg8Nu"}],"key":"bRyVZXhXx1"},{"type":"heading","depth":3,"position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"children":[{"type":"text","value":"Range Arrays","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"sOIbNN24qs"}],"identifier":"range-arrays","label":"Range Arrays","html_id":"range-arrays","implicit":true,"key":"edETsddm7C"},{"type":"paragraph","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"children":[{"type":"text","value":"For sequences of numbers, NumPy provides optimized functions that are much more memory-efficient than converting Python ranges:","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"s425etqkMY"}],"key":"H2AvR2tEmf"},{"type":"code","lang":"python","value":"In [40]: # Like Python's range, but returns an array\nIn [41]: integers = np.arange(10)  # 0 to 9\nIn [42]: print(f\"Integers: {integers}\")\nIntegers: [0 1 2 3 4 5 6 7 8 9]\n\nIn [43]: # With start, stop, step (half-open interval like Python)\nIn [44]: evens = np.arange(0, 10, 2)\nIn [45]: print(f\"Evens: {evens}\")\nEvens: [0 2 4 6 8]\n\nIn [46]: # Floating-point ranges (be careful with precision!)\nIn [47]: floats = np.arange(0, 1, 0.1)\nIn [48]: print(f\"Floats: {floats}\")\nIn [49]: print(f\"Length: {len(floats)}\")  # Might not be what you expect!\nFloats: [0.  0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9]\nLength: 10  # Note: doesn't include 1.0!\n\nIn [50]: # Linear spacing - specify number of points instead of step\nIn [51]: linear = np.linspace(0, 1, 11)  # 11 points from 0 to 1 inclusive\nIn [52]: print(f\"Linear: {linear}\")\nLinear: [0.  0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1. ]\n\nIn [53]: # Logarithmic spacing - for log-scale plots or sampling\nIn [54]: logarithmic = np.logspace(0, 3, 4)  # 10^0 to 10^3\nIn [55]: print(f\"Logarithmic: {logarithmic}\")\nLogarithmic: [   1.   10.  100. 1000.]","position":{"start":{"line":286,"column":1},"end":{"line":313,"column":1}},"key":"AeRaTQYpzg"},{"type":"heading","depth":3,"position":{"start":{"line":315,"column":1},"end":{"line":315,"column":1}},"children":[{"type":"text","value":"🔍 ","position":{"start":{"line":315,"column":1},"end":{"line":315,"column":1}},"key":"pDXdKRsD2p"},{"type":"strong","position":{"start":{"line":315,"column":1},"end":{"line":315,"column":1}},"children":[{"type":"text","value":"Check Your Understanding","position":{"start":{"line":315,"column":1},"end":{"line":315,"column":1}},"key":"X7b6YQ1beg"}],"key":"hrHsrBK62P"}],"identifier":"id-check-your-understanding","label":"🔍 Check Your Understanding","html_id":"id-check-your-understanding","implicit":true,"key":"gbshZSOZfd"},{"type":"paragraph","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"children":[{"type":"text","value":"What’s the difference between ","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"key":"VjyvEX3THo"},{"type":"inlineCode","value":"np.arange(0, 1, 0.1)","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"key":"NdMqzS13xR"},{"type":"text","value":" and ","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"key":"smv7kBLfNs"},{"type":"inlineCode","value":"np.linspace(0, 1, 11)","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"key":"mETDzyBide"},{"type":"text","value":"?","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"key":"eYIU1UOdHb"}],"key":"yK2ArMbJIC"},{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Answer","key":"wo9aD1BQc8"}],"key":"APmukmsXvH"},{"type":"paragraph","children":[{"type":"text","value":"Both create arrays from 0 to 1, but they work fundamentally differently and this matters for scientific computing:","key":"WB8HOW2EZj"}],"key":"LOzA202mpv"},{"type":"paragraph","children":[{"type":"inlineCode","value":"np.arange(0, 1, 0.1)","key":"VT3c1ZmOYp"},{"type":"text","value":" uses a step size of 0.1, similar to a for loop with floating-point increment. Due to floating-point arithmetic limitations, this can accumulate rounding errors and might not include exactly 1.0. The exact number of points depends on floating-point precision.","key":"zZTTUS6Eis"}],"key":"sVMRHWziKw"},{"type":"paragraph","children":[{"type":"inlineCode","value":"np.linspace(0, 1, 11)","key":"fc8SltqJx1"},{"type":"text","value":" creates exactly 11 evenly spaced points including both endpoints. It calculates the spacing to ensure exact endpoints and uniform distribution. This is more numerically stable and predictable.","key":"qoltt77hnz"}],"key":"fTiz0oG7ID"},{"type":"code","lang":"python","meta":null,"value":"# Demonstration of the subtle but important difference\narange_arr = np.arange(0, 1, 0.1)\nlinspace_arr = np.linspace(0, 1, 11)\n\nprint(f\"arange length: {len(arange_arr)}\")      # 10 (doesn't include 1.0)\nprint(f\"linspace length: {len(linspace_arr)}\")  # 11 (includes both endpoints)\nprint(f\"arange last: {arange_arr[-1]}\")         # 0.9\nprint(f\"linspace last: {linspace_arr[-1]}\")     # 1.0\n\n# Floating-point precision issues with arange\nstep = 0.1\naccumulated = 0.0\nfor i in range(3):\n    accumulated += step\nprint(f\"0.1 + 0.1 + 0.1 = {accumulated}\")  # 0.30000000000000004 (not 0.3!)","key":"YWZxP5MBgH"},{"type":"paragraph","children":[{"type":"text","value":"Use ","key":"PrBJFp41Ua"},{"type":"inlineCode","value":"linspace","key":"xE2EmATVnZ"},{"type":"text","value":" when you need a specific number of points including endpoints (common in plotting and interpolation). Use ","key":"YptqZi1VP8"},{"type":"inlineCode","value":"arange","key":"ME8tqNIjyF"},{"type":"text","value":" for integer sequences or when you need a specific step size and can tolerate floating-point imprecision.","key":"brUA02xC9D"}],"key":"WdV0U591cx"}],"key":"k0sulq9nRo"},{"type":"heading","depth":3,"position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"children":[{"type":"text","value":"Random Arrays","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"key":"LPayt7viJI"}],"identifier":"random-arrays","label":"Random Arrays","html_id":"random-arrays","implicit":true,"key":"pBrADH1yed"},{"type":"paragraph","position":{"start":{"line":352,"column":1},"end":{"line":352,"column":1}},"children":[{"type":"text","value":"Scientific computing often needs random data for Monte Carlo simulations, statistical sampling, or algorithm testing:","position":{"start":{"line":352,"column":1},"end":{"line":352,"column":1}},"key":"ezpFRYMitS"}],"key":"l0ITEq9ne0"},{"type":"code","lang":"python","value":"In [56]: # ALWAYS set seed for reproducibility in scientific work!\nIn [57]: np.random.seed(42)\n\nIn [58]: # Uniform distribution [0, 1)\nIn [59]: uniform = np.random.rand(3, 3)\nIn [60]: print(f\"Uniform:\\n{uniform}\")\nUniform:\n[[0.374 0.950 0.731]\n [0.598 0.156 0.155]\n [0.058 0.866 0.601]]\n\nIn [61]: # Standard normal distribution (mean=0, std=1)\nIn [62]: normal = np.random.randn(3, 3)\nIn [63]: print(f\"Normal:\\n{normal}\")\nNormal:\n[[ 0.708 -0.757 -1.316]\n [ 0.386  1.749  0.297]\n [-0.814 -0.454 -1.150]]\n\nIn [64]: # Random integers for discrete problems\nIn [65]: integers = np.random.randint(0, 10, size=(2, 4))\nIn [66]: print(f\"Random integers:\\n{integers}\")\nRandom integers:\n[[7 6 6 8]\n [8 3 9 8]]\n\nIn [67]: # Poisson distribution for photon counting\nIn [68]: # Mean photon count = 5 photons per pixel\nIn [69]: photon_counts = np.random.poisson(lam=5, size=10)\nIn [70]: print(f\"Photon counts: {photon_counts}\")\nPhoton counts: [3 5 6 3 8 4 3 3 6 2]","position":{"start":{"line":354,"column":1},"end":{"line":386,"column":1}},"key":"WWGkPeRAIr"},{"type":"paragraph","position":{"start":{"line":388,"column":1},"end":{"line":388,"column":1}},"children":[{"type":"text","value":"Note: NumPy 1.17+ introduced a new random API with better practices for parallel computing:","position":{"start":{"line":388,"column":1},"end":{"line":388,"column":1}},"key":"xjUK3Fz8d3"}],"key":"iIHNKnUwBD"},{"type":"code","lang":"python","value":"# Modern approach (recommended for new code)\nrng = np.random.default_rng(seed=42)  # Create generator\ndata = rng.standard_normal((3, 3))    # Use generator methods","position":{"start":{"line":389,"column":1},"end":{"line":393,"column":1}},"key":"GKVxS42uqz"},{"type":"heading","depth":2,"position":{"start":{"line":395,"column":1},"end":{"line":395,"column":1}},"children":[{"type":"text","value":"7.3 Array Attributes and Memory Layout","position":{"start":{"line":395,"column":1},"end":{"line":395,"column":1}},"key":"MQjnGjquUx"}],"identifier":"id-7-3-array-attributes-and-memory-layout","label":"7.3 Array Attributes and Memory Layout","html_id":"id-7-3-array-attributes-and-memory-layout","implicit":true,"key":"WkidFDKdrx"},{"type":"paragraph","position":{"start":{"line":397,"column":1},"end":{"line":397,"column":1}},"children":[{"type":"text","value":"Understanding array attributes and memory layout is crucial for writing efficient code and debugging unexpected behavior.","position":{"start":{"line":397,"column":1},"end":{"line":397,"column":1}},"key":"pRavrqgRhM"}],"key":"PZNbPU1JE6"},{"type":"heading","depth":3,"position":{"start":{"line":399,"column":1},"end":{"line":399,"column":1}},"children":[{"type":"text","value":"Essential Attributes","position":{"start":{"line":399,"column":1},"end":{"line":399,"column":1}},"key":"qFvsmHWzEi"}],"identifier":"essential-attributes","label":"Essential Attributes","html_id":"essential-attributes","implicit":true,"key":"E3htgbbEHU"},{"type":"paragraph","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"Every NumPy array is an object with attributes that completely describe its structure:","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"uYyW4fo4nX"}],"key":"NeDb54ff5M"},{"type":"code","lang":"python","value":"In [71]: # Create a 3D array for demonstration\nIn [72]: arr = np.random.randn(2, 3, 4)  # 2 blocks, 3 rows, 4 columns each\n\nIn [73]: print(f\"Shape: {arr.shape}\")        # Dimensions (most important!)\nIn [74]: print(f\"Size: {arr.size}\")          # Total number of elements\nIn [75]: print(f\"Ndim: {arr.ndim}\")          # Number of dimensions\nIn [76]: print(f\"Dtype: {arr.dtype}\")        # Data type of elements\nIn [77]: print(f\"Itemsize: {arr.itemsize}\")  # Bytes per element\nIn [78]: print(f\"Nbytes: {arr.nbytes}\")      # Total memory usage\nShape: (2, 3, 4)\nSize: 24\nNdim: 3\nDtype: float64\nItemsize: 8\nNbytes: 192\n\nIn [79]: # Memory layout information (advanced but important)\nIn [80]: print(f\"Strides: {arr.strides}\")  # Bytes to jump for next element\nIn [81]: print(f\"C-contiguous: {arr.flags['C_CONTIGUOUS']}\")\nIn [82]: print(f\"Fortran-contiguous: {arr.flags['F_CONTIGUOUS']}\")\nStrides: (96, 32, 8)  # Jump 96 bytes for next block, 32 for next row, 8 for next element\nC-contiguous: True\nFortran-contiguous: False","position":{"start":{"line":403,"column":1},"end":{"line":427,"column":1}},"key":"KSCASLgUge"},{"type":"heading","depth":3,"position":{"start":{"line":429,"column":1},"end":{"line":429,"column":1}},"children":[{"type":"text","value":"Memory Layout: Row-Major vs Column-Major","position":{"start":{"line":429,"column":1},"end":{"line":429,"column":1}},"key":"XZa2cNY1CM"}],"identifier":"memory-layout-row-major-vs-column-major","label":"Memory Layout: Row-Major vs Column-Major","html_id":"memory-layout-row-major-vs-column-major","implicit":true,"key":"td6lJdvPIu"},{"type":"paragraph","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"text","value":"NumPy can store multidimensional arrays in different memory layouts. Understanding this is crucial for performance when working with large datasets or interfacing with other languages:","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"IZeGQXcrxG"}],"key":"fd7v4xsfsU"},{"type":"mermaid","value":"flowchart LR\n    subgraph \"Row-Major (C-style, NumPy default)\"\n        RM[2D Array\u003cbr/\u003e[[1,2,3],\u003cbr/\u003e[4,5,6]]] --\u003e RMM[Memory: 1|2|3|4|5|6]\n        RMM --\u003e RMD[Traverse rows first]\n    end\n    \n    subgraph \"Column-Major (Fortran-style)\"\n        CM[2D Array\u003cbr/\u003e[[1,2,3],\u003cbr/\u003e[4,5,6]]] --\u003e CMM[Memory: 1|4|2|5|3|6]\n        CMM --\u003e CMD[Traverse columns first]\n    end\n    \n    style RM fill:#9f9\n    style CM fill:#f9f","key":"iwldz46osw"},{"type":"code","lang":"python","value":"In [83]: # Default is C-order (row-major) - rows are contiguous\nIn [84]: c_array = np.array([[1, 2, 3],\n   ...:                       [4, 5, 6]])\nIn [85]: print(f\"C-order strides: {c_array.strides}\")\nC-order strides: (24, 8)  # 24 bytes to next row (3 elements × 8 bytes)\n\nIn [86]: # Can create Fortran-order (column-major) - columns are contiguous\nIn [87]: f_array = np.array([[1, 2, 3],\n   ...:                       [4, 5, 6]], order='F')\nIn [88]: print(f\"F-order strides: {f_array.strides}\")\nF-order strides: (8, 16)  # 8 bytes to next row (1 element × 8 bytes)\n\nIn [89]: # Performance implications: access contiguous data when possible\nIn [90]: large = np.random.randn(1000, 1000)\n\nIn [91]: # Summing along rows (axis=1) is fast for C-order\nIn [92]: # because we read memory sequentially\nIn [93]: %timeit large.sum(axis=1)\n574 µs ± 12.3 µs per loop\n\nIn [94]: # Summing along columns (axis=0) is slower for C-order\nIn [95]: # because we jump around in memory\nIn [96]: %timeit large.sum(axis=0)\n1.28 ms ± 23.4 µs per loop  # 2x slower!\n\n# Why? CPU cache works best with sequential memory access","position":{"start":{"line":449,"column":1},"end":{"line":476,"column":1}},"key":"Hf1qro8DjD"},{"type":"heading","depth":3,"position":{"start":{"line":478,"column":1},"end":{"line":478,"column":1}},"children":[{"type":"text","value":"Data Types and Memory Usage","position":{"start":{"line":478,"column":1},"end":{"line":478,"column":1}},"key":"lYxelnG6ze"}],"identifier":"data-types-and-memory-usage","label":"Data Types and Memory Usage","html_id":"data-types-and-memory-usage","implicit":true,"key":"FwRXw5wOX1"},{"type":"paragraph","position":{"start":{"line":480,"column":1},"end":{"line":480,"column":1}},"children":[{"type":"text","value":"NumPy provides precise control over data types, crucial for memory efficiency and numerical precision in scientific computing:","position":{"start":{"line":480,"column":1},"end":{"line":480,"column":1}},"key":"HNledWSHFI"}],"key":"IgZ4QHTUtk"},{"type":"code","lang":"python","value":"In [97]: # Integer types with different ranges and memory usage\nIn [98]: int8 = np.array([1, 2, 3], dtype=np.int8)    # -128 to 127\nIn [99]: int16 = np.array([1, 2, 3], dtype=np.int16)  # -32,768 to 32,767\nIn [100]: int32 = np.array([1, 2, 3], dtype=np.int32)  # ~±2 billion\nIn [101]: int64 = np.array([1, 2, 3], dtype=np.int64)  # ~±9 quintillion\n\nIn [102]: print(f\"int8 uses {int8.nbytes} bytes for 3 elements\")\nIn [103]: print(f\"int64 uses {int64.nbytes} bytes for 3 elements\")\nint8 uses 3 bytes for 3 elements\nint64 uses 24 bytes for 3 elements  # 8x more memory!\n\nIn [104]: # Floating-point types - precision vs memory tradeoff\nIn [105]: float16 = np.array([1.0, 2.0], dtype=np.float16)  # Half precision\nIn [106]: float32 = np.array([1.0, 2.0], dtype=np.float32)  # Single precision\nIn [107]: float64 = np.array([1.0, 2.0], dtype=np.float64)  # Double precision\n\nIn [108]: # Complex numbers for signal processing or quantum mechanics\nIn [109]: complex_arr = np.array([1+2j, 3+4j], dtype=np.complex128)\nIn [110]: print(f\"Complex array: {complex_arr}\")\nIn [111]: print(f\"Real parts: {complex_arr.real}\")\nIn [112]: print(f\"Imaginary parts: {complex_arr.imag}\")\nComplex array: [1.+2.j 3.+4.j]\nReal parts: [1. 3.]\nImaginary parts: [2. 4.]","position":{"start":{"line":482,"column":1},"end":{"line":507,"column":1}},"key":"f2JSLJxcg4"},{"type":"heading","depth":3,"position":{"start":{"line":509,"column":1},"end":{"line":509,"column":1}},"children":[{"type":"text","value":"🔊 ","position":{"start":{"line":509,"column":1},"end":{"line":509,"column":1}},"key":"XkuqMqMz6v"},{"type":"strong","position":{"start":{"line":509,"column":1},"end":{"line":509,"column":1}},"children":[{"type":"text","value":"Performance Profile: Data Type Impact","position":{"start":{"line":509,"column":1},"end":{"line":509,"column":1}},"key":"AwBNN4m2T8"}],"key":"aQ9FKwl6Zh"}],"identifier":"id-performance-profile-data-type-impact","label":"🔊 Performance Profile: Data Type Impact","html_id":"id-performance-profile-data-type-impact","implicit":true,"key":"ceJ3OhY751"},{"type":"code","lang":"python","value":"# Memory and speed tradeoffs with different dtypes\nn = 10_000_000  # 10 million elements\n\n# Create arrays with different precision\nfloat64_arr = np.random.randn(n)  # Default double precision\nfloat32_arr = float64_arr.astype(np.float32)  # Single precision\nfloat16_arr = float64_arr.astype(np.float16)  # Half precision\n\nprint(f\"float64: {float64_arr.nbytes / 1e6:.1f} MB\")\nprint(f\"float32: {float32_arr.nbytes / 1e6:.1f} MB\")\nprint(f\"float16: {float16_arr.nbytes / 1e6:.1f} MB\")\n# Output:\n# float64: 80.0 MB\n# float32: 40.0 MB  \n# float16: 20.0 MB\n\n# Performance comparison\n%timeit float64_arr.sum()  # 7.92 ms\n%timeit float32_arr.sum()  # 3.96 ms (2x faster!)\n%timeit float16_arr.sum()  # 15.8 ms (slower - limited hardware support)\n\n# But beware precision loss!\nlarge_number = 1e10\nsmall_number = 1.0\nprint(f\"float64: {large_number + small_number}\")  # 10000000001.0 (correct)\nprint(f\"float32: {np.float32(large_number) + np.float32(small_number)}\")  # 10000000000.0 (lost precision!)","position":{"start":{"line":511,"column":1},"end":{"line":538,"column":1}},"key":"JF3nJupcje"},{"type":"paragraph","position":{"start":{"line":540,"column":1},"end":{"line":540,"column":1}},"children":[{"type":"text","value":"Choose dtypes based on your scientific requirements: float64 for high precision calculations, float32 for large datasets where some precision loss is acceptable, integers for counting and indexing.","position":{"start":{"line":540,"column":1},"end":{"line":540,"column":1}},"key":"XObGzfnqnI"}],"key":"bQnXR4gsBL"},{"type":"heading","depth":2,"position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"children":[{"type":"text","value":"7.4 Indexing and Slicing: Views vs Copies","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"MSp2Hiv1LP"}],"identifier":"id-7-4-indexing-and-slicing-views-vs-copies","label":"7.4 Indexing and Slicing: Views vs Copies","html_id":"id-7-4-indexing-and-slicing-views-vs-copies","implicit":true,"key":"H7jmxAu3Bj"},{"type":"paragraph","position":{"start":{"line":544,"column":1},"end":{"line":544,"column":1}},"children":[{"type":"text","value":"NumPy’s indexing is powerful but has subtleties that can cause bugs if not understood properly. The key concept is understanding when NumPy creates a view (shared memory) versus a copy (independent memory).","position":{"start":{"line":544,"column":1},"end":{"line":544,"column":1}},"key":"row9Q84gIQ"}],"key":"v5ht77hRHr"},{"type":"heading","depth":3,"position":{"start":{"line":546,"column":1},"end":{"line":546,"column":1}},"children":[{"type":"text","value":"Basic Indexing (Creates Views)","position":{"start":{"line":546,"column":1},"end":{"line":546,"column":1}},"key":"G6p1of3zn3"}],"identifier":"basic-indexing-creates-views","label":"Basic Indexing (Creates Views)","html_id":"basic-indexing-creates-views","implicit":true,"key":"bB9nDy4Lf0"},{"type":"paragraph","position":{"start":{"line":548,"column":1},"end":{"line":548,"column":1}},"children":[{"type":"text","value":"Basic slicing with integers and colons creates views that share memory with the original array:","position":{"start":{"line":548,"column":1},"end":{"line":548,"column":1}},"key":"wXtRtnNLOx"}],"key":"DKrwJ5inWq"},{"type":"code","lang":"python","value":"In [113]: # 1D indexing - similar to Python lists\nIn [114]: arr = np.arange(10)\nIn [115]: print(f\"Original: {arr}\")\nIn [116]: print(f\"Element at index 3: {arr[3]}\")\nIn [117]: print(f\"Slice [2:5]: {arr[2:5]}\")\nIn [118]: print(f\"Every 2nd element: {arr[::2]}\")\nIn [119]: print(f\"Reverse: {arr[::-1]}\")\nOriginal: [0 1 2 3 4 5 6 7 8 9]\nElement at index 3: 3\nSlice [2:5]: [2 3 4]\nEvery 2nd element: [0 2 4 6 8]\nReverse: [9 8 7 6 5 4 3 2 1 0]\n\nIn [120]: # CRITICAL: Slices are views, not copies!\nIn [121]: slice_view = arr[2:5]\nIn [122]: slice_view[0] = 999  # Modifying the view\nIn [123]: print(f\"Original after modification: {arr}\")\nOriginal after modification: [  0   1 999   3   4   5   6   7   8   9]\n# The original array changed!","position":{"start":{"line":550,"column":1},"end":{"line":570,"column":1}},"key":"ZC2Z50mqPi"},{"type":"heading","depth":3,"position":{"start":{"line":572,"column":1},"end":{"line":572,"column":1}},"children":[{"type":"text","value":"⚠️ ","position":{"start":{"line":572,"column":1},"end":{"line":572,"column":1}},"key":"FLaRqWdHKk"},{"type":"strong","position":{"start":{"line":572,"column":1},"end":{"line":572,"column":1}},"children":[{"type":"text","value":"Common Bug Alert: Unexpected Mutation","position":{"start":{"line":572,"column":1},"end":{"line":572,"column":1}},"key":"M6hn5o9Mhk"}],"key":"v8NvKnmAl9"}],"identifier":"id-common-bug-alert-unexpected-mutation","label":"⚠️ Common Bug Alert: Unexpected Mutation","html_id":"id-common-bug-alert-unexpected-mutation","implicit":true,"key":"FU6Pe39SC9"},{"type":"code","lang":"python","value":"# DANGEROUS: Functions that modify views change the original!\ndef process_middle(data):\n    \"\"\"Process middle section of data - has a hidden side effect!\"\"\"\n    middle = data[len(data)//4:3*len(data)//4]  # This is a view!\n    middle *= 2  # This modifies the original array!\n    return middle\n\noriginal = np.arange(10)\nprint(f\"Before: {original}\")\nresult = process_middle(original)\nprint(f\"After: {original}\")  # Original is changed unexpectedly!\n# Before: [0 1 2 3 4 5 6 7 8 9]\n# After: [0 1 4 6 8 5 6 7 8 9]\n\n# SAFE: Explicitly copy when you need independence\ndef process_middle_safe(data):\n    \"\"\"Process middle section without side effects.\"\"\"\n    middle = data[len(data)//4:3*len(data)//4].copy()  # Explicit copy\n    middle *= 2  # Only affects the copy\n    return middle","position":{"start":{"line":574,"column":1},"end":{"line":595,"column":1}},"key":"YH7DJQZBS1"},{"type":"heading","depth":3,"position":{"start":{"line":597,"column":1},"end":{"line":597,"column":1}},"children":[{"type":"text","value":"Multidimensional Indexing","position":{"start":{"line":597,"column":1},"end":{"line":597,"column":1}},"key":"iXG0qPO6Tv"}],"identifier":"multidimensional-indexing","label":"Multidimensional Indexing","html_id":"multidimensional-indexing","implicit":true,"key":"RSJ1wTwSiC"},{"type":"paragraph","position":{"start":{"line":599,"column":1},"end":{"line":599,"column":1}},"children":[{"type":"text","value":"For 2D arrays and higher dimensions, indexing becomes more sophisticated:","position":{"start":{"line":599,"column":1},"end":{"line":599,"column":1}},"key":"kSIJ7Mi3Hx"}],"key":"HiFf1dra6G"},{"type":"code","lang":"python","value":"In [124]: # Create a 2D array (matrix)\nIn [125]: matrix = np.array([[1, 2, 3],\n    ...:                      [4, 5, 6],\n    ...:                      [7, 8, 9]])\n\nIn [126]: # Single element access\nIn [127]: print(f\"Element at row 1, column 2: {matrix[1, 2]}\")\nElement at row 1, column 2: 6\n\nIn [128]: # Entire row or column extraction\nIn [129]: print(f\"Row 1: {matrix[1, :]}\")     # Can also write matrix[1]\nIn [130]: print(f\"Column 2: {matrix[:, 2]}\")\nRow 1: [4 5 6]\nColumn 2: [3 6 9]\n\nIn [131]: # Submatrix extraction\nIn [132]: print(f\"Top-left 2x2 submatrix:\\n{matrix[:2, :2]}\")\nTop-left 2x2 submatrix:\n[[1 2]\n [4 5]]\n\nIn [133]: # Strided access for sampling\nIn [134]: print(f\"Every other element:\\n{matrix[::2, ::2]}\")\nEvery other element:\n[[1 3]\n [7 9]]","position":{"start":{"line":601,"column":1},"end":{"line":628,"column":1}},"key":"ox5OAYuDwA"},{"type":"heading","depth":3,"position":{"start":{"line":630,"column":1},"end":{"line":630,"column":1}},"children":[{"type":"text","value":"Fancy Indexing (Creates Copies)","position":{"start":{"line":630,"column":1},"end":{"line":630,"column":1}},"key":"evH3VKhob2"}],"identifier":"fancy-indexing-creates-copies","label":"Fancy Indexing (Creates Copies)","html_id":"fancy-indexing-creates-copies","implicit":true,"key":"fR22Gv6TsB"},{"type":"paragraph","position":{"start":{"line":632,"column":1},"end":{"line":632,"column":1}},"children":[{"type":"text","value":"Using arrays or lists as indices creates copies, not views. This is called “fancy indexing”:","position":{"start":{"line":632,"column":1},"end":{"line":632,"column":1}},"key":"d3atgqrfhK"}],"key":"l21YtMiRUe"},{"type":"code","lang":"python","value":"In [135]: arr = np.arange(10) * 10  # [0, 10, 20, ..., 90]\n\nIn [136]: # Integer array indexing\nIn [137]: indices = np.array([1, 3, 5])\nIn [138]: selected = arr[indices]  # This is a COPY!\nIn [139]: print(f\"Selected elements: {selected}\")\nSelected elements: [10 30 50]\n\nIn [140]: selected[0] = 999  # Modify the copy\nIn [141]: print(f\"Original unchanged: {arr}\")\nOriginal unchanged: [ 0 10 20 30 40 50 60 70 80 90]\n\nIn [142]: # Boolean indexing (masking) - also creates copies\nIn [143]: mask = arr \u003e 40\nIn [144]: print(f\"Boolean mask: {mask}\")\nIn [145]: filtered = arr[mask]  # Copy of elements where mask is True\nIn [146]: print(f\"Filtered elements: {filtered}\")\nBoolean mask: [False False False False False  True  True  True  True  True]\nFiltered elements: [50 60 70 80 90]\n\nIn [147]: # Combining conditions with \u0026 (and), | (or), ~ (not)\nIn [148]: # Note: Use \u0026, not 'and' for element-wise operations\nIn [149]: complex_mask = (arr \u003e 20) \u0026 (arr \u003c 70)\nIn [150]: print(f\"Complex filter result: {arr[complex_mask]}\")\nComplex filter result: [30 40 50 60]","position":{"start":{"line":634,"column":1},"end":{"line":660,"column":1}},"key":"ejoAX4o17u"},{"type":"heading","depth":3,"position":{"start":{"line":662,"column":1},"end":{"line":662,"column":1}},"children":[{"type":"text","value":"📦 ","position":{"start":{"line":662,"column":1},"end":{"line":662,"column":1}},"key":"Qz66he6jDQ"},{"type":"strong","position":{"start":{"line":662,"column":1},"end":{"line":662,"column":1}},"children":[{"type":"text","value":"Computational Thinking Box: Views vs Copies","position":{"start":{"line":662,"column":1},"end":{"line":662,"column":1}},"key":"vJl06znuKg"}],"key":"p3tgsWg026"}],"identifier":"id-computational-thinking-box-views-vs-copies","label":"📦 Computational Thinking Box: Views vs Copies","html_id":"id-computational-thinking-box-views-vs-copies","implicit":true,"key":"NbvHRubHUa"},{"type":"code","lang":"","value":"PATTERN: Memory Efficiency Through Views\n\nViews are NumPy's mechanism for providing different perspectives \non the same underlying data without copying it. This pattern is \ncrucial for both memory efficiency and performance.\n\nWhen NumPy creates views (shares memory):\n- Basic slicing: arr[1:5], arr[:, 2], arr[::2]\n- Reshaping: arr.reshape(new_shape)\n- Transposing: arr.T\n- Type casting sometimes: arr.view(new_dtype)\n\nWhen NumPy creates copies (independent memory):\n- Fancy indexing: arr[[1,3,5]], arr[arr \u003e 0]\n- Explicit copy: arr.copy()\n- Operations that change size: arr.flatten()\n\nTesting if something is a view:\n    if arr.base is not None:\n        print(\"arr is a view of\", arr.base)\n    else:\n        print(\"arr owns its data\")\n\nThis pattern appears throughout scientific computing:\n- Pandas DataFrames (often views of NumPy arrays)\n- Memory-mapped files (views of disk data)\n- GPU computing (minimizing expensive memory transfers)\n\nUnderstanding views vs copies helps you:\n1. Avoid unexpected data modification\n2. Minimize memory usage with large datasets\n3. Write more efficient algorithms","position":{"start":{"line":664,"column":1},"end":{"line":697,"column":1}},"key":"FFix7DHkqH"},{"type":"heading","depth":2,"position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"children":[{"type":"text","value":"7.5 Vectorization: Thinking in Arrays","position":{"start":{"line":699,"column":1},"end":{"line":699,"column":1}},"key":"Xeilm8fbcw"}],"identifier":"id-7-5-vectorization-thinking-in-arrays","label":"7.5 Vectorization: Thinking in Arrays","html_id":"id-7-5-vectorization-thinking-in-arrays","implicit":true,"key":"jcbDOlbWJT"},{"type":"paragraph","position":{"start":{"line":701,"column":1},"end":{"line":701,"column":1}},"children":[{"type":"text","value":"Vectorization is the key to NumPy’s performance and elegance. It means expressing operations on entire arrays rather than individual elements, pushing loops into compiled code.","position":{"start":{"line":701,"column":1},"end":{"line":701,"column":1}},"key":"cYProtAqVe"}],"key":"DnIkIRZZSt"},{"type":"heading","depth":3,"position":{"start":{"line":703,"column":1},"end":{"line":703,"column":1}},"children":[{"type":"text","value":"Universal Functions (ufuncs)","position":{"start":{"line":703,"column":1},"end":{"line":703,"column":1}},"key":"eHI0roptQM"}],"identifier":"universal-functions-ufuncs","label":"Universal Functions (ufuncs)","html_id":"universal-functions-ufuncs","implicit":true,"key":"CwYCajGNTT"},{"type":"paragraph","position":{"start":{"line":705,"column":1},"end":{"line":705,"column":1}},"children":[{"type":"text","value":"NumPy provides “universal functions” that operate element-wise on arrays with optimized C implementations:","position":{"start":{"line":705,"column":1},"end":{"line":705,"column":1}},"key":"UHbUERb0yf"}],"key":"CR2GKtSIuX"},{"type":"code","lang":"python","value":"In [151]: # Arithmetic operations are vectorized\nIn [152]: a = np.array([1, 2, 3, 4])\nIn [153]: b = np.array([10, 20, 30, 40])\n\nIn [154]: # These operations happen in parallel in C\nIn [155]: print(f\"Addition: {a + b}\")\nIn [156]: print(f\"Multiplication: {a * b}\")\nIn [157]: print(f\"Power: {a ** 2}\")\nAddition: [11 22 33 44]\nMultiplication: [10 40 90 160]\nPower: [ 1  4  9 16]\n\nIn [158]: # Mathematical functions are vectorized\nIn [159]: angles = np.array([0, np.pi/4, np.pi/2, np.pi])\nIn [160]: print(f\"Sin: {np.sin(angles)}\")\nIn [161]: print(f\"Cos: {np.cos(angles)}\")\nSin: [0.000e+00 7.071e-01 1.000e+00 1.225e-16]\nCos: [ 1.000e+00  7.071e-01  6.123e-17 -1.000e+00]\n\nIn [162]: # Comparison operations return boolean arrays\nIn [163]: arr = np.arange(5)\nIn [164]: print(f\"Greater than 2: {arr \u003e 2}\")\nIn [165]: print(f\"Equal to 3: {arr == 3}\")\nGreater than 2: [False False False  True  True]\nEqual to 3: [False False False  True False]","position":{"start":{"line":707,"column":1},"end":{"line":733,"column":1}},"key":"BthY1oRtql"},{"type":"heading","depth":3,"position":{"start":{"line":735,"column":1},"end":{"line":735,"column":1}},"children":[{"type":"text","value":"Vectorizing Custom Functions","position":{"start":{"line":735,"column":1},"end":{"line":735,"column":1}},"key":"EBrpoyABc2"}],"identifier":"vectorizing-custom-functions","label":"Vectorizing Custom Functions","html_id":"vectorizing-custom-functions","implicit":true,"key":"JqhXi1auP5"},{"type":"paragraph","position":{"start":{"line":737,"column":1},"end":{"line":737,"column":1}},"children":[{"type":"text","value":"You can vectorize your own functions, though true vectorization (using NumPy operations throughout) is faster than using ","position":{"start":{"line":737,"column":1},"end":{"line":737,"column":1}},"key":"ttlO55imrq"},{"type":"inlineCode","value":"np.vectorize","position":{"start":{"line":737,"column":1},"end":{"line":737,"column":1}},"key":"tJ5AFqkdsh"},{"type":"text","value":":","position":{"start":{"line":737,"column":1},"end":{"line":737,"column":1}},"key":"FiUZqJVwTs"}],"key":"KyiYlBLdYF"},{"type":"code","lang":"python","value":"In [166]: # Example: photon energy from wavelength\nIn [167]: def photon_energy_scalar(wavelength_nm):\n    ...:     \"\"\"\n    ...:     Calculate photon energy in eV from wavelength in nm.\n    ...:     E = hc/λ where h is Planck constant, c is speed of light\n    ...:     \"\"\"\n    ...:     h = 4.135667e-15  # Planck constant in eV·s\n    ...:     c = 2.998e17      # Speed of light in nm/s\n    ...:     return h * c / wavelength_nm\n\nIn [168]: # Works on single values\nIn [169]: print(f\"Energy at 500nm: {photon_energy_scalar(500):.3f} eV\")\nEnergy at 500nm: 2.480 eV\n\nIn [170]: # np.vectorize for convenience (but not optimal performance)\nIn [171]: photon_energy_vec = np.vectorize(photon_energy_scalar)\nIn [172]: wavelengths = np.array([400, 500, 600, 700])  # nm\nIn [173]: print(f\"Energies: {photon_energy_vec(wavelengths)}\")\nEnergies: [3.099 2.480 2.066 1.771]\n\nIn [174]: # Better: write truly vectorized code using NumPy operations\nIn [175]: def photon_energy_fast(wavelength_nm):\n    ...:     \"\"\"Truly vectorized version - works on arrays natively.\"\"\"\n    ...:     h = 4.135667e-15  # eV·s\n    ...:     c = 2.998e17      # nm/s\n    ...:     return h * c / wavelength_nm  # NumPy handles arrays automatically\n\nIn [176]: # Performance comparison\nIn [177]: large_wavelengths = np.random.uniform(300, 800, 100000)\nIn [178]: %timeit photon_energy_vec(large_wavelengths)   # 35.2 ms\nIn [179]: %timeit photon_energy_fast(large_wavelengths)  # 326 µs\n# True vectorization is 100x faster!","position":{"start":{"line":739,"column":1},"end":{"line":772,"column":1}},"key":"YJWBaGTrta"},{"type":"heading","depth":3,"position":{"start":{"line":774,"column":1},"end":{"line":774,"column":1}},"children":[{"type":"text","value":"Aggregation Functions","position":{"start":{"line":774,"column":1},"end":{"line":774,"column":1}},"key":"IHW6zDW0nc"}],"identifier":"aggregation-functions","label":"Aggregation Functions","html_id":"aggregation-functions","implicit":true,"key":"tGqhviPlfS"},{"type":"paragraph","position":{"start":{"line":776,"column":1},"end":{"line":776,"column":1}},"children":[{"type":"text","value":"Aggregations reduce arrays to scalars or smaller arrays, with optimized implementations for common operations:","position":{"start":{"line":776,"column":1},"end":{"line":776,"column":1}},"key":"yZfHlLjNnE"}],"key":"VMQ7aHjZil"},{"type":"code","lang":"python","value":"In [180]: # Generate sample data\nIn [181]: data = np.random.randn(1000)\n\nIn [182]: # Basic statistics - all optimized C implementations\nIn [183]: print(f\"Mean: {data.mean():.4f}\")\nIn [184]: print(f\"Standard deviation: {data.std():.4f}\")\nIn [185]: print(f\"Min: {data.min():.4f}, Max: {data.max():.4f}\")\nIn [186]: print(f\"Median: {np.median(data):.4f}\")\nMean: -0.0234\nStandard deviation: 0.9897\nMin: -3.2384, Max: 3.0234\nMedian: -0.0365\n\nIn [187]: # Percentiles for outlier detection\nIn [188]: print(f\"5th percentile: {np.percentile(data, 5):.4f}\")\nIn [189]: print(f\"95th percentile: {np.percentile(data, 95):.4f}\")\n5th percentile: -1.6422\n95th percentile: 1.5967\n\nIn [190]: # Aggregation along specific axes for multidimensional arrays\nIn [191]: matrix = np.random.randn(3, 4)\nIn [192]: print(f\"Matrix:\\n{matrix}\")\nIn [193]: print(f\"Column means (axis=0): {matrix.mean(axis=0)}\")\nIn [194]: print(f\"Row means (axis=1): {matrix.mean(axis=1)}\")\nMatrix:\n[[-0.245  1.234 -0.567  0.891]\n [ 2.345 -1.234  0.123 -0.456]\n [ 0.789 -0.012  1.234 -2.345]]\nColumn means (axis=0): [ 0.963 -0.004  0.263 -0.637]\nRow means (axis=1): [ 0.328  0.195 -0.084]","position":{"start":{"line":778,"column":1},"end":{"line":809,"column":1}},"key":"zeCO07zd7Q"},{"type":"heading","depth":3,"position":{"start":{"line":811,"column":1},"end":{"line":811,"column":1}},"children":[{"type":"text","value":"🔍 ","position":{"start":{"line":811,"column":1},"end":{"line":811,"column":1}},"key":"j3kfLjXam7"},{"type":"strong","position":{"start":{"line":811,"column":1},"end":{"line":811,"column":1}},"children":[{"type":"text","value":"Check Your Understanding","position":{"start":{"line":811,"column":1},"end":{"line":811,"column":1}},"key":"Y2NvMAjAkw"}],"key":"W1KsiJWzPm"}],"identifier":"id-check-your-understanding","label":"🔍 Check Your Understanding","html_id":"id-check-your-understanding-1","implicit":true,"key":"Jw19txtvMB"},{"type":"paragraph","position":{"start":{"line":813,"column":1},"end":{"line":813,"column":1}},"children":[{"type":"text","value":"Given a 2D array representing an image, how would you normalize it so all values are between 0 and 1?","position":{"start":{"line":813,"column":1},"end":{"line":813,"column":1}},"key":"u56DyU8LbK"}],"key":"zcqEoWDCRn"},{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Answer","key":"COZKif91SH"}],"key":"DloObpLzRN"},{"type":"paragraph","children":[{"type":"text","value":"There are several normalization approaches depending on your scientific requirements:","key":"TEn3cwFt0o"}],"key":"pO1eyImpRz"},{"type":"code","lang":"python","meta":null,"value":"# Create sample \"image\" data\nimage = np.random.randn(100, 100) * 50 + 128  # Centered at 128, std=50\n\n# Method 1: Min-Max normalization (scales to exact [0, 1])\ndef min_max_normalize(arr):\n    \"\"\"\n    Scale array to [0, 1] range.\n    Good for: display, when you need exact bounds\n    \"\"\"\n    return (arr - arr.min()) / (arr.max() - arr.min())\n\nnormalized1 = min_max_normalize(image)\nprint(f\"Range: [{normalized1.min():.3f}, {normalized1.max():.3f}]\")  # [0.000, 1.000]\n\n# Method 2: Clipping to known range (e.g., 0-255 for 8-bit images)\ndef clip_normalize(arr, min_val=0, max_val=255):\n    \"\"\"\n    Clip to range then normalize.\n    Good for: when you know the expected data range\n    \"\"\"\n    clipped = np.clip(arr, min_val, max_val)\n    return (clipped - min_val) / (max_val - min_val)\n\nnormalized2 = clip_normalize(image, 0, 255)\n\n# Method 3: Z-score normalization (standardization)\ndef z_score_normalize(arr):\n    \"\"\"\n    Standardize to mean=0, std=1.\n    Good for: machine learning, statistical analysis\n    Note: doesn't guarantee [0,1] range!\n    \"\"\"\n    return (arr - arr.mean()) / arr.std()\n\nstandardized = z_score_normalize(image)\nprint(f\"Mean: {standardized.mean():.6f}, Std: {standardized.std():.6f}\")\n\n# Choose based on your scientific needs!\n# - Min-max for display (guarantees [0,1])\n# - Clipping when you know valid data range\n# - Z-score for statistical processing","key":"AGb5Jc2QJ9"},{"type":"paragraph","children":[{"type":"text","value":"The key insight: vectorized operations make this efficient even for large images. No loops needed!","key":"ORgKROKzIS"}],"key":"pnmNP8PNaY"}],"key":"e9wZpD4vWh"},{"type":"heading","depth":2,"position":{"start":{"line":868,"column":1},"end":{"line":868,"column":1}},"children":[{"type":"text","value":"7.6 Broadcasting: NumPy’s Superpower","position":{"start":{"line":868,"column":1},"end":{"line":868,"column":1}},"key":"IrSEjzMOZ9"}],"identifier":"id-7-6-broadcasting-numpys-superpower","label":"7.6 Broadcasting: NumPy’s Superpower","html_id":"id-7-6-broadcasting-numpys-superpower","implicit":true,"key":"I6mgYUyyIh"},{"type":"paragraph","position":{"start":{"line":870,"column":1},"end":{"line":870,"column":1}},"children":[{"type":"text","value":"Broadcasting allows NumPy to perform operations on arrays of different shapes without explicit loops or data copying. It’s one of NumPy’s most powerful and elegant features.","position":{"start":{"line":870,"column":1},"end":{"line":870,"column":1}},"key":"hHeyQfDiin"}],"key":"eF11ADPzlF"},{"type":"heading","depth":3,"position":{"start":{"line":872,"column":1},"end":{"line":872,"column":1}},"children":[{"type":"text","value":"The Broadcasting Rules","position":{"start":{"line":872,"column":1},"end":{"line":872,"column":1}},"key":"RP4kr9T8tR"}],"identifier":"the-broadcasting-rules","label":"The Broadcasting Rules","html_id":"the-broadcasting-rules","implicit":true,"key":"BoB7n6CqtX"},{"type":"paragraph","position":{"start":{"line":874,"column":1},"end":{"line":874,"column":1}},"children":[{"type":"text","value":"Broadcasting follows strict rules to determine how arrays of different shapes can be combined. Understanding these rules is essential for writing efficient NumPy code:","position":{"start":{"line":874,"column":1},"end":{"line":874,"column":1}},"key":"QBhbcTVoqW"}],"key":"m1FkbXX9mR"},{"type":"mermaid","value":"flowchart TD\n    A[Arrays A and B] --\u003e B{Compare shapes\u003cbr/\u003eright to left}\n    B --\u003e C{Dimensions\u003cbr/\u003eequal?}\n    C --\u003e|Yes| D[Compatible]\n    C --\u003e|No| E{One dimension\u003cbr/\u003eis 1?}\n    E --\u003e|Yes| F[Broadcast:\u003cbr/\u003estretch size-1 dimension]\n    E --\u003e|No| G[Error!\u003cbr/\u003eCannot broadcast]\n    \n    F --\u003e H[Perform operation]\n    D --\u003e H\n    \n    style D fill:#9f9\n    style F fill:#9ff\n    style G fill:#f99","key":"gzjgW8AmaY"},{"type":"paragraph","position":{"start":{"line":893,"column":1},"end":{"line":893,"column":1}},"children":[{"type":"text","value":"The rules are:","position":{"start":{"line":893,"column":1},"end":{"line":893,"column":1}},"key":"xdSarSyVH1"}],"key":"s4n6CYBI1J"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":894,"column":1},"end":{"line":898,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":894,"column":1},"end":{"line":894,"column":1}},"children":[{"type":"text","value":"Compare shapes element-wise starting from the rightmost dimension","position":{"start":{"line":894,"column":1},"end":{"line":894,"column":1}},"key":"UBYGoadNGH"}],"key":"SmWqp5MRIg"},{"type":"listItem","spread":true,"position":{"start":{"line":895,"column":1},"end":{"line":895,"column":1}},"children":[{"type":"text","value":"Two dimensions are compatible if they’re equal or one is 1","position":{"start":{"line":895,"column":1},"end":{"line":895,"column":1}},"key":"EvDBf9NZQx"}],"key":"NYVqTIqeXL"},{"type":"listItem","spread":true,"position":{"start":{"line":896,"column":1},"end":{"line":896,"column":1}},"children":[{"type":"text","value":"Arrays with fewer dimensions are padded with 1s on the left","position":{"start":{"line":896,"column":1},"end":{"line":896,"column":1}},"key":"zzOD6eA614"}],"key":"KtQQDrjkG0"},{"type":"listItem","spread":true,"position":{"start":{"line":897,"column":1},"end":{"line":898,"column":1}},"children":[{"type":"text","value":"After broadcasting, each dimension is the maximum of the input dimensions","position":{"start":{"line":897,"column":1},"end":{"line":897,"column":1}},"key":"HXVxU2j8MG"}],"key":"KYr7hAY0td"}],"key":"UjvHzk3q7I"},{"type":"code","lang":"python","value":"In [195]: # Broadcasting examples\nIn [196]: arr = np.array([[1, 2, 3],\n    ...:                   [4, 5, 6],\n    ...:                   [7, 8, 9]])\n\nIn [197]: # Scalar broadcasting (scalar is treated as shape ())\nIn [198]: print(f\"Array + 10:\\n{arr + 10}\")\nArray + 10:\n[[11 12 13]\n [14 15 16]\n [17 18 19]]\n\nIn [199]: # 1D array broadcasts to each row\nIn [200]: row_vector = np.array([100, 200, 300])  # Shape: (3,)\nIn [201]: print(f\"Array + row vector:\\n{arr + row_vector}\")\nArray + row vector:\n[[101 202 303]\n [104 205 306]\n [107 208 309]]\n\nIn [202]: # Column vector broadcasts to each column\nIn [203]: col_vector = np.array([[1000],\n    ...:                          [2000],\n    ...:                          [3000]])  # Shape: (3, 1)\nIn [204]: print(f\"Array + column vector:\\n{arr + col_vector}\")\nArray + column vector:\n[[1001 1002 1003]\n [2004 2005 2006]\n [3007 3008 3009]]","position":{"start":{"line":899,"column":1},"end":{"line":929,"column":1}},"key":"FEcWnhBXjt"},{"type":"heading","depth":3,"position":{"start":{"line":931,"column":1},"end":{"line":931,"column":1}},"children":[{"type":"text","value":"Practical Broadcasting Examples","position":{"start":{"line":931,"column":1},"end":{"line":931,"column":1}},"key":"UXeEy2pqHT"}],"identifier":"practical-broadcasting-examples","label":"Practical Broadcasting Examples","html_id":"practical-broadcasting-examples","implicit":true,"key":"s3lLIFYPBv"},{"type":"paragraph","position":{"start":{"line":933,"column":1},"end":{"line":933,"column":1}},"children":[{"type":"text","value":"Broadcasting makes many scientific calculations elegant and efficient. An important note: broadcasting doesn’t actually copy data in memory - it creates sophisticated views with different strides, making it memory-efficient even for large arrays. This means you can “stretch” a small array to match a large one without memory concerns.","position":{"start":{"line":933,"column":1},"end":{"line":933,"column":1}},"key":"t2a5JE13mL"}],"key":"TBQCT6kGiG"},{"type":"code","lang":"python","value":"In [205]: # Example: Normalize each column of a matrix independently\nIn [206]: # Common in machine learning preprocessing\nIn [207]: data = np.random.randn(100, 3) * [10, 50, 100] + [0, 100, 200]\nIn [208]: print(f\"Original means: {data.mean(axis=0)}\")\nIn [209]: print(f\"Original stds: {data.std(axis=0)}\")\nOriginal means: [  0.234  99.876 200.123]\nOriginal stds: [ 9.987 49.234 98.765]\n\nIn [210]: # Subtract mean and divide by std for each column\nIn [211]: # Broadcasting handles the dimension mismatch automatically\nIn [212]: normalized = (data - data.mean(axis=0)) / data.std(axis=0)\nIn [213]: print(f\"Normalized means: {normalized.mean(axis=0)}\")  # Should be ~0\nIn [214]: print(f\"Normalized stds: {normalized.std(axis=0)}\")    # Should be ~1\nNormalized means: [-1.23e-17  2.45e-17  3.67e-17]\nNormalized stds: [1. 1. 1.]\n\nIn [215]: # Example: Distance matrix between points\nIn [216]: # Calculate all pairwise distances efficiently\nIn [217]: points = np.random.randn(5, 2)  # 5 points in 2D\nIn [218]: \nIn [219]: # Use broadcasting to compute all pairwise differences\nIn [220]: # Reshape for broadcasting: (5,1,2) - (1,5,2) -\u003e (5,5,2)\nIn [221]: diff = points[:, np.newaxis, :] - points[np.newaxis, :, :]\nIn [222]: distances = np.sqrt((diff**2).sum(axis=2))\nIn [223]: print(f\"Distance matrix shape: {distances.shape}\")\nIn [224]: print(f\"Distance from point 0 to point 1: {distances[0,1]:.3f}\")\nDistance matrix shape: (5, 5)\nDistance from point 0 to point 1: 1.234","position":{"start":{"line":935,"column":1},"end":{"line":964,"column":1}},"key":"hEUvY5YL2W"},{"type":"heading","depth":3,"position":{"start":{"line":966,"column":1},"end":{"line":966,"column":1}},"children":[{"type":"text","value":"⚠️ ","position":{"start":{"line":966,"column":1},"end":{"line":966,"column":1}},"key":"dgs4a8tAGn"},{"type":"strong","position":{"start":{"line":966,"column":1},"end":{"line":966,"column":1}},"children":[{"type":"text","value":"Common Bug Alert: Broadcasting Surprises","position":{"start":{"line":966,"column":1},"end":{"line":966,"column":1}},"key":"WfPotGQlct"}],"key":"AiRph2IagN"}],"identifier":"id-common-bug-alert-broadcasting-surprises","label":"⚠️ Common Bug Alert: Broadcasting Surprises","html_id":"id-common-bug-alert-broadcasting-surprises","implicit":true,"key":"VHqffakj3w"},{"type":"code","lang":"python","value":"# UNEXPECTED: Broadcasting can hide dimension mismatches\na = np.array([[1, 2, 3]])     # Shape: (1, 3)\nb = np.array([[10], [20]])    # Shape: (2, 1)\n\n# This works but might not be what you intended!\ntry:\n    result = a + b  # Broadcasts to (2, 3)\n    print(f\"Unexpected broadcasting result:\\n{result}\")\nexcept ValueError as e:\n    print(f\"Error: {e}\")\n# Output:\n# [[11 12 13]\n#  [21 22 23]]\n\n# DEFENSIVE: Check shapes when unsure\ndef safe_add(a, b):\n    \"\"\"Add arrays with shape checking.\"\"\"\n    if a.shape != b.shape:\n        print(f\"Warning: Broadcasting {a.shape} and {b.shape}\")\n        result_shape = np.broadcast_shapes(a.shape, b.shape)\n        print(f\"Result will have shape: {result_shape}\")\n    return a + b\n\n# EXPLICIT: Use np.newaxis to be clear about intent\nrow = np.array([1, 2, 3])\ncol = np.array([10, 20])\n\n# Make broadcasting explicit and intentional\nresult = row[np.newaxis, :] + col[:, np.newaxis]\nprint(f\"Explicit broadcasting result shape: {result.shape}\")","position":{"start":{"line":968,"column":1},"end":{"line":999,"column":1}},"key":"EcystCmxo3"},{"type":"heading","depth":2,"position":{"start":{"line":1001,"column":1},"end":{"line":1001,"column":1}},"children":[{"type":"text","value":"7.7 Mathematical Operations and Linear Algebra","position":{"start":{"line":1001,"column":1},"end":{"line":1001,"column":1}},"key":"QpjBZxv3cL"}],"identifier":"id-7-7-mathematical-operations-and-linear-algebra","label":"7.7 Mathematical Operations and Linear Algebra","html_id":"id-7-7-mathematical-operations-and-linear-algebra","implicit":true,"key":"JHlSlCpb3y"},{"type":"paragraph","position":{"start":{"line":1003,"column":1},"end":{"line":1003,"column":1}},"children":[{"type":"text","value":"NumPy provides comprehensive mathematical functions optimized for arrays, from basic arithmetic to sophisticated linear algebra operations.","position":{"start":{"line":1003,"column":1},"end":{"line":1003,"column":1}},"key":"PG5bOkeXm6"}],"key":"tnmJoBEelA"},{"type":"heading","depth":3,"position":{"start":{"line":1005,"column":1},"end":{"line":1005,"column":1}},"children":[{"type":"text","value":"Element-wise Mathematics","position":{"start":{"line":1005,"column":1},"end":{"line":1005,"column":1}},"key":"bKIDoqI9gL"}],"identifier":"element-wise-mathematics","label":"Element-wise Mathematics","html_id":"element-wise-mathematics","implicit":true,"key":"s9ei4PPO3J"},{"type":"paragraph","position":{"start":{"line":1007,"column":1},"end":{"line":1007,"column":1}},"children":[{"type":"text","value":"All standard mathematical functions are available and vectorized:","position":{"start":{"line":1007,"column":1},"end":{"line":1007,"column":1}},"key":"NetFeTMfGa"}],"key":"TwiBLrObY1"},{"type":"code","lang":"python","value":"In [225]: # Trigonometric functions\nIn [226]: angles = np.linspace(0, 2*np.pi, 5)\nIn [227]: print(f\"Angles (radians): {angles}\")\nIn [228]: print(f\"Sin: {np.sin(angles)}\")\nIn [229]: print(f\"Arcsin of 0.5: {np.arcsin(0.5)} radians\")\nAngles (radians): [0.    1.571 3.142 4.712 6.283]\nSin: [ 0.000e+00  1.000e+00  1.225e-16 -1.000e+00 -2.449e-16]\nArcsin of 0.5: 0.524 radians\n\nIn [230]: # Exponential and logarithmic functions\nIn [231]: x = np.array([1, 2, 3])\nIn [232]: print(f\"Exp(x): {np.exp(x)}\")         # e^x\nIn [233]: print(f\"Log(x): {np.log(x)}\")         # Natural log\nIn [234]: print(f\"Log10(x): {np.log10(x)}\")     # Base-10 log\nIn [235]: print(f\"2^x: {np.exp2(x)}\")           # 2^x for information theory\nExp(x): [ 2.718  7.389 20.086]\nLog(x): [0.    0.693 1.099]\nLog10(x): [0.    0.301 0.477]\n2^x: [2. 4. 8.]","position":{"start":{"line":1009,"column":1},"end":{"line":1029,"column":1}},"key":"tcqXLIE1jp"},{"type":"heading","depth":3,"position":{"start":{"line":1031,"column":1},"end":{"line":1031,"column":1}},"children":[{"type":"text","value":"Linear Algebra Operations","position":{"start":{"line":1031,"column":1},"end":{"line":1031,"column":1}},"key":"uvtjgUYA4W"}],"identifier":"linear-algebra-operations","label":"Linear Algebra Operations","html_id":"linear-algebra-operations","implicit":true,"key":"qm5raToaK6"},{"type":"paragraph","position":{"start":{"line":1033,"column":1},"end":{"line":1033,"column":1}},"children":[{"type":"text","value":"NumPy includes a comprehensive linear algebra module crucial for scientific computing:","position":{"start":{"line":1033,"column":1},"end":{"line":1033,"column":1}},"key":"YCwOZesuPV"}],"key":"BVQFc4XeMn"},{"type":"code","lang":"python","value":"In [236]: # Matrix multiplication - different from element-wise!\nIn [237]: A = np.array([[1, 2],\n    ...:                [3, 4]])\nIn [238]: B = np.array([[5, 6],\n    ...:                [7, 8]])\n\nIn [239]: # Element-wise multiplication (Hadamard product)\nIn [240]: print(f\"Element-wise A * B:\\n{A * B}\")\nElement-wise A * B:\n[[ 5 12]\n [21 32]]\n\nIn [241]: # True matrix multiplication\nIn [242]: print(f\"Matrix multiplication A @ B:\\n{A @ B}\")\nIn [243]: # Also: np.dot(A, B) or np.matmul(A, B)\nMatrix multiplication A @ B:\n[[19 22]\n [43 50]]\n\nIn [244]: # Essential linear algebra operations\nIn [245]: matrix = np.array([[3, 1],\n    ...:                      [1, 2]])\n\nIn [246]: # Determinant\nIn [247]: det = np.linalg.det(matrix)\nIn [248]: print(f\"Determinant: {det:.3f}\")\nDeterminant: 5.000\n\nIn [249]: # Eigenvalues and eigenvectors\nIn [250]: eigenvalues, eigenvectors = np.linalg.eig(matrix)\nIn [251]: print(f\"Eigenvalues: {eigenvalues}\")\nIn [252]: print(f\"Eigenvectors:\\n{eigenvectors}\")\nEigenvalues: [3.618 1.382]\nEigenvectors:\n[[ 0.851 -0.526]\n [ 0.526  0.851]]\n\nIn [253]: # Matrix inverse (use with caution!)\nIn [254]: inverse = np.linalg.inv(matrix)\nIn [255]: print(f\"Inverse:\\n{inverse}\")\nIn [256]: print(f\"Check A @ A^(-1):\\n{matrix @ inverse}\")  # Should be identity\nInverse:\n[[ 0.4 -0.2]\n [-0.2  0.6]]\nCheck A @ A^(-1):\n[[1. 0.]\n [0. 1.]]","position":{"start":{"line":1035,"column":1},"end":{"line":1083,"column":1}},"key":"kSpNOL3O5b"},{"type":"heading","depth":3,"position":{"start":{"line":1085,"column":1},"end":{"line":1085,"column":1}},"children":[{"type":"text","value":"Numerical Stability Considerations","position":{"start":{"line":1085,"column":1},"end":{"line":1085,"column":1}},"key":"RIyvzkUG1f"}],"identifier":"numerical-stability-considerations","label":"Numerical Stability Considerations","html_id":"numerical-stability-considerations","implicit":true,"key":"LbmBSVQnbs"},{"type":"paragraph","position":{"start":{"line":1087,"column":1},"end":{"line":1087,"column":1}},"children":[{"type":"text","value":"Not all mathematically correct operations are numerically stable. Understanding this is crucial for scientific computing:","position":{"start":{"line":1087,"column":1},"end":{"line":1087,"column":1}},"key":"GgqcjWKDK7"}],"key":"uWkwEWv1FX"},{"type":"code","lang":"python","value":"In [257]: # Example: Solving linear systems Ax = b\nIn [258]: A = np.array([[3, 1],\n    ...:                [1, 2]])\nIn [259]: b = np.array([9, 8])\n\nIn [260]: # Method 1: Using inverse (NOT RECOMMENDED)\nIn [261]: x_inverse = np.linalg.inv(A) @ b\nIn [262]: print(f\"Solution using inverse: {x_inverse}\")\nSolution using inverse: [2. 3.]\n\nIn [263]: # Method 2: Using solve (RECOMMENDED)\nIn [264]: x_solve = np.linalg.solve(A, b)\nIn [265]: print(f\"Solution using solve: {x_solve}\")\nSolution using solve: [2. 3.]\n\nIn [266]: # Why solve is better: check condition number\nIn [267]: cond = np.linalg.cond(A)\nIn [268]: print(f\"Condition number: {cond:.2f}\")\nCondition number: 2.62\n\n# Small condition number = stable\n# Large condition number (\u003e1000) = potentially unstable\n\nIn [269]: # Example of numerical instability\nIn [270]: # Ill-conditioned matrix (nearly singular)\nIn [271]: A_bad = np.array([[1.0, 1.0],\n    ...:                     [1.0, 1.0000001]])  # Almost singular!\nIn [272]: print(f\"Condition number: {np.linalg.cond(A_bad):.2e}\")\nCondition number: 4.00e+07  # Huge! Very unstable\n\n# Small input errors lead to large output errors with ill-conditioned matrices","position":{"start":{"line":1089,"column":1},"end":{"line":1121,"column":1}},"key":"dR4woCNrFX"},{"type":"heading","depth":3,"position":{"start":{"line":1123,"column":1},"end":{"line":1123,"column":1}},"children":[{"type":"text","value":"📦 ","position":{"start":{"line":1123,"column":1},"end":{"line":1123,"column":1}},"key":"NEZsWhZ5UU"},{"type":"strong","position":{"start":{"line":1123,"column":1},"end":{"line":1123,"column":1}},"children":[{"type":"text","value":"Computational Thinking Box: Numerical Stability","position":{"start":{"line":1123,"column":1},"end":{"line":1123,"column":1}},"key":"TxHUcIEo07"}],"key":"vZZ7rCItpb"}],"identifier":"id-computational-thinking-box-numerical-stability","label":"📦 Computational Thinking Box: Numerical Stability","html_id":"id-computational-thinking-box-numerical-stability","implicit":true,"key":"FTqt8FmJX7"},{"type":"code","lang":"","value":"PATTERN: Numerical Stability in Scientific Computing\n\nNot all mathematically equivalent formulations are numerically equal.\nFloating-point arithmetic has finite precision, and errors accumulate.\n\nClassic Example: Variance calculation\nMathematically: Var(X) = E[X²] - E[X]²\nBut this can suffer from catastrophic cancellation!\n\n# Naive implementation (unstable)\ndef variance_naive(x):\n    return np.mean(x**2) - np.mean(x)**2\n\n# Stable implementation (what NumPy uses)\ndef variance_stable(x):\n    mean = np.mean(x)\n    return np.mean((x - mean)**2)\n\n# Test with data that has large mean, small variance\ndata = np.random.randn(1000) * 0.01 + 1e6  # Mean=1e6, std=0.01\nprint(f\"Naive: {variance_naive(data):.6f}\")    # Can be negative!\nprint(f\"Stable: {variance_stable(data):.6f}\")   # Always correct\nprint(f\"NumPy: {np.var(data):.6f}\")            # Uses stable algorithm\n\nKey principles:\n1. Avoid subtracting large similar numbers\n2. Use library functions (they implement stable algorithms)\n3. Check condition numbers for linear algebra\n4. Be aware of accumulation order for sums\n5. Use higher precision when necessary\n\nThis is why we use NumPy/SciPy functions instead of \nreimplementing algorithms from textbooks!","position":{"start":{"line":1125,"column":1},"end":{"line":1159,"column":1}},"key":"CQZvRMY4r7"},{"type":"heading","depth":2,"position":{"start":{"line":1161,"column":1},"end":{"line":1161,"column":1}},"children":[{"type":"text","value":"7.8 When NumPy Isn’t the Right Tool","position":{"start":{"line":1161,"column":1},"end":{"line":1161,"column":1}},"key":"MfsNWlGSXN"}],"identifier":"id-7-8-when-numpy-isnt-the-right-tool","label":"7.8 When NumPy Isn’t the Right Tool","html_id":"id-7-8-when-numpy-isnt-the-right-tool","implicit":true,"key":"YIFpmZFcx8"},{"type":"paragraph","position":{"start":{"line":1163,"column":1},"end":{"line":1163,"column":1}},"children":[{"type":"text","value":"While NumPy is powerful, it’s important to know when other tools are more appropriate:","position":{"start":{"line":1163,"column":1},"end":{"line":1163,"column":1}},"key":"k1WodJYKQ9"}],"key":"cqsPZ3ynZx"},{"type":"heading","depth":3,"position":{"start":{"line":1165,"column":1},"end":{"line":1165,"column":1}},"children":[{"type":"text","value":"When to Use Other Tools","position":{"start":{"line":1165,"column":1},"end":{"line":1165,"column":1}},"key":"km0MsAxsS5"}],"identifier":"when-to-use-other-tools","label":"When to Use Other Tools","html_id":"when-to-use-other-tools","implicit":true,"key":"DgfiJWtYP1"},{"type":"code","lang":"python","value":"# 1. HETEROGENEOUS DATA: Use Pandas for mixed types\n# NumPy requires homogeneous data\nstellar_data_mixed = {\n    'name': ['Sirius', 'Vega', 'Altair'],  # Strings\n    'magnitude': [-1.46, 0.03, 0.77],       # Floats\n    'observed': [True, True, False],        # Booleans\n    'notes': ['Binary star', None, 'Fast rotator']  # Mixed\n}\n# This is awkward in NumPy, natural in Pandas\nimport pandas as pd\ndf = pd.DataFrame(stellar_data_mixed)\n\n# 2. SPARSE DATA: Use scipy.sparse for mostly-zero matrices\n# NumPy stores all zeros explicitly\nfrom scipy import sparse\n# If your matrix is 99% zeros, don't use NumPy!\nsparse_matrix = sparse.random(10000, 10000, density=0.01)\nprint(f\"Dense size: {10000*10000*8 / 1e9:.2f} GB\")  # 0.80 GB\nprint(f\"Sparse size: ~{0.01*10000*10000*8 / 1e9:.3f} GB\")  # ~0.008 GB\n\n# 3. SYMBOLIC MATH: Use SymPy for algebraic manipulation\nfrom sympy import symbols, expand\nx, y = symbols('x y')\nexpression = expand((x + y)**2)  # x**2 + 2*x*y + y**2\n# NumPy can't do symbolic algebra!\n\n# 4. GRAPHS/NETWORKS: Use NetworkX for graph algorithms\n# NumPy adjacency matrices become unwieldy for graph operations\n\n# 5. VARIABLE-LENGTH SEQUENCES: Use Python lists\n# NumPy requires fixed dimensions\nvariable_sequences = [\n    [1, 2, 3],\n    [4, 5],\n    [6, 7, 8, 9]\n]  # Can't efficiently represent in NumPy\n\n# 6. SMALL DATA: Pure Python might be faster!\n# NumPy has overhead; for \u003c100 elements, Python can be faster\nsmall_list = [1, 2, 3, 4, 5]\n# sum(small_list) might beat np.array(small_list).sum()","position":{"start":{"line":1167,"column":1},"end":{"line":1209,"column":1}},"key":"WP1vsZmGYt"},{"type":"heading","depth":3,"position":{"start":{"line":1211,"column":1},"end":{"line":1211,"column":1}},"children":[{"type":"text","value":"Decision Guide","position":{"start":{"line":1211,"column":1},"end":{"line":1211,"column":1}},"key":"EQGZmWBtdi"}],"identifier":"decision-guide","label":"Decision Guide","html_id":"decision-guide","implicit":true,"key":"BxuwYcVyhc"},{"type":"code","lang":"python","value":"def choose_data_structure(data_characteristics):\n    \"\"\"\n    Guide for choosing the right tool for your data.\n    \"\"\"\n    if data_characteristics['homogeneous'] and data_characteristics['numerical']:\n        if data_characteristics['size'] \u003e 100:\n            if data_characteristics['dense']:\n                return \"NumPy array\"\n            else:\n                return \"scipy.sparse matrix\"\n        else:\n            return \"Python list might be sufficient\"\n    elif data_characteristics['tabular'] and data_characteristics['mixed_types']:\n        return \"Pandas DataFrame\"\n    elif data_characteristics['symbolic']:\n        return \"SymPy expressions\"\n    elif data_characteristics['graph_structure']:\n        return \"NetworkX graph\"\n    else:\n        return \"Python native structures\"","position":{"start":{"line":1213,"column":1},"end":{"line":1234,"column":1}},"key":"YCEbzrqGQq"},{"type":"heading","depth":2,"position":{"start":{"line":1236,"column":1},"end":{"line":1236,"column":1}},"children":[{"type":"text","value":"7.9 Advanced Topics (Optional)","position":{"start":{"line":1236,"column":1},"end":{"line":1236,"column":1}},"key":"tm4DCHy9wd"}],"identifier":"id-7-9-advanced-topics-optional","label":"7.9 Advanced Topics (Optional)","html_id":"id-7-9-advanced-topics-optional","implicit":true,"key":"cIKQvPEhw0"},{"type":"paragraph","position":{"start":{"line":1238,"column":1},"end":{"line":1238,"column":1}},"children":[{"type":"text","value":"The following sections cover specialized NumPy features that you may encounter in existing code or need for specific use cases. Feel free to skip these on first reading and return when you need them.","position":{"start":{"line":1238,"column":1},"end":{"line":1238,"column":1}},"key":"cQ8vUQzIfn"}],"key":"aiaASyXUQB"},{"type":"heading","depth":3,"position":{"start":{"line":1240,"column":1},"end":{"line":1240,"column":1}},"children":[{"type":"text","value":"Structured Arrays: NumPy’s Tabular Data","position":{"start":{"line":1240,"column":1},"end":{"line":1240,"column":1}},"key":"t3jiIyt6GL"}],"identifier":"structured-arrays-numpys-tabular-data","label":"Structured Arrays: NumPy’s Tabular Data","html_id":"structured-arrays-numpys-tabular-data","implicit":true,"key":"PcaDZbIcs9"},{"type":"paragraph","position":{"start":{"line":1242,"column":1},"end":{"line":1242,"column":1}},"children":[{"type":"text","value":"Before pandas became the standard for tabular data in Python, NumPy provided structured arrays as a way to handle heterogeneous data. While most modern code uses pandas DataFrames for mixed-type tabular data, structured arrays still have specific use cases where they excel.","position":{"start":{"line":1242,"column":1},"end":{"line":1242,"column":1}},"key":"SouXTBnDuW"}],"key":"bxYYf5Wyxe"},{"type":"paragraph","position":{"start":{"line":1244,"column":1},"end":{"line":1244,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1244,"column":1},"end":{"line":1244,"column":1}},"children":[{"type":"text","value":"When to use structured arrays:","position":{"start":{"line":1244,"column":1},"end":{"line":1244,"column":1}},"key":"bbbAWeASFk"}],"key":"YGV8udxHiI"}],"key":"G63lsZYZ1v"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1245,"column":1},"end":{"line":1249,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1245,"column":1},"end":{"line":1245,"column":1}},"children":[{"type":"text","value":"You need the absolute minimum memory footprint for millions of records","position":{"start":{"line":1245,"column":1},"end":{"line":1245,"column":1}},"key":"k0yyCvxCPa"}],"key":"exVVro1w73"},{"type":"listItem","spread":true,"position":{"start":{"line":1246,"column":1},"end":{"line":1246,"column":1}},"children":[{"type":"text","value":"You’re interfacing with C/Fortran code that expects structured data","position":{"start":{"line":1246,"column":1},"end":{"line":1246,"column":1}},"key":"xw2xbpLP5s"}],"key":"TFjDyyBgBf"},{"type":"listItem","spread":true,"position":{"start":{"line":1247,"column":1},"end":{"line":1247,"column":1}},"children":[{"type":"text","value":"You’re working with memory-mapped files that need fixed record layouts","position":{"start":{"line":1247,"column":1},"end":{"line":1247,"column":1}},"key":"DQZvf1YZwT"}],"key":"PjfDXQtbI3"},{"type":"listItem","spread":true,"position":{"start":{"line":1248,"column":1},"end":{"line":1249,"column":1}},"children":[{"type":"text","value":"You want to stay within pure NumPy without pandas dependencies","position":{"start":{"line":1248,"column":1},"end":{"line":1248,"column":1}},"key":"EEYLdvHdAy"}],"key":"tAh22l5lQg"}],"key":"RZlw7whTc7"},{"type":"paragraph","position":{"start":{"line":1250,"column":1},"end":{"line":1250,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1250,"column":1},"end":{"line":1250,"column":1}},"children":[{"type":"text","value":"When to use alternatives instead:","position":{"start":{"line":1250,"column":1},"end":{"line":1250,"column":1}},"key":"Kxrdm5E6WN"}],"key":"D8iMSKdjOO"}],"key":"YvVe5Yk5dq"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1251,"column":1},"end":{"line":1254,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1251,"column":1},"end":{"line":1251,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1251,"column":1},"end":{"line":1251,"column":1}},"children":[{"type":"text","value":"Pandas DataFrames","position":{"start":{"line":1251,"column":1},"end":{"line":1251,"column":1}},"key":"s7Vr52sDCY"}],"key":"zkAAHeqSdg"},{"type":"text","value":": For any complex data manipulation, joining, grouping, or analysis (99% of cases)","position":{"start":{"line":1251,"column":1},"end":{"line":1251,"column":1}},"key":"AT1lvIYU8D"}],"key":"ycaNRFesZH"},{"type":"listItem","spread":true,"position":{"start":{"line":1252,"column":1},"end":{"line":1252,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1252,"column":1},"end":{"line":1252,"column":1}},"children":[{"type":"text","value":"Lists of dicts","position":{"start":{"line":1252,"column":1},"end":{"line":1252,"column":1}},"key":"MQvw4cOMId"}],"key":"FYiWKaKB4z"},{"type":"text","value":": For small datasets where convenience matters more than performance","position":{"start":{"line":1252,"column":1},"end":{"line":1252,"column":1}},"key":"jlrsCVLK7b"}],"key":"n7kmLDtk2i"},{"type":"listItem","spread":true,"position":{"start":{"line":1253,"column":1},"end":{"line":1254,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1253,"column":1},"end":{"line":1253,"column":1}},"children":[{"type":"text","value":"Custom classes","position":{"start":{"line":1253,"column":1},"end":{"line":1253,"column":1}},"key":"zZx5aKseYK"}],"key":"KKRvSNBXrP"},{"type":"text","value":": When you need methods and complex behavior with your data","position":{"start":{"line":1253,"column":1},"end":{"line":1253,"column":1}},"key":"gLtfbdWjoq"}],"key":"r59ZHx2C1x"}],"key":"JtcHj0rojv"},{"type":"paragraph","position":{"start":{"line":1255,"column":1},"end":{"line":1255,"column":1}},"children":[{"type":"text","value":"Here’s how structured arrays work and when they might be useful:","position":{"start":{"line":1255,"column":1},"end":{"line":1255,"column":1}},"key":"YEx3y9YSED"}],"key":"qwqnf2kA1V"},{"type":"code","lang":"python","value":"# Structured arrays store heterogeneous data efficiently\nimport numpy as np\n\n# Define the structure of each record\nstar_dtype = np.dtype([\n    ('name', 'U20'),        # Unicode string, max 20 chars\n    ('ra', 'f8'),           # Right ascension (float64) in degrees\n    ('dec', 'f8'),          # Declination (float64) in degrees  \n    ('magnitude', 'f4'),    # Apparent magnitude (float32)\n    ('distance', 'f4'),     # Distance in parsecs\n])\n\n# Create structured array - data stored contiguously in memory\nstars = np.array([\n    ('Sirius', 101.287, -16.716, -1.46, 2.64),\n    ('Canopus', 95.988, -52.696, -0.74, 95.0),\n    ('Arcturus', 213.915, 19.182, -0.05, 11.26),\n], dtype=star_dtype)\n\n# Access fields with bracket notation\nprint(stars['name'])      # ['Sirius' 'Canopus' 'Arcturus']\nprint(stars['magnitude'])  # [-1.46 -0.74 -0.05]\n\n# NumPy operations work directly on fields\nbright_stars = stars[stars['magnitude'] \u003c 0]\nabs_mag = stars['magnitude'] - 5*np.log10(stars['distance']) + 5\n\n# Compare with alternatives:\n\n# 1. Pandas DataFrame (most convenient for analysis)\nimport pandas as pd\ndf = pd.DataFrame({\n    'name': ['Sirius', 'Canopus', 'Arcturus'],\n    'ra': [101.287, 95.988, 213.915],\n    'dec': [-16.716, -52.696, 19.182],\n    'magnitude': [-1.46, -0.74, -0.05],\n    'distance': [2.64, 95.0, 11.26]\n})\n# Rich functionality but more memory overhead\nbright_df = df[df['magnitude'] \u003c 0]\n\n# 2. List of dictionaries (most Pythonic for small data)\nstars_dicts = [\n    {'name': 'Sirius', 'ra': 101.287, 'dec': -16.716, 'magnitude': -1.46},\n    {'name': 'Canopus', 'ra': 95.988, 'dec': -52.696, 'magnitude': -0.74},\n]\n# Flexible but slow for large datasets\n\n# Memory comparison for 1 million stars:\n# Structured array: ~40 MB (compact, fixed layout)\n# Pandas DataFrame: ~100+ MB (flexible, rich features)\n# List of dicts: ~400+ MB (maximum flexibility, poor performance)","position":{"start":{"line":1257,"column":1},"end":{"line":1310,"column":1}},"key":"IoibrFP9kZ"},{"type":"paragraph","position":{"start":{"line":1312,"column":1},"end":{"line":1312,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1312,"column":1},"end":{"line":1312,"column":1}},"children":[{"type":"text","value":"Record Arrays","position":{"start":{"line":1312,"column":1},"end":{"line":1312,"column":1}},"key":"bcmX7PX8gN"}],"key":"EAGJq9MrKl"},{"type":"text","value":": A variant of structured arrays that allows attribute-style access using dot notation. They’re essentially structured arrays with syntactic sugar:","position":{"start":{"line":1312,"column":1},"end":{"line":1312,"column":1}},"key":"Fzi2keF0ac"}],"key":"WZJrrfyCbK"},{"type":"code","lang":"python","value":"# Convert to record array for attribute access\nrec_stars = np.rec.fromarrays(\n    [stars['name'], stars['ra'], stars['dec']], \n    names='name,ra,dec'\n)\nprint(rec_stars.name)  # Attribute style - convenient but ~10% slower\nprint(rec_stars['name'])  # Still works\n\n# In practice, if you want attribute access, use pandas:\nprint(df.name)  # Pandas provides this naturally with more features","position":{"start":{"line":1314,"column":1},"end":{"line":1325,"column":1}},"key":"HMQuuS7U0V"},{"type":"paragraph","position":{"start":{"line":1327,"column":1},"end":{"line":1327,"column":1}},"children":[{"type":"text","value":"The bottom line: structured arrays are a specialized tool. For learning NumPy, understanding regular arrays is far more important. You’ll rarely create structured arrays in new code, but you might encounter them when reading data from binary files or working with legacy scientific codebases.","position":{"start":{"line":1327,"column":1},"end":{"line":1327,"column":1}},"key":"k4JxuqmmmT"}],"key":"V1LdmJLNei"},{"type":"heading","depth":3,"position":{"start":{"line":1329,"column":1},"end":{"line":1329,"column":1}},"children":[{"type":"text","value":"Memory-Mapped Arrays for Huge Datasets","position":{"start":{"line":1329,"column":1},"end":{"line":1329,"column":1}},"key":"Z7gXfVpMHt"}],"identifier":"memory-mapped-arrays-for-huge-datasets","label":"Memory-Mapped Arrays for Huge Datasets","html_id":"memory-mapped-arrays-for-huge-datasets","implicit":true,"key":"cXxqzx9srv"},{"type":"paragraph","position":{"start":{"line":1331,"column":1},"end":{"line":1331,"column":1}},"children":[{"type":"text","value":"When working with datasets larger than your RAM (common in astronomy), memory-mapped arrays let you work with data stored on disk as if it were in memory:","position":{"start":{"line":1331,"column":1},"end":{"line":1331,"column":1}},"key":"EnEq2s9jRS"}],"key":"Fciqtf8ONC"},{"type":"code","lang":"python","value":"# Create a memory-mapped array on disk\n# Useful when data doesn't fit in RAM\nfilename = 'large_data.dat'\nshape = (1000000, 1000)  # 1 million x 1000 array\ndtype = np.float32\n\n# Create and write to memory-mapped array\nmmap_array = np.memmap(filename, dtype=dtype, mode='w+', shape=shape)\n\n# Only accessed parts are loaded into RAM\nmmap_array[0, :] = np.arange(1000)  # Only this row in memory\nmmap_array[999999, :] = np.arange(1000, 2000)  # And now this row\n\n# Ensure data written to disk\ndel mmap_array  # Flush and close\n\n# Later, read the memory-mapped file\nreadonly_mmap = np.memmap(filename, dtype=dtype, mode='r', shape=shape)\nprint(readonly_mmap[0, 0])  # Only loads what's needed\n\n# Clean up\nimport os\nos.remove(filename)\n\n# This is invaluable for:\n# - Large astronomical images that don't fit in memory\n# - Time series data from long observations\n# - Simulation outputs that are generated incrementally","position":{"start":{"line":1333,"column":1},"end":{"line":1362,"column":1}},"key":"dZoxZ4hpZQ"},{"type":"heading","depth":3,"position":{"start":{"line":1364,"column":1},"end":{"line":1364,"column":1}},"children":[{"type":"text","value":"Modern Random Number Generation","position":{"start":{"line":1364,"column":1},"end":{"line":1364,"column":1}},"key":"yRy9s6BAyP"}],"identifier":"modern-random-number-generation","label":"Modern Random Number Generation","html_id":"modern-random-number-generation","implicit":true,"key":"Sm0MTEct87"},{"type":"paragraph","position":{"start":{"line":1366,"column":1},"end":{"line":1366,"column":1}},"children":[{"type":"text","value":"NumPy 1.17+ introduced an improved random number API that’s better for reproducible science and parallel computing. You’ll see both the old and new approaches in existing code:","position":{"start":{"line":1366,"column":1},"end":{"line":1366,"column":1}},"key":"nENqYhKTaT"}],"key":"DVEKQOOqhT"},{"type":"code","lang":"python","value":"In [326]: # Old way (still widely used in existing code)\nIn [327]: np.random.seed(42)\nIn [328]: old_random = np.random.randn(5)\n\nIn [329]: # New way - better for parallel computing and cleaner design\nIn [330]: rng = np.random.default_rng(seed=42)  # Create generator object\nIn [331]: new_random = rng.standard_normal(5)   # Use generator methods\n\nIn [332]: print(f\"Old API: {old_random}\")\nIn [333]: print(f\"New API: {new_random}\")\nOld API: [ 0.496  0.861  0.697 -0.817  0.673]\nNew API: [ 0.308 -1.299  1.966  0.404  0.224]\n\nIn [334]: # Why use the new API for new code?\nIn [335]: # 1. Better statistical properties (improved algorithms)\nIn [336]: # 2. Thread-safe for parallel computing\nIn [337]: # 3. Can create independent random streams easily\nIn [338]: rng1 = np.random.default_rng(seed=42)\nIn [339]: rng2 = np.random.default_rng(seed=43)\nIn [340]: # rng1 and rng2 produce independent, reproducible streams\n\n# Both APIs will coexist for years - know both!","position":{"start":{"line":1368,"column":1},"end":{"line":1391,"column":1}},"key":"sHRggPt2pI"},{"type":"heading","depth":2,"position":{"start":{"line":1393,"column":1},"end":{"line":1393,"column":1}},"children":[{"type":"text","value":"7.11 Common Pitfalls and Debugging","position":{"start":{"line":1393,"column":1},"end":{"line":1393,"column":1}},"key":"blXjIsATxL"}],"identifier":"id-7-11-common-pitfalls-and-debugging","label":"7.11 Common Pitfalls and Debugging","html_id":"id-7-11-common-pitfalls-and-debugging","implicit":true,"key":"SKzIWNAqVw"},{"type":"heading","depth":3,"position":{"start":{"line":1395,"column":1},"end":{"line":1395,"column":1}},"children":[{"type":"text","value":"The View vs Copy Confusion","position":{"start":{"line":1395,"column":1},"end":{"line":1395,"column":1}},"key":"VUjFDoNvKW"}],"identifier":"the-view-vs-copy-confusion","label":"The View vs Copy Confusion","html_id":"the-view-vs-copy-confusion","implicit":true,"key":"tQW80SjQKN"},{"type":"code","lang":"python","value":"# PITFALL: Not knowing when you have a view\narr = np.arange(10)\nsubset = arr[2:5]  # This is a VIEW\nsubset[0] = 999\nprint(arr)  # [0 1 999 3 4 5 6 7 8 9] - Original changed!\n\n# SOLUTION: Be explicit about views and copies\nsubset_copy = arr[2:5].copy()  # Explicit copy\nsubset_view = arr[2:5]  # Clear that it's a view","position":{"start":{"line":1397,"column":1},"end":{"line":1407,"column":1}},"key":"lNEx40UyFD"},{"type":"heading","depth":3,"position":{"start":{"line":1409,"column":1},"end":{"line":1409,"column":1}},"children":[{"type":"text","value":"Integer Division Changes","position":{"start":{"line":1409,"column":1},"end":{"line":1409,"column":1}},"key":"pBmo4mfx0J"}],"identifier":"integer-division-changes","label":"Integer Division Changes","html_id":"integer-division-changes","implicit":true,"key":"qtxv4kOwQv"},{"type":"code","lang":"python","value":"# PITFALL: Integer division behavior\narr = np.array([1, 2, 3, 4, 5])\n\n# In Python 3, / always gives float\nresult1 = arr / 2\nprint(result1.dtype)  # float64\n\n# Use // for integer division\nresult2 = arr // 2\nprint(result2.dtype)  # int64\n\n# Be explicit about dtype when needed\nresult3 = (arr / 2).astype(int)","position":{"start":{"line":1411,"column":1},"end":{"line":1425,"column":1}},"key":"IaKL9vIe53"},{"type":"heading","depth":3,"position":{"start":{"line":1427,"column":1},"end":{"line":1427,"column":1}},"children":[{"type":"text","value":"Broadcasting Errors","position":{"start":{"line":1427,"column":1},"end":{"line":1427,"column":1}},"key":"SsuzgeIaXZ"}],"identifier":"broadcasting-errors","label":"Broadcasting Errors","html_id":"broadcasting-errors","implicit":true,"key":"nEiEoVN7Hl"},{"type":"code","lang":"python","value":"# PITFALL: Unexpected broadcasting\na = np.ones((3, 3))\nb = np.array([1, 2, 3, 4])  # Wrong size!\n\ntry:\n    c = a + b\nexcept ValueError as e:\n    print(f\"Error: {e}\")\n    # operands could not be broadcast together with shapes (3,3) (4,)\n\n# SOLUTION: Check shapes before operations\ndef debug_broadcasting(a, b):\n    \"\"\"Helper to understand broadcasting.\"\"\"\n    print(f\"a.shape: {a.shape}\")\n    print(f\"b.shape: {b.shape}\")\n    try:\n        result_shape = np.broadcast_shapes(a.shape, b.shape)\n        print(f\"Result shape: {result_shape}\")\n    except ValueError:\n        print(\"Cannot broadcast these shapes!\")","position":{"start":{"line":1429,"column":1},"end":{"line":1450,"column":1}},"key":"MqoXVOv1vY"},{"type":"heading","depth":3,"position":{"start":{"line":1452,"column":1},"end":{"line":1452,"column":1}},"children":[{"type":"text","value":"🛠️ ","position":{"start":{"line":1452,"column":1},"end":{"line":1452,"column":1}},"key":"avd7j0BzGh"},{"type":"strong","position":{"start":{"line":1452,"column":1},"end":{"line":1452,"column":1}},"children":[{"type":"text","value":"Debug This!","position":{"start":{"line":1452,"column":1},"end":{"line":1452,"column":1}},"key":"W7QaYwNchZ"}],"key":"Ai9Suq2DCT"}],"identifier":"id-debug-this","label":"🛠️ Debug This!","html_id":"id-debug-this","implicit":true,"key":"c575iuj6dO"},{"type":"paragraph","position":{"start":{"line":1454,"column":1},"end":{"line":1454,"column":1}},"children":[{"type":"text","value":"This code has a subtle bug. Can you find it?","position":{"start":{"line":1454,"column":1},"end":{"line":1454,"column":1}},"key":"keLROikhA5"}],"key":"HOALg5d73H"},{"type":"code","lang":"python","value":"def normalize_columns(data):\n    \"\"\"Normalize each column to have mean=0, std=1.\"\"\"\n    for col in range(data.shape[1]):\n        data[:, col] -= data[:, col].mean()\n        data[:, col] /= data[:, col].std()\n    return data\n\n# Test it\ntest_data = np.array([[1.0, 100.0],\n                       [2.0, 200.0],\n                       [3.0, 300.0]])\n                       \nnormalized = normalize_columns(test_data)\nprint(f\"Original data:\\n{test_data}\")\nprint(f\"Normalized:\\n{normalized}\")","position":{"start":{"line":1456,"column":1},"end":{"line":1472,"column":1}},"key":"JCFq1AvFyb"},{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Bug and Solution","key":"OL6xMJSjt4"}],"key":"v9xIKK6JKV"},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Bug","key":"VddHQjGJjt"}],"key":"pgn6UPviAV"},{"type":"text","value":": The function modifies the input array in-place but also returns it, which is confusing. Worse, the original data is lost! After calling the function, both ","key":"SW56Qsel1g"},{"type":"inlineCode","value":"test_data","key":"yJIy1RXURt"},{"type":"text","value":" and ","key":"DSoPEWj9zj"},{"type":"inlineCode","value":"normalized","key":"U6nTv04khC"},{"type":"text","value":" point to the same modified array.","key":"fbK1rxIbgO"}],"key":"M6ZzL3dywq"},{"type":"code","lang":"python","meta":null,"value":"print(test_data is normalized)  # True - same object!","key":"wCskUi91VP"},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Solutions","key":"QKV91iDeCY"}],"key":"I0OjyWK2Vy"},{"type":"text","value":":","key":"xTaAtM5mjh"}],"key":"p55esXPPiS"},{"type":"paragraph","children":[{"type":"text","value":"Option 1: Work on a copy (preserve original)","key":"YsHxPKVyGY"}],"key":"QLxrPEjd0w"},{"type":"code","lang":"python","meta":null,"value":"def normalize_columns_safe(data):\n    \"\"\"Normalize columns without modifying input.\"\"\"\n    result = data.copy()  # Work on copy\n    for col in range(result.shape[1]):\n        col_data = result[:, col]\n        result[:, col] = (col_data - col_data.mean()) / col_data.std()\n    return result","key":"KYNK0XeNyf"},{"type":"paragraph","children":[{"type":"text","value":"Option 2: Make in-place operation explicit","key":"y96noqgZfa"}],"key":"lwpxf2LReE"},{"type":"code","lang":"python","meta":null,"value":"def normalize_columns_inplace(data):\n    \"\"\"Normalize columns in-place. Returns None to signal in-place.\"\"\"\n    for col in range(data.shape[1]):\n        col_data = data[:, col]\n        data[:, col] = (col_data - col_data.mean()) / col_data.std()\n    # Don't return anything for in-place operations","key":"AtBLHe6qBk"},{"type":"paragraph","children":[{"type":"text","value":"Option 3: Use vectorization (best!)","key":"IhG4NQNeLM"}],"key":"KoFVidOaHg"},{"type":"code","lang":"python","meta":null,"value":"def normalize_columns_vectorized(data):\n    \"\"\"Vectorized normalization - fastest and clearest.\"\"\"\n    return (data - data.mean(axis=0)) / data.std(axis=0)","key":"Y6TEq9HvT5"},{"type":"paragraph","children":[{"type":"text","value":"The vectorized version is not only faster but also automatically returns a new array, avoiding the confusion entirely.","key":"MrTuhxB1cr"}],"key":"o2zCb9VCcn"}],"key":"P5mZakU9kk"},{"type":"heading","depth":2,"position":{"start":{"line":1517,"column":1},"end":{"line":1517,"column":1}},"children":[{"type":"text","value":"7.12 Working with Scientific Data Formats (Optional)","position":{"start":{"line":1517,"column":1},"end":{"line":1517,"column":1}},"key":"gvjsTkdbp2"}],"identifier":"id-7-12-working-with-scientific-data-formats-optional","label":"7.12 Working with Scientific Data Formats (Optional)","html_id":"id-7-12-working-with-scientific-data-formats-optional","implicit":true,"key":"JK1tWAClu5"},{"type":"paragraph","position":{"start":{"line":1519,"column":1},"end":{"line":1519,"column":1}},"children":[{"type":"text","value":"While we’ll cover these in more detail later, here’s a brief introduction to common scientific data formats:","position":{"start":{"line":1519,"column":1},"end":{"line":1519,"column":1}},"key":"proAU92QcZ"}],"key":"xuwciEn7ij"},{"type":"heading","depth":3,"position":{"start":{"line":1521,"column":1},"end":{"line":1521,"column":1}},"children":[{"type":"text","value":"HDF5 for Large Datasets","position":{"start":{"line":1521,"column":1},"end":{"line":1521,"column":1}},"key":"XSuSwu8rAh"}],"identifier":"hdf5-for-large-datasets","label":"HDF5 for Large Datasets","html_id":"hdf5-for-large-datasets","implicit":true,"key":"OHJQm6YIGz"},{"type":"paragraph","position":{"start":{"line":1523,"column":1},"end":{"line":1523,"column":1}},"children":[{"type":"text","value":"HDF5 is ideal for large, complex scientific datasets:","position":{"start":{"line":1523,"column":1},"end":{"line":1523,"column":1}},"key":"mn4jBCqzO8"}],"key":"ftND2FfUxo"},{"type":"code","lang":"python","value":"# Basic HDF5 usage with h5py\nimport h5py\n\n# Create HDF5 file with datasets\nwith h5py.File('scientific_data.h5', 'w') as f:\n    # Create datasets\n    f.create_dataset('temperature', data=np.random.randn(1000, 1000))\n    f.create_dataset('pressure', data=np.random.randn(1000, 1000))\n    \n    # Add metadata as attributes\n    f['temperature'].attrs['units'] = 'Kelvin'\n    f['temperature'].attrs['date'] = '2024-01-15'\n\n# Read HDF5 file\nwith h5py.File('scientific_data.h5', 'r') as f:\n    temp = f['temperature'][:]  # Load into NumPy array\n    print(f\"Temperature shape: {temp.shape}\")\n    print(f\"Units: {f['temperature'].attrs['units']}\")\n\n# Clean up\nimport os\nos.remove('scientific_data.h5')","position":{"start":{"line":1525,"column":1},"end":{"line":1548,"column":1}},"key":"g0oZQpyfQg"},{"type":"heading","depth":3,"position":{"start":{"line":1550,"column":1},"end":{"line":1550,"column":1}},"children":[{"type":"text","value":"FITS for Astronomical Data","position":{"start":{"line":1550,"column":1},"end":{"line":1550,"column":1}},"key":"IZy2eZYEft"}],"identifier":"fits-for-astronomical-data","label":"FITS for Astronomical Data","html_id":"fits-for-astronomical-data","implicit":true,"key":"Xsj0QK1OCx"},{"type":"paragraph","position":{"start":{"line":1552,"column":1},"end":{"line":1552,"column":1}},"children":[{"type":"text","value":"FITS (Flexible Image Transport System) is the standard for astronomical data:","position":{"start":{"line":1552,"column":1},"end":{"line":1552,"column":1}},"key":"fiCWeqKsWL"}],"key":"OzRODs4huP"},{"type":"code","lang":"python","value":"# Basic FITS usage with astropy (when available)\ntry:\n    from astropy.io import fits\n    \n    # Create FITS file\n    data = np.random.randn(512, 512)  # Simulated image\n    hdu = fits.PrimaryHDU(data)\n    hdu.header['OBSERVER'] = 'Your Name'\n    hdu.header['EXPTIME'] = 300.0  # Exposure time in seconds\n    \n    # Write and read\n    hdu.writeto('test.fits', overwrite=True)\n    \n    # Read FITS file\n    with fits.open('test.fits') as hdul:\n        image = hdul[0].data  # NumPy array\n        header = hdul[0].header\n        print(f\"Image shape: {image.shape}\")\n        print(f\"Exposure time: {header['EXPTIME']} seconds\")\n    \n    # Clean up\n    os.remove('test.fits')\n    \nexcept ImportError:\n    print(\"astropy not installed - FITS example skipped\")","position":{"start":{"line":1554,"column":1},"end":{"line":1580,"column":1}},"key":"GnuqMk3C2w"},{"type":"paragraph","position":{"start":{"line":1582,"column":1},"end":{"line":1582,"column":1}},"children":[{"type":"text","value":"These formats integrate seamlessly with NumPy arrays, making them ideal for scientific data storage and exchange.","position":{"start":{"line":1582,"column":1},"end":{"line":1582,"column":1}},"key":"DreO8eYXlz"}],"key":"zzRoDlWXxh"},{"type":"heading","depth":2,"position":{"start":{"line":1584,"column":1},"end":{"line":1584,"column":1}},"children":[{"type":"text","value":"Practice Exercises","position":{"start":{"line":1584,"column":1},"end":{"line":1584,"column":1}},"key":"MUXGXlCFIq"}],"identifier":"practice-exercises","label":"Practice Exercises","html_id":"practice-exercises","implicit":true,"key":"tU9lXKEMgJ"},{"type":"heading","depth":3,"position":{"start":{"line":1586,"column":1},"end":{"line":1586,"column":1}},"children":[{"type":"text","value":"Exercise 7.1: Implement Moving Average","position":{"start":{"line":1586,"column":1},"end":{"line":1586,"column":1}},"key":"gYIel3lY3j"}],"identifier":"exercise-7-1-implement-moving-average","label":"Exercise 7.1: Implement Moving Average","html_id":"exercise-7-1-implement-moving-average","implicit":true,"key":"IL8ZQa9eXK"},{"type":"paragraph","position":{"start":{"line":1588,"column":1},"end":{"line":1588,"column":1}},"children":[{"type":"text","value":"Create a function that computes a moving average efficiently:","position":{"start":{"line":1588,"column":1},"end":{"line":1588,"column":1}},"key":"c5QBrzbMar"}],"key":"C4f725k3qH"},{"type":"code","lang":"python","value":"\"\"\"\nImplement a moving average function that:\n1. Takes a 1D array and window size\n2. Returns array of moving averages\n3. Handles edge cases appropriately\n4. Is vectorized (no Python loops)\n\nExample:\ndata = [1, 2, 3, 4, 5]\nwindow = 3\nresult = [1.5, 2, 3, 4, 4.5]  # Edges handled with smaller windows\n\nHint: Consider np.convolve or cumulative sum approach\n\"\"\"\n\ndef moving_average(data, window_size):\n    \"\"\"\n    Compute moving average using vectorization.\n    \n    Parameters\n    ----------\n    data : array-like\n        Input data\n    window_size : int\n        Size of moving window\n    \n    Returns\n    -------\n    array\n        Moving averages\n    \"\"\"\n    # Your implementation here\n    pass\n\n# Test cases\ntest_data = np.random.randn(1000)\nma = moving_average(test_data, 10)\nassert len(ma) == len(test_data), \"Output length should match input\"\nassert np.isfinite(ma).all(), \"All values should be finite\"","position":{"start":{"line":1590,"column":1},"end":{"line":1630,"column":1}},"key":"kNA8zTTleT"},{"type":"heading","depth":3,"position":{"start":{"line":1632,"column":1},"end":{"line":1632,"column":1}},"children":[{"type":"text","value":"Exercise 7.2: Image Processing with Broadcasting","position":{"start":{"line":1632,"column":1},"end":{"line":1632,"column":1}},"key":"plsuwwMCkW"}],"identifier":"exercise-7-2-image-processing-with-broadcasting","label":"Exercise 7.2: Image Processing with Broadcasting","html_id":"exercise-7-2-image-processing-with-broadcasting","implicit":true,"key":"JSMDEMwjze"},{"type":"paragraph","position":{"start":{"line":1634,"column":1},"end":{"line":1634,"column":1}},"children":[{"type":"text","value":"Implement image transformations using broadcasting:","position":{"start":{"line":1634,"column":1},"end":{"line":1634,"column":1}},"key":"ylAub3MA0D"}],"key":"ydLyfK8jSM"},{"type":"code","lang":"python","value":"\"\"\"\nCreate functions for basic image processing:\n1. Brightness adjustment (add constant to all pixels)\n2. Contrast adjustment (multiply all pixels)\n3. Gamma correction (power transformation)\n4. RGB to grayscale conversion\n\nWork with images as arrays where:\n- Grayscale: (height, width)\n- RGB: (height, width, 3)\n\nUse broadcasting to avoid loops!\n\"\"\"\n\ndef adjust_brightness(image, delta):\n    \"\"\"\n    Adjust brightness by adding delta.\n    Ensure result stays in valid range [0, 1].\n    \"\"\"\n    # Your implementation here\n    pass\n\ndef adjust_gamma(image, gamma):\n    \"\"\"\n    Apply gamma correction: out = in^gamma\n    Handles negative values properly.\n    \"\"\"\n    # Your implementation here\n    pass\n\ndef rgb_to_grayscale(rgb_image):\n    \"\"\"\n    Convert RGB to grayscale using standard weights:\n    gray = 0.299*R + 0.587*G + 0.114*B\n    \"\"\"\n    # Your implementation here\n    pass\n\n# Test with synthetic image\ntest_rgb = np.random.rand(100, 100, 3)\ngray = rgb_to_grayscale(test_rgb)\nassert gray.shape == (100, 100), \"Should be 2D grayscale\"\nassert 0 \u003c= gray.min() and gray.max() \u003c= 1, \"Should be in [0,1] range\"","position":{"start":{"line":1636,"column":1},"end":{"line":1680,"column":1}},"key":"vx03rKVAlx"},{"type":"heading","depth":3,"position":{"start":{"line":1682,"column":1},"end":{"line":1682,"column":1}},"children":[{"type":"text","value":"Exercise 7.3: Optimize Star Catalog Operations","position":{"start":{"line":1682,"column":1},"end":{"line":1682,"column":1}},"key":"HZmU1ErMoP"}],"identifier":"exercise-7-3-optimize-star-catalog-operations","label":"Exercise 7.3: Optimize Star Catalog Operations","html_id":"exercise-7-3-optimize-star-catalog-operations","implicit":true,"key":"Cg3fqyS6tq"},{"type":"paragraph","position":{"start":{"line":1684,"column":1},"end":{"line":1684,"column":1}},"children":[{"type":"text","value":"Compare different approaches for astronomical calculations:","position":{"start":{"line":1684,"column":1},"end":{"line":1684,"column":1}},"key":"BrGbGrwsNJ"}],"key":"ATBzPp7jt4"},{"type":"code","lang":"python","value":"\"\"\"\nGiven a star catalog with positions and magnitudes,\nimplement these operations multiple ways and compare performance:\n\n1. Find all stars within a given angular distance from a point\n2. Calculate total flux from all stars (flux = 10^(-0.4 * magnitude))\n3. Find the brightest N stars in a region\n\nImplement using:\na) Pure Python loops (baseline)\nb) NumPy vectorization\nc) Boolean masking\n\nMeasure performance differences.\n\"\"\"\n\n# Generate synthetic catalog\nn_stars = 100000\ncatalog = {\n    'ra': np.random.uniform(0, 360, n_stars),      # Right ascension (degrees)\n    'dec': np.random.uniform(-90, 90, n_stars),    # Declination (degrees)\n    'mag': np.random.uniform(-1, 20, n_stars)      # Magnitude\n}\n\ndef angular_distance(ra1, dec1, ra2, dec2):\n    \"\"\"\n    Calculate angular distance between points on sphere.\n    Uses haversine formula for numerical stability.\n    \"\"\"\n    # Convert to radians\n    ra1, dec1, ra2, dec2 = map(np.radians, [ra1, dec1, ra2, dec2])\n    \n    # Haversine formula\n    dra = ra2 - ra1\n    ddec = dec2 - dec1\n    a = np.sin(ddec/2)**2 + np.cos(dec1) * np.cos(dec2) * np.sin(dra/2)**2\n    c = 2 * np.arcsin(np.sqrt(a))\n    \n    return np.degrees(c)\n\ndef find_nearby_stars_loop(catalog, ra_center, dec_center, radius):\n    \"\"\"Pure Python implementation.\"\"\"\n    # Your implementation here\n    pass\n\ndef find_nearby_stars_numpy(catalog, ra_center, dec_center, radius):\n    \"\"\"Vectorized NumPy implementation.\"\"\"\n    # Your implementation here\n    pass\n\n# Compare performance\nimport time\n# Your timing code here","position":{"start":{"line":1686,"column":1},"end":{"line":1740,"column":1}},"key":"i7DqUptShV"},{"type":"heading","depth":3,"position":{"start":{"line":1742,"column":1},"end":{"line":1742,"column":1}},"children":[{"type":"text","value":"Exercise 7.4: Memory-Efficient Large Array Processing","position":{"start":{"line":1742,"column":1},"end":{"line":1742,"column":1}},"key":"lJSkknwqVn"}],"identifier":"exercise-7-4-memory-efficient-large-array-processing","label":"Exercise 7.4: Memory-Efficient Large Array Processing","html_id":"exercise-7-4-memory-efficient-large-array-processing","implicit":true,"key":"L2YLyJCDu5"},{"type":"paragraph","position":{"start":{"line":1744,"column":1},"end":{"line":1744,"column":1}},"children":[{"type":"text","value":"Work with arrays too large to fit in memory:","position":{"start":{"line":1744,"column":1},"end":{"line":1744,"column":1}},"key":"tjMIMozRFm"}],"key":"nJGKD9Nfka"},{"type":"code","lang":"python","value":"\"\"\"\nProcess a large dataset in chunks to avoid memory issues:\n\n1. Create a large dataset (simulate with smaller array)\n2. Process in chunks of fixed size\n3. Combine results appropriately\n\nExample task: Calculate statistics for a 10GB array\non a machine with 4GB RAM.\n\nImplement:\n- Chunked mean calculation\n- Chunked standard deviation (trickier!)\n- Chunked percentiles\n\"\"\"\n\ndef chunked_mean(data_generator, chunk_size=1000000):\n    \"\"\"\n    Calculate mean of data that comes in chunks.\n    Uses numerically stable online algorithm.\n    \"\"\"\n    total_sum = 0.0\n    total_count = 0\n    \n    for chunk in data_generator:\n        # Your implementation here\n        pass\n    \n    return total_sum / total_count if total_count \u003e 0 else 0.0\n\ndef chunked_std(data_generator, chunk_size=1000000):\n    \"\"\"\n    Calculate standard deviation in chunks.\n    Uses Welford's online algorithm for numerical stability.\n    \"\"\"\n    n = 0\n    mean = 0.0\n    M2 = 0.0\n    \n    for chunk in data_generator:\n        # Your implementation here\n        # Hint: Update mean and M2 incrementally\n        pass\n    \n    return np.sqrt(M2 / n) if n \u003e 1 else 0.0\n\n# Test with generator that simulates large data\ndef data_generator(total_size, chunk_size):\n    \"\"\"Generate random data in chunks.\"\"\"\n    n_chunks = total_size // chunk_size\n    for _ in range(n_chunks):\n        yield np.random.randn(chunk_size)\n    \n    remainder = total_size % chunk_size\n    if remainder:\n        yield np.random.randn(remainder)\n\n# Verify your implementation\ntotal = 10000000  # 10 million points\ngen = data_generator(total, chunk_size=100000)\nmean = chunked_mean(gen)\nprint(f\"Chunked mean: {mean:.6f} (should be ~0)\")","position":{"start":{"line":1746,"column":1},"end":{"line":1809,"column":1}},"key":"fzTUY79SVf"},{"type":"heading","depth":2,"position":{"start":{"line":1811,"column":1},"end":{"line":1811,"column":1}},"children":[{"type":"text","value":"Key Takeaways","position":{"start":{"line":1811,"column":1},"end":{"line":1811,"column":1}},"key":"PwUS7LzgZE"}],"identifier":"key-takeaways","label":"Key Takeaways","html_id":"key-takeaways","implicit":true,"key":"gDMGT8oXdH"},{"type":"paragraph","position":{"start":{"line":1813,"column":1},"end":{"line":1813,"column":1}},"children":[{"type":"text","value":"✅ ","position":{"start":{"line":1813,"column":1},"end":{"line":1813,"column":1}},"key":"gnPyEVnrn9"},{"type":"strong","position":{"start":{"line":1813,"column":1},"end":{"line":1813,"column":1}},"children":[{"type":"text","value":"NumPy arrays are fundamentally different from Python lists","position":{"start":{"line":1813,"column":1},"end":{"line":1813,"column":1}},"key":"Vefot59xN3"}],"key":"tejAzXMz1D"},{"type":"text","value":" - They store homogeneous data in contiguous memory blocks, enabling 10-100x performance improvements through vectorized operations in compiled C code.","position":{"start":{"line":1813,"column":1},"end":{"line":1813,"column":1}},"key":"Dbqy7Sgw2G"}],"key":"enphhL0jvT"},{"type":"paragraph","position":{"start":{"line":1815,"column":1},"end":{"line":1815,"column":1}},"children":[{"type":"text","value":"✅ ","position":{"start":{"line":1815,"column":1},"end":{"line":1815,"column":1}},"key":"JZCS90KieD"},{"type":"strong","position":{"start":{"line":1815,"column":1},"end":{"line":1815,"column":1}},"children":[{"type":"text","value":"Vectorization is the key mental shift","position":{"start":{"line":1815,"column":1},"end":{"line":1815,"column":1}},"key":"Sn1YttmZl1"}],"key":"Vbaee8ugWJ"},{"type":"text","value":" - Think in terms of operations on entire arrays, not individual elements. This leverages CPU vector instructions and eliminates Python interpreter overhead.","position":{"start":{"line":1815,"column":1},"end":{"line":1815,"column":1}},"key":"e9T2Rkdxuw"}],"key":"aHKhaM0icJ"},{"type":"paragraph","position":{"start":{"line":1817,"column":1},"end":{"line":1817,"column":1}},"children":[{"type":"text","value":"✅ ","position":{"start":{"line":1817,"column":1},"end":{"line":1817,"column":1}},"key":"ZFMlb2v7xB"},{"type":"strong","position":{"start":{"line":1817,"column":1},"end":{"line":1817,"column":1}},"children":[{"type":"text","value":"Broadcasting enables elegant code","position":{"start":{"line":1817,"column":1},"end":{"line":1817,"column":1}},"key":"VOF89VEO61"}],"key":"bxUwhTHfwh"},{"type":"text","value":" - Operations between arrays of different shapes follow simple rules, eliminating explicit loops while maintaining memory efficiency.","position":{"start":{"line":1817,"column":1},"end":{"line":1817,"column":1}},"key":"RzcYIPa858"}],"key":"kTALbERBba"},{"type":"paragraph","position":{"start":{"line":1819,"column":1},"end":{"line":1819,"column":1}},"children":[{"type":"text","value":"✅ ","position":{"start":{"line":1819,"column":1},"end":{"line":1819,"column":1}},"key":"RLt6FEEYKb"},{"type":"strong","position":{"start":{"line":1819,"column":1},"end":{"line":1819,"column":1}},"children":[{"type":"text","value":"Views vs copies matter for correctness and performance","position":{"start":{"line":1819,"column":1},"end":{"line":1819,"column":1}},"key":"h9RoTdnUVG"}],"key":"t7PDK8ostD"},{"type":"text","value":" - Basic slicing creates views (shared memory), while fancy indexing creates copies. Understanding this prevents bugs and memory issues.","position":{"start":{"line":1819,"column":1},"end":{"line":1819,"column":1}},"key":"hURAPmC0Fh"}],"key":"Ypc9D9yq03"},{"type":"paragraph","position":{"start":{"line":1821,"column":1},"end":{"line":1821,"column":1}},"children":[{"type":"text","value":"✅ ","position":{"start":{"line":1821,"column":1},"end":{"line":1821,"column":1}},"key":"KIs1S4ocKl"},{"type":"strong","position":{"start":{"line":1821,"column":1},"end":{"line":1821,"column":1}},"children":[{"type":"text","value":"Data types affect both memory and precision","position":{"start":{"line":1821,"column":1},"end":{"line":1821,"column":1}},"key":"WQansy4XqS"}],"key":"oJxLtL6H4k"},{"type":"text","value":" - Choose float32 for speed/memory with acceptable precision loss, float64 for accuracy, and appropriate integer types for counting and indexing.","position":{"start":{"line":1821,"column":1},"end":{"line":1821,"column":1}},"key":"l3lDUCmq1Y"}],"key":"wBtNKfgnJC"},{"type":"paragraph","position":{"start":{"line":1823,"column":1},"end":{"line":1823,"column":1}},"children":[{"type":"text","value":"✅ ","position":{"start":{"line":1823,"column":1},"end":{"line":1823,"column":1}},"key":"UjpzpPrwJq"},{"type":"strong","position":{"start":{"line":1823,"column":1},"end":{"line":1823,"column":1}},"children":[{"type":"text","value":"Memory layout impacts performance","position":{"start":{"line":1823,"column":1},"end":{"line":1823,"column":1}},"key":"h0td57KZRk"}],"key":"l6c0jQ0qz8"},{"type":"text","value":" - Row-major (C) vs column-major (Fortran) ordering affects cache efficiency. Access patterns should match memory layout for optimal performance.","position":{"start":{"line":1823,"column":1},"end":{"line":1823,"column":1}},"key":"ETZ3Q7Jf1H"}],"key":"oGCBiBmnyd"},{"type":"paragraph","position":{"start":{"line":1825,"column":1},"end":{"line":1825,"column":1}},"children":[{"type":"text","value":"✅ ","position":{"start":{"line":1825,"column":1},"end":{"line":1825,"column":1}},"key":"bU77c3nVuq"},{"type":"strong","position":{"start":{"line":1825,"column":1},"end":{"line":1825,"column":1}},"children":[{"type":"text","value":"Numerical stability matters","position":{"start":{"line":1825,"column":1},"end":{"line":1825,"column":1}},"key":"c2koOV2RPb"}],"key":"X75fwJdSmh"},{"type":"text","value":" - Not all mathematically equivalent operations are numerically stable. Use library functions that implement stable algorithms.","position":{"start":{"line":1825,"column":1},"end":{"line":1825,"column":1}},"key":"GuLPNJxLXs"}],"key":"p0rDr6grHR"},{"type":"paragraph","position":{"start":{"line":1827,"column":1},"end":{"line":1827,"column":1}},"children":[{"type":"text","value":"✅ ","position":{"start":{"line":1827,"column":1},"end":{"line":1827,"column":1}},"key":"QzfqbNzVSZ"},{"type":"strong","position":{"start":{"line":1827,"column":1},"end":{"line":1827,"column":1}},"children":[{"type":"text","value":"NumPy isn’t always the answer","position":{"start":{"line":1827,"column":1},"end":{"line":1827,"column":1}},"key":"B3eB2r0PI2"}],"key":"PtpMQwSzSy"},{"type":"text","value":" - Use pandas for heterogeneous data, scipy.sparse for sparse matrices, and native Python for small datasets or variable-length sequences.","position":{"start":{"line":1827,"column":1},"end":{"line":1827,"column":1}},"key":"hjEAcFZLGo"}],"key":"hV6UmNgy5P"},{"type":"paragraph","position":{"start":{"line":1829,"column":1},"end":{"line":1829,"column":1}},"children":[{"type":"text","value":"✅ ","position":{"start":{"line":1829,"column":1},"end":{"line":1829,"column":1}},"key":"YnNbX62hPk"},{"type":"strong","position":{"start":{"line":1829,"column":1},"end":{"line":1829,"column":1}},"children":[{"type":"text","value":"NumPy is the foundation","position":{"start":{"line":1829,"column":1},"end":{"line":1829,"column":1}},"key":"ZbgP1OhP2R"}],"key":"xwkep548J2"},{"type":"text","value":" - Every major scientific Python library builds on NumPy. Understanding NumPy deeply means understanding the entire ecosystem.","position":{"start":{"line":1829,"column":1},"end":{"line":1829,"column":1}},"key":"kr61dqtVBF"}],"key":"MRXK4Idrm7"},{"type":"heading","depth":2,"position":{"start":{"line":1831,"column":1},"end":{"line":1831,"column":1}},"children":[{"type":"text","value":"Quick Reference Tables","position":{"start":{"line":1831,"column":1},"end":{"line":1831,"column":1}},"key":"Fl8XGNvU6T"}],"identifier":"quick-reference-tables","label":"Quick Reference Tables","html_id":"quick-reference-tables","implicit":true,"key":"SN8wV5xjvW"},{"type":"heading","depth":3,"position":{"start":{"line":1833,"column":1},"end":{"line":1833,"column":1}},"children":[{"type":"text","value":"Array Creation Functions","position":{"start":{"line":1833,"column":1},"end":{"line":1833,"column":1}},"key":"uI1zbO8QJH"}],"identifier":"array-creation-functions","label":"Array Creation Functions","html_id":"array-creation-functions","implicit":true,"key":"GSEyQEpv9h"},{"type":"table","position":{"start":{"line":1835,"column":1},"end":{"line":1846,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1835,"column":1},"end":{"line":1835,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1835,"column":1},"end":{"line":1835,"column":1}},"children":[{"type":"text","value":"Function","position":{"start":{"line":1835,"column":1},"end":{"line":1835,"column":1}},"key":"tmCZr9A63g"}],"key":"dnSmHg3qOB"},{"type":"tableCell","header":true,"position":{"start":{"line":1835,"column":1},"end":{"line":1835,"column":1}},"children":[{"type":"text","value":"Purpose","position":{"start":{"line":1835,"column":1},"end":{"line":1835,"column":1}},"key":"grDBccCF4Y"}],"key":"MQoLZWq9sD"},{"type":"tableCell","header":true,"position":{"start":{"line":1835,"column":1},"end":{"line":1835,"column":1}},"children":[{"type":"text","value":"Example","position":{"start":{"line":1835,"column":1},"end":{"line":1835,"column":1}},"key":"ovBWHfYMCV"}],"key":"N2h97g1adT"}],"key":"YPn04R1zvH"},{"type":"tableRow","position":{"start":{"line":1837,"column":1},"end":{"line":1837,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1837,"column":1},"end":{"line":1837,"column":1}},"children":[{"type":"inlineCode","value":"np.array()","position":{"start":{"line":1837,"column":1},"end":{"line":1837,"column":1}},"key":"PvSBI7b4SK"}],"key":"ij7J4zHpQf"},{"type":"tableCell","position":{"start":{"line":1837,"column":1},"end":{"line":1837,"column":1}},"children":[{"type":"text","value":"From Python sequence","position":{"start":{"line":1837,"column":1},"end":{"line":1837,"column":1}},"key":"cGrDP73rYe"}],"key":"QiQrf6shsA"},{"type":"tableCell","position":{"start":{"line":1837,"column":1},"end":{"line":1837,"column":1}},"children":[{"type":"inlineCode","value":"np.array([1, 2, 3])","position":{"start":{"line":1837,"column":1},"end":{"line":1837,"column":1}},"key":"uubIvkV9mO"}],"key":"qkXb8pT3eR"}],"key":"zQ0uD74w5f"},{"type":"tableRow","position":{"start":{"line":1838,"column":1},"end":{"line":1838,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1838,"column":1},"end":{"line":1838,"column":1}},"children":[{"type":"inlineCode","value":"np.zeros()","position":{"start":{"line":1838,"column":1},"end":{"line":1838,"column":1}},"key":"bqGyW8mIrT"}],"key":"UkTPPupagq"},{"type":"tableCell","position":{"start":{"line":1838,"column":1},"end":{"line":1838,"column":1}},"children":[{"type":"text","value":"Initialize with zeros","position":{"start":{"line":1838,"column":1},"end":{"line":1838,"column":1}},"key":"hfngSlVzM6"}],"key":"dn7bT8JyTe"},{"type":"tableCell","position":{"start":{"line":1838,"column":1},"end":{"line":1838,"column":1}},"children":[{"type":"inlineCode","value":"np.zeros((3, 4))","position":{"start":{"line":1838,"column":1},"end":{"line":1838,"column":1}},"key":"emlF2eq40n"}],"key":"wEPoJC6ClR"}],"key":"ldQmYtxVAv"},{"type":"tableRow","position":{"start":{"line":1839,"column":1},"end":{"line":1839,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1839,"column":1},"end":{"line":1839,"column":1}},"children":[{"type":"inlineCode","value":"np.ones()","position":{"start":{"line":1839,"column":1},"end":{"line":1839,"column":1}},"key":"dHSDJ2nAJw"}],"key":"X7KlTjd6Nq"},{"type":"tableCell","position":{"start":{"line":1839,"column":1},"end":{"line":1839,"column":1}},"children":[{"type":"text","value":"Initialize with ones","position":{"start":{"line":1839,"column":1},"end":{"line":1839,"column":1}},"key":"SLmU33fzB1"}],"key":"IEbN8fQ4Cw"},{"type":"tableCell","position":{"start":{"line":1839,"column":1},"end":{"line":1839,"column":1}},"children":[{"type":"inlineCode","value":"np.ones((2, 3))","position":{"start":{"line":1839,"column":1},"end":{"line":1839,"column":1}},"key":"oHmBmx0XIy"}],"key":"DQBULBxNhz"}],"key":"R19rxPrBIP"},{"type":"tableRow","position":{"start":{"line":1840,"column":1},"end":{"line":1840,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1840,"column":1},"end":{"line":1840,"column":1}},"children":[{"type":"inlineCode","value":"np.empty()","position":{"start":{"line":1840,"column":1},"end":{"line":1840,"column":1}},"key":"ELCPfKBjJ7"}],"key":"IaQdfxkUJp"},{"type":"tableCell","position":{"start":{"line":1840,"column":1},"end":{"line":1840,"column":1}},"children":[{"type":"text","value":"Uninitialized (fast but dangerous)","position":{"start":{"line":1840,"column":1},"end":{"line":1840,"column":1}},"key":"fIXEUJrB3o"}],"key":"PpeVuXZjob"},{"type":"tableCell","position":{"start":{"line":1840,"column":1},"end":{"line":1840,"column":1}},"children":[{"type":"inlineCode","value":"np.empty((2, 2))","position":{"start":{"line":1840,"column":1},"end":{"line":1840,"column":1}},"key":"hWLENW7Xru"}],"key":"e5yJgXFEAC"}],"key":"Fl9XqcUk56"},{"type":"tableRow","position":{"start":{"line":1841,"column":1},"end":{"line":1841,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1841,"column":1},"end":{"line":1841,"column":1}},"children":[{"type":"inlineCode","value":"np.arange()","position":{"start":{"line":1841,"column":1},"end":{"line":1841,"column":1}},"key":"ZXX3jCQUid"}],"key":"L0aIkQwMAd"},{"type":"tableCell","position":{"start":{"line":1841,"column":1},"end":{"line":1841,"column":1}},"children":[{"type":"text","value":"Range of values","position":{"start":{"line":1841,"column":1},"end":{"line":1841,"column":1}},"key":"BKYrlimwti"}],"key":"sLA6q3Cwd5"},{"type":"tableCell","position":{"start":{"line":1841,"column":1},"end":{"line":1841,"column":1}},"children":[{"type":"inlineCode","value":"np.arange(0, 10, 2)","position":{"start":{"line":1841,"column":1},"end":{"line":1841,"column":1}},"key":"jBebVJwAkU"}],"key":"dPjhvI38Wx"}],"key":"iysV0OHMvy"},{"type":"tableRow","position":{"start":{"line":1842,"column":1},"end":{"line":1842,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1842,"column":1},"end":{"line":1842,"column":1}},"children":[{"type":"inlineCode","value":"np.linspace()","position":{"start":{"line":1842,"column":1},"end":{"line":1842,"column":1}},"key":"e9f8OBcCz1"}],"key":"VsySiDxen5"},{"type":"tableCell","position":{"start":{"line":1842,"column":1},"end":{"line":1842,"column":1}},"children":[{"type":"text","value":"N evenly spaced points","position":{"start":{"line":1842,"column":1},"end":{"line":1842,"column":1}},"key":"tQS0xL2cPi"}],"key":"dkHH83Hk5S"},{"type":"tableCell","position":{"start":{"line":1842,"column":1},"end":{"line":1842,"column":1}},"children":[{"type":"inlineCode","value":"np.linspace(0, 1, 11)","position":{"start":{"line":1842,"column":1},"end":{"line":1842,"column":1}},"key":"M5wwLCchqM"}],"key":"M5lnhnSGkk"}],"key":"IlCcAI7TuQ"},{"type":"tableRow","position":{"start":{"line":1843,"column":1},"end":{"line":1843,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1843,"column":1},"end":{"line":1843,"column":1}},"children":[{"type":"inlineCode","value":"np.logspace()","position":{"start":{"line":1843,"column":1},"end":{"line":1843,"column":1}},"key":"ToGqkLlwWh"}],"key":"bJtX6swgdD"},{"type":"tableCell","position":{"start":{"line":1843,"column":1},"end":{"line":1843,"column":1}},"children":[{"type":"text","value":"Log-spaced values","position":{"start":{"line":1843,"column":1},"end":{"line":1843,"column":1}},"key":"tSp7FyRTsT"}],"key":"YPmdnoOuFb"},{"type":"tableCell","position":{"start":{"line":1843,"column":1},"end":{"line":1843,"column":1}},"children":[{"type":"inlineCode","value":"np.logspace(0, 3, 4)","position":{"start":{"line":1843,"column":1},"end":{"line":1843,"column":1}},"key":"nMVsAIx6eG"}],"key":"jya7YbuCtn"}],"key":"iEgWu4h2ux"},{"type":"tableRow","position":{"start":{"line":1844,"column":1},"end":{"line":1844,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1844,"column":1},"end":{"line":1844,"column":1}},"children":[{"type":"inlineCode","value":"np.eye()","position":{"start":{"line":1844,"column":1},"end":{"line":1844,"column":1}},"key":"xnBBzvwqOc"}],"key":"eRVh82O5lH"},{"type":"tableCell","position":{"start":{"line":1844,"column":1},"end":{"line":1844,"column":1}},"children":[{"type":"text","value":"Identity matrix","position":{"start":{"line":1844,"column":1},"end":{"line":1844,"column":1}},"key":"kgCDDPerDq"}],"key":"z6VObSql0v"},{"type":"tableCell","position":{"start":{"line":1844,"column":1},"end":{"line":1844,"column":1}},"children":[{"type":"inlineCode","value":"np.eye(3)","position":{"start":{"line":1844,"column":1},"end":{"line":1844,"column":1}},"key":"DfSwMcSSpC"}],"key":"qgcliZfMnC"}],"key":"HxbOlEhQyT"},{"type":"tableRow","position":{"start":{"line":1845,"column":1},"end":{"line":1845,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1845,"column":1},"end":{"line":1845,"column":1}},"children":[{"type":"inlineCode","value":"np.random.rand()","position":{"start":{"line":1845,"column":1},"end":{"line":1845,"column":1}},"key":"LVmmQa5Z9S"}],"key":"CigHeYXtUq"},{"type":"tableCell","position":{"start":{"line":1845,"column":1},"end":{"line":1845,"column":1}},"children":[{"type":"text","value":"Uniform [0,1)","position":{"start":{"line":1845,"column":1},"end":{"line":1845,"column":1}},"key":"qUJmKH4ytf"}],"key":"u0rTofjNqi"},{"type":"tableCell","position":{"start":{"line":1845,"column":1},"end":{"line":1845,"column":1}},"children":[{"type":"inlineCode","value":"np.random.rand(3, 3)","position":{"start":{"line":1845,"column":1},"end":{"line":1845,"column":1}},"key":"xUWE4A0CJ6"}],"key":"KSeDTtmTw7"}],"key":"IlOOogmpsm"},{"type":"tableRow","position":{"start":{"line":1846,"column":1},"end":{"line":1846,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1846,"column":1},"end":{"line":1846,"column":1}},"children":[{"type":"inlineCode","value":"np.random.randn()","position":{"start":{"line":1846,"column":1},"end":{"line":1846,"column":1}},"key":"BVqmWnx8Qj"}],"key":"piXAip2vCH"},{"type":"tableCell","position":{"start":{"line":1846,"column":1},"end":{"line":1846,"column":1}},"children":[{"type":"text","value":"Standard normal","position":{"start":{"line":1846,"column":1},"end":{"line":1846,"column":1}},"key":"Bfynga5gUB"}],"key":"yiNeFrdVmS"},{"type":"tableCell","position":{"start":{"line":1846,"column":1},"end":{"line":1846,"column":1}},"children":[{"type":"inlineCode","value":"np.random.randn(3, 3)","position":{"start":{"line":1846,"column":1},"end":{"line":1846,"column":1}},"key":"Nlf43KLp2G"}],"key":"IJVoUZWGs0"}],"key":"UemNwVv4dK"}],"key":"cqdvPlDVzJ"},{"type":"heading","depth":3,"position":{"start":{"line":1848,"column":1},"end":{"line":1848,"column":1}},"children":[{"type":"text","value":"Essential Array Attributes","position":{"start":{"line":1848,"column":1},"end":{"line":1848,"column":1}},"key":"AiGB4t4Tn7"}],"identifier":"essential-array-attributes","label":"Essential Array Attributes","html_id":"essential-array-attributes","implicit":true,"key":"ZAZsH4h6k4"},{"type":"table","position":{"start":{"line":1850,"column":1},"end":{"line":1859,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1850,"column":1},"end":{"line":1850,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1850,"column":1},"end":{"line":1850,"column":1}},"children":[{"type":"text","value":"Attribute","position":{"start":{"line":1850,"column":1},"end":{"line":1850,"column":1}},"key":"OrGhnBf406"}],"key":"tCkT6CawWG"},{"type":"tableCell","header":true,"position":{"start":{"line":1850,"column":1},"end":{"line":1850,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":1850,"column":1},"end":{"line":1850,"column":1}},"key":"u2UVFYtaGJ"}],"key":"WteIVGUyj7"},{"type":"tableCell","header":true,"position":{"start":{"line":1850,"column":1},"end":{"line":1850,"column":1}},"children":[{"type":"text","value":"Example Output","position":{"start":{"line":1850,"column":1},"end":{"line":1850,"column":1}},"key":"fzF9L6AJca"}],"key":"X6r2No3pbM"}],"key":"swc6Q4euMl"},{"type":"tableRow","position":{"start":{"line":1852,"column":1},"end":{"line":1852,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1852,"column":1},"end":{"line":1852,"column":1}},"children":[{"type":"inlineCode","value":".shape","position":{"start":{"line":1852,"column":1},"end":{"line":1852,"column":1}},"key":"RvT3PLxSOt"}],"key":"V1GJvzmXne"},{"type":"tableCell","position":{"start":{"line":1852,"column":1},"end":{"line":1852,"column":1}},"children":[{"type":"text","value":"Dimensions","position":{"start":{"line":1852,"column":1},"end":{"line":1852,"column":1}},"key":"bvupXU5K6u"}],"key":"ZjR9q1Yxtj"},{"type":"tableCell","position":{"start":{"line":1852,"column":1},"end":{"line":1852,"column":1}},"children":[{"type":"inlineCode","value":"(3, 4)","position":{"start":{"line":1852,"column":1},"end":{"line":1852,"column":1}},"key":"gocJA5amhN"}],"key":"Pom0Fwquuq"}],"key":"S5W87KyKxk"},{"type":"tableRow","position":{"start":{"line":1853,"column":1},"end":{"line":1853,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1853,"column":1},"end":{"line":1853,"column":1}},"children":[{"type":"inlineCode","value":".ndim","position":{"start":{"line":1853,"column":1},"end":{"line":1853,"column":1}},"key":"hOgeoYsp5S"}],"key":"hsEoUYyzWP"},{"type":"tableCell","position":{"start":{"line":1853,"column":1},"end":{"line":1853,"column":1}},"children":[{"type":"text","value":"Number of dimensions","position":{"start":{"line":1853,"column":1},"end":{"line":1853,"column":1}},"key":"HBzNZzllys"}],"key":"PqgiKxghBz"},{"type":"tableCell","position":{"start":{"line":1853,"column":1},"end":{"line":1853,"column":1}},"children":[{"type":"inlineCode","value":"2","position":{"start":{"line":1853,"column":1},"end":{"line":1853,"column":1}},"key":"NmDtRWYi6I"}],"key":"WJUsxJky3a"}],"key":"fxZZfzDzve"},{"type":"tableRow","position":{"start":{"line":1854,"column":1},"end":{"line":1854,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1854,"column":1},"end":{"line":1854,"column":1}},"children":[{"type":"inlineCode","value":".size","position":{"start":{"line":1854,"column":1},"end":{"line":1854,"column":1}},"key":"I5jLZmbSsO"}],"key":"oV1IwnWeYK"},{"type":"tableCell","position":{"start":{"line":1854,"column":1},"end":{"line":1854,"column":1}},"children":[{"type":"text","value":"Total elements","position":{"start":{"line":1854,"column":1},"end":{"line":1854,"column":1}},"key":"gyS3Uw8suc"}],"key":"cRqkTL29KU"},{"type":"tableCell","position":{"start":{"line":1854,"column":1},"end":{"line":1854,"column":1}},"children":[{"type":"inlineCode","value":"12","position":{"start":{"line":1854,"column":1},"end":{"line":1854,"column":1}},"key":"HVaLjVdM5R"}],"key":"GDz3drHqYz"}],"key":"No62Vs7ub6"},{"type":"tableRow","position":{"start":{"line":1855,"column":1},"end":{"line":1855,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1855,"column":1},"end":{"line":1855,"column":1}},"children":[{"type":"inlineCode","value":".dtype","position":{"start":{"line":1855,"column":1},"end":{"line":1855,"column":1}},"key":"ywuAcIY57Y"}],"key":"u9Jwc6XR34"},{"type":"tableCell","position":{"start":{"line":1855,"column":1},"end":{"line":1855,"column":1}},"children":[{"type":"text","value":"Data type","position":{"start":{"line":1855,"column":1},"end":{"line":1855,"column":1}},"key":"Z2XGDwv0LQ"}],"key":"q9EpcQacyP"},{"type":"tableCell","position":{"start":{"line":1855,"column":1},"end":{"line":1855,"column":1}},"children":[{"type":"inlineCode","value":"dtype('float64')","position":{"start":{"line":1855,"column":1},"end":{"line":1855,"column":1}},"key":"d4llVt9MXb"}],"key":"N2B1UEOzda"}],"key":"GT1I61hgxf"},{"type":"tableRow","position":{"start":{"line":1856,"column":1},"end":{"line":1856,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1856,"column":1},"end":{"line":1856,"column":1}},"children":[{"type":"inlineCode","value":".nbytes","position":{"start":{"line":1856,"column":1},"end":{"line":1856,"column":1}},"key":"eh5a5wac3S"}],"key":"fem8gqfl4x"},{"type":"tableCell","position":{"start":{"line":1856,"column":1},"end":{"line":1856,"column":1}},"children":[{"type":"text","value":"Total bytes","position":{"start":{"line":1856,"column":1},"end":{"line":1856,"column":1}},"key":"al1Jc2G1zQ"}],"key":"uZLsAjvojE"},{"type":"tableCell","position":{"start":{"line":1856,"column":1},"end":{"line":1856,"column":1}},"children":[{"type":"inlineCode","value":"96","position":{"start":{"line":1856,"column":1},"end":{"line":1856,"column":1}},"key":"g1cWrx7kXC"}],"key":"a9VC4Ur9eN"}],"key":"gAvEoMBlZS"},{"type":"tableRow","position":{"start":{"line":1857,"column":1},"end":{"line":1857,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1857,"column":1},"end":{"line":1857,"column":1}},"children":[{"type":"inlineCode","value":".T","position":{"start":{"line":1857,"column":1},"end":{"line":1857,"column":1}},"key":"zoR6XctOsA"}],"key":"IBJ5f6UhUu"},{"type":"tableCell","position":{"start":{"line":1857,"column":1},"end":{"line":1857,"column":1}},"children":[{"type":"text","value":"Transpose","position":{"start":{"line":1857,"column":1},"end":{"line":1857,"column":1}},"key":"ESxtrerV2K"}],"key":"CzVHuMCNOz"},{"type":"tableCell","position":{"start":{"line":1857,"column":1},"end":{"line":1857,"column":1}},"children":[{"type":"text","value":"Array view","position":{"start":{"line":1857,"column":1},"end":{"line":1857,"column":1}},"key":"Bpw3d6mnhn"}],"key":"k06V9Z60yT"}],"key":"mBg7VJWyAJ"},{"type":"tableRow","position":{"start":{"line":1858,"column":1},"end":{"line":1858,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1858,"column":1},"end":{"line":1858,"column":1}},"children":[{"type":"inlineCode","value":".flags","position":{"start":{"line":1858,"column":1},"end":{"line":1858,"column":1}},"key":"Kpn49hHjN5"}],"key":"aREUrxJZx9"},{"type":"tableCell","position":{"start":{"line":1858,"column":1},"end":{"line":1858,"column":1}},"children":[{"type":"text","value":"Memory layout info","position":{"start":{"line":1858,"column":1},"end":{"line":1858,"column":1}},"key":"J4O9nFFyo0"}],"key":"UHUPnzIBVr"},{"type":"tableCell","position":{"start":{"line":1858,"column":1},"end":{"line":1858,"column":1}},"children":[{"type":"text","value":"Dict of flags","position":{"start":{"line":1858,"column":1},"end":{"line":1858,"column":1}},"key":"DLhlfFC6pW"}],"key":"iPyKNX5GFw"}],"key":"T5HBXhOCfP"},{"type":"tableRow","position":{"start":{"line":1859,"column":1},"end":{"line":1859,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1859,"column":1},"end":{"line":1859,"column":1}},"children":[{"type":"inlineCode","value":".base","position":{"start":{"line":1859,"column":1},"end":{"line":1859,"column":1}},"key":"pXI0DApZ8m"}],"key":"rFLJXhXeqp"},{"type":"tableCell","position":{"start":{"line":1859,"column":1},"end":{"line":1859,"column":1}},"children":[{"type":"text","value":"Base array if view","position":{"start":{"line":1859,"column":1},"end":{"line":1859,"column":1}},"key":"x4EwRNvGf7"}],"key":"UY30MK86Vh"},{"type":"tableCell","position":{"start":{"line":1859,"column":1},"end":{"line":1859,"column":1}},"children":[{"type":"text","value":"Array or None","position":{"start":{"line":1859,"column":1},"end":{"line":1859,"column":1}},"key":"AC6uxFgkQY"}],"key":"ZH2a1ccqHi"}],"key":"wZnGxjtLQL"}],"key":"Eana0FZrwI"},{"type":"heading","depth":3,"position":{"start":{"line":1861,"column":1},"end":{"line":1861,"column":1}},"children":[{"type":"text","value":"Common Array Methods","position":{"start":{"line":1861,"column":1},"end":{"line":1861,"column":1}},"key":"TkVpuPeNK6"}],"identifier":"common-array-methods","label":"Common Array Methods","html_id":"common-array-methods","implicit":true,"key":"LGkXOWJAD6"},{"type":"table","position":{"start":{"line":1863,"column":1},"end":{"line":1875,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1863,"column":1},"end":{"line":1863,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1863,"column":1},"end":{"line":1863,"column":1}},"children":[{"type":"text","value":"Method","position":{"start":{"line":1863,"column":1},"end":{"line":1863,"column":1}},"key":"NrxFNF0ddA"}],"key":"Y7qzmYt1kY"},{"type":"tableCell","header":true,"position":{"start":{"line":1863,"column":1},"end":{"line":1863,"column":1}},"children":[{"type":"text","value":"Purpose","position":{"start":{"line":1863,"column":1},"end":{"line":1863,"column":1}},"key":"Pi2GMfXWYY"}],"key":"YAYLclpdld"},{"type":"tableCell","header":true,"position":{"start":{"line":1863,"column":1},"end":{"line":1863,"column":1}},"children":[{"type":"text","value":"Example","position":{"start":{"line":1863,"column":1},"end":{"line":1863,"column":1}},"key":"KoIxRIB5jD"}],"key":"DMfIvuGsEz"}],"key":"jqNGZA2Icd"},{"type":"tableRow","position":{"start":{"line":1865,"column":1},"end":{"line":1865,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1865,"column":1},"end":{"line":1865,"column":1}},"children":[{"type":"inlineCode","value":".reshape()","position":{"start":{"line":1865,"column":1},"end":{"line":1865,"column":1}},"key":"qzur63p5cO"}],"key":"ECAktqJTfu"},{"type":"tableCell","position":{"start":{"line":1865,"column":1},"end":{"line":1865,"column":1}},"children":[{"type":"text","value":"Change dimensions","position":{"start":{"line":1865,"column":1},"end":{"line":1865,"column":1}},"key":"GNut95n3Eu"}],"key":"CzBlyU6FLo"},{"type":"tableCell","position":{"start":{"line":1865,"column":1},"end":{"line":1865,"column":1}},"children":[{"type":"inlineCode","value":"arr.reshape(2, 3)","position":{"start":{"line":1865,"column":1},"end":{"line":1865,"column":1}},"key":"shulOfQyx0"}],"key":"dGgW8vztpT"}],"key":"NJhTSwF2Hy"},{"type":"tableRow","position":{"start":{"line":1866,"column":1},"end":{"line":1866,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1866,"column":1},"end":{"line":1866,"column":1}},"children":[{"type":"inlineCode","value":".flatten()","position":{"start":{"line":1866,"column":1},"end":{"line":1866,"column":1}},"key":"MPAzJpL42F"}],"key":"r2iKgl6Wgj"},{"type":"tableCell","position":{"start":{"line":1866,"column":1},"end":{"line":1866,"column":1}},"children":[{"type":"text","value":"To 1D copy","position":{"start":{"line":1866,"column":1},"end":{"line":1866,"column":1}},"key":"QLi0PezyfI"}],"key":"HbLKNKXlQ6"},{"type":"tableCell","position":{"start":{"line":1866,"column":1},"end":{"line":1866,"column":1}},"children":[{"type":"inlineCode","value":"arr.flatten()","position":{"start":{"line":1866,"column":1},"end":{"line":1866,"column":1}},"key":"MXXaHO8Mtw"}],"key":"S6AhZyi23b"}],"key":"diA8D6Fdsb"},{"type":"tableRow","position":{"start":{"line":1867,"column":1},"end":{"line":1867,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1867,"column":1},"end":{"line":1867,"column":1}},"children":[{"type":"inlineCode","value":".ravel()","position":{"start":{"line":1867,"column":1},"end":{"line":1867,"column":1}},"key":"Bd0O2U6lW3"}],"key":"gs86s9NBAC"},{"type":"tableCell","position":{"start":{"line":1867,"column":1},"end":{"line":1867,"column":1}},"children":[{"type":"text","value":"To 1D view/copy","position":{"start":{"line":1867,"column":1},"end":{"line":1867,"column":1}},"key":"OPq4px8Dax"}],"key":"rFyDyGTps3"},{"type":"tableCell","position":{"start":{"line":1867,"column":1},"end":{"line":1867,"column":1}},"children":[{"type":"inlineCode","value":"arr.ravel()","position":{"start":{"line":1867,"column":1},"end":{"line":1867,"column":1}},"key":"vsNwbd8VJK"}],"key":"ZEkXvYsUHF"}],"key":"TtgA6EtzDZ"},{"type":"tableRow","position":{"start":{"line":1868,"column":1},"end":{"line":1868,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1868,"column":1},"end":{"line":1868,"column":1}},"children":[{"type":"inlineCode","value":".transpose()","position":{"start":{"line":1868,"column":1},"end":{"line":1868,"column":1}},"key":"B9IaE20Ioi"}],"key":"pwuLIXn86b"},{"type":"tableCell","position":{"start":{"line":1868,"column":1},"end":{"line":1868,"column":1}},"children":[{"type":"text","value":"Swap axes","position":{"start":{"line":1868,"column":1},"end":{"line":1868,"column":1}},"key":"EFgWPkgDUe"}],"key":"rQ50E1sxL8"},{"type":"tableCell","position":{"start":{"line":1868,"column":1},"end":{"line":1868,"column":1}},"children":[{"type":"inlineCode","value":"arr.transpose()","position":{"start":{"line":1868,"column":1},"end":{"line":1868,"column":1}},"key":"AxVcEL6ZWi"}],"key":"OA9Sc5KqM9"}],"key":"GY8M8DTJSM"},{"type":"tableRow","position":{"start":{"line":1869,"column":1},"end":{"line":1869,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1869,"column":1},"end":{"line":1869,"column":1}},"children":[{"type":"inlineCode","value":".sum()","position":{"start":{"line":1869,"column":1},"end":{"line":1869,"column":1}},"key":"Yh5gxnUxPj"}],"key":"HxH5Wb1Wcx"},{"type":"tableCell","position":{"start":{"line":1869,"column":1},"end":{"line":1869,"column":1}},"children":[{"type":"text","value":"Sum elements","position":{"start":{"line":1869,"column":1},"end":{"line":1869,"column":1}},"key":"Ag3rIaI6hk"}],"key":"mrdXkWQy0P"},{"type":"tableCell","position":{"start":{"line":1869,"column":1},"end":{"line":1869,"column":1}},"children":[{"type":"inlineCode","value":"arr.sum(axis=0)","position":{"start":{"line":1869,"column":1},"end":{"line":1869,"column":1}},"key":"xJfyTKfvZO"}],"key":"Z2xGGEi452"}],"key":"G9zGdh5gMt"},{"type":"tableRow","position":{"start":{"line":1870,"column":1},"end":{"line":1870,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1870,"column":1},"end":{"line":1870,"column":1}},"children":[{"type":"inlineCode","value":".mean()","position":{"start":{"line":1870,"column":1},"end":{"line":1870,"column":1}},"key":"duvYMOOlHQ"}],"key":"c7rirEWACp"},{"type":"tableCell","position":{"start":{"line":1870,"column":1},"end":{"line":1870,"column":1}},"children":[{"type":"text","value":"Average","position":{"start":{"line":1870,"column":1},"end":{"line":1870,"column":1}},"key":"FzQCR4E4cG"}],"key":"VyTwATEvQ7"},{"type":"tableCell","position":{"start":{"line":1870,"column":1},"end":{"line":1870,"column":1}},"children":[{"type":"inlineCode","value":"arr.mean()","position":{"start":{"line":1870,"column":1},"end":{"line":1870,"column":1}},"key":"UQCXquQOat"}],"key":"dyyeNHx29w"}],"key":"AW7lzZwUzm"},{"type":"tableRow","position":{"start":{"line":1871,"column":1},"end":{"line":1871,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1871,"column":1},"end":{"line":1871,"column":1}},"children":[{"type":"inlineCode","value":".std()","position":{"start":{"line":1871,"column":1},"end":{"line":1871,"column":1}},"key":"VbtU0yHKmQ"}],"key":"MHB0vjVIC2"},{"type":"tableCell","position":{"start":{"line":1871,"column":1},"end":{"line":1871,"column":1}},"children":[{"type":"text","value":"Standard deviation","position":{"start":{"line":1871,"column":1},"end":{"line":1871,"column":1}},"key":"fASbskhzqf"}],"key":"KtwkjGnuiV"},{"type":"tableCell","position":{"start":{"line":1871,"column":1},"end":{"line":1871,"column":1}},"children":[{"type":"inlineCode","value":"arr.std()","position":{"start":{"line":1871,"column":1},"end":{"line":1871,"column":1}},"key":"UKn73ivKtP"}],"key":"CRuIP5SLlf"}],"key":"QmCZrpY6vG"},{"type":"tableRow","position":{"start":{"line":1872,"column":1},"end":{"line":1872,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1872,"column":1},"end":{"line":1872,"column":1}},"children":[{"type":"inlineCode","value":".min()/.max()","position":{"start":{"line":1872,"column":1},"end":{"line":1872,"column":1}},"key":"LpebuxECnM"}],"key":"qTf2eikI07"},{"type":"tableCell","position":{"start":{"line":1872,"column":1},"end":{"line":1872,"column":1}},"children":[{"type":"text","value":"Extrema","position":{"start":{"line":1872,"column":1},"end":{"line":1872,"column":1}},"key":"dWDhuRDnmI"}],"key":"ObnB0c3ilr"},{"type":"tableCell","position":{"start":{"line":1872,"column":1},"end":{"line":1872,"column":1}},"children":[{"type":"inlineCode","value":"arr.max()","position":{"start":{"line":1872,"column":1},"end":{"line":1872,"column":1}},"key":"X9FuuZeZeu"}],"key":"vae1djMwq4"}],"key":"n7Eg97Q7Yw"},{"type":"tableRow","position":{"start":{"line":1873,"column":1},"end":{"line":1873,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1873,"column":1},"end":{"line":1873,"column":1}},"children":[{"type":"inlineCode","value":".argmin()/.argmax()","position":{"start":{"line":1873,"column":1},"end":{"line":1873,"column":1}},"key":"K8lMs2SYoo"}],"key":"k5NrY9K3IC"},{"type":"tableCell","position":{"start":{"line":1873,"column":1},"end":{"line":1873,"column":1}},"children":[{"type":"text","value":"Index of extrema","position":{"start":{"line":1873,"column":1},"end":{"line":1873,"column":1}},"key":"setfpds7sX"}],"key":"j8ufxsopBc"},{"type":"tableCell","position":{"start":{"line":1873,"column":1},"end":{"line":1873,"column":1}},"children":[{"type":"inlineCode","value":"arr.argmax()","position":{"start":{"line":1873,"column":1},"end":{"line":1873,"column":1}},"key":"GkYm5zMYrb"}],"key":"SH0Qtpxwqt"}],"key":"mcLI2vgg93"},{"type":"tableRow","position":{"start":{"line":1874,"column":1},"end":{"line":1874,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1874,"column":1},"end":{"line":1874,"column":1}},"children":[{"type":"inlineCode","value":".sort()","position":{"start":{"line":1874,"column":1},"end":{"line":1874,"column":1}},"key":"NLyJVaDN19"}],"key":"fFBjXSdU4w"},{"type":"tableCell","position":{"start":{"line":1874,"column":1},"end":{"line":1874,"column":1}},"children":[{"type":"text","value":"Sort in-place","position":{"start":{"line":1874,"column":1},"end":{"line":1874,"column":1}},"key":"qqIhSwFPdJ"}],"key":"dh7qdfdnME"},{"type":"tableCell","position":{"start":{"line":1874,"column":1},"end":{"line":1874,"column":1}},"children":[{"type":"inlineCode","value":"arr.sort()","position":{"start":{"line":1874,"column":1},"end":{"line":1874,"column":1}},"key":"IWoG5yLX4i"}],"key":"AjPUYk4qfV"}],"key":"c9CmLPbsCt"},{"type":"tableRow","position":{"start":{"line":1875,"column":1},"end":{"line":1875,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1875,"column":1},"end":{"line":1875,"column":1}},"children":[{"type":"inlineCode","value":".copy()","position":{"start":{"line":1875,"column":1},"end":{"line":1875,"column":1}},"key":"UMY3Y1wCGj"}],"key":"SmegKSe6Q1"},{"type":"tableCell","position":{"start":{"line":1875,"column":1},"end":{"line":1875,"column":1}},"children":[{"type":"text","value":"Deep copy","position":{"start":{"line":1875,"column":1},"end":{"line":1875,"column":1}},"key":"vKmsVmA4Eu"}],"key":"pLOq71Ke8p"},{"type":"tableCell","position":{"start":{"line":1875,"column":1},"end":{"line":1875,"column":1}},"children":[{"type":"inlineCode","value":"arr.copy()","position":{"start":{"line":1875,"column":1},"end":{"line":1875,"column":1}},"key":"Lc0HNRHte6"}],"key":"hl0RvVgISR"}],"key":"CsSnp9EzfB"}],"key":"DGkyWXoVJB"},{"type":"heading","depth":3,"position":{"start":{"line":1877,"column":1},"end":{"line":1877,"column":1}},"children":[{"type":"text","value":"Broadcasting Rules Quick Reference","position":{"start":{"line":1877,"column":1},"end":{"line":1877,"column":1}},"key":"J9GtfAX6sQ"}],"identifier":"broadcasting-rules-quick-reference","label":"Broadcasting Rules Quick Reference","html_id":"broadcasting-rules-quick-reference","implicit":true,"key":"m749N9WvGS"},{"type":"table","position":{"start":{"line":1879,"column":1},"end":{"line":1886,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1879,"column":1},"end":{"line":1879,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1879,"column":1},"end":{"line":1879,"column":1}},"children":[{"type":"text","value":"Shape A","position":{"start":{"line":1879,"column":1},"end":{"line":1879,"column":1}},"key":"hgMOPcQYqn"}],"key":"sawNzLqzvN"},{"type":"tableCell","header":true,"position":{"start":{"line":1879,"column":1},"end":{"line":1879,"column":1}},"children":[{"type":"text","value":"Shape B","position":{"start":{"line":1879,"column":1},"end":{"line":1879,"column":1}},"key":"Ifz0YXm3K5"}],"key":"VtqKHMjbtf"},{"type":"tableCell","header":true,"position":{"start":{"line":1879,"column":1},"end":{"line":1879,"column":1}},"children":[{"type":"text","value":"Result","position":{"start":{"line":1879,"column":1},"end":{"line":1879,"column":1}},"key":"vdI2ZQnbkj"}],"key":"boXUxSqsMx"},{"type":"tableCell","header":true,"position":{"start":{"line":1879,"column":1},"end":{"line":1879,"column":1}},"children":[{"type":"text","value":"Rule Applied","position":{"start":{"line":1879,"column":1},"end":{"line":1879,"column":1}},"key":"wk99rr3H4M"}],"key":"kGDftqVy9S"}],"key":"jqPqD15vA6"},{"type":"tableRow","position":{"start":{"line":1881,"column":1},"end":{"line":1881,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1881,"column":1},"end":{"line":1881,"column":1}},"children":[{"type":"inlineCode","value":"(3,)","position":{"start":{"line":1881,"column":1},"end":{"line":1881,"column":1}},"key":"ouyPAygQoQ"}],"key":"XJT0UQ6MBm"},{"type":"tableCell","position":{"start":{"line":1881,"column":1},"end":{"line":1881,"column":1}},"children":[{"type":"inlineCode","value":"()","position":{"start":{"line":1881,"column":1},"end":{"line":1881,"column":1}},"key":"Ks6K8NvYNE"}],"key":"IjJpDtna4r"},{"type":"tableCell","position":{"start":{"line":1881,"column":1},"end":{"line":1881,"column":1}},"children":[{"type":"inlineCode","value":"(3,)","position":{"start":{"line":1881,"column":1},"end":{"line":1881,"column":1}},"key":"zGBhK20eQD"}],"key":"GutE3R515j"},{"type":"tableCell","position":{"start":{"line":1881,"column":1},"end":{"line":1881,"column":1}},"children":[{"type":"text","value":"Scalar broadcasts","position":{"start":{"line":1881,"column":1},"end":{"line":1881,"column":1}},"key":"xCdZDETDmN"}],"key":"rZmCtFBrai"}],"key":"zKgJA7JpXr"},{"type":"tableRow","position":{"start":{"line":1882,"column":1},"end":{"line":1882,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1882,"column":1},"end":{"line":1882,"column":1}},"children":[{"type":"inlineCode","value":"(3, 4)","position":{"start":{"line":1882,"column":1},"end":{"line":1882,"column":1}},"key":"ru0LiwWNVd"}],"key":"awB3JHVTOq"},{"type":"tableCell","position":{"start":{"line":1882,"column":1},"end":{"line":1882,"column":1}},"children":[{"type":"inlineCode","value":"(4,)","position":{"start":{"line":1882,"column":1},"end":{"line":1882,"column":1}},"key":"JbBnfE2HH8"}],"key":"eiLrESmOe6"},{"type":"tableCell","position":{"start":{"line":1882,"column":1},"end":{"line":1882,"column":1}},"children":[{"type":"inlineCode","value":"(3, 4)","position":{"start":{"line":1882,"column":1},"end":{"line":1882,"column":1}},"key":"hAIqXMzjK8"}],"key":"H7daTuL8nV"},{"type":"tableCell","position":{"start":{"line":1882,"column":1},"end":{"line":1882,"column":1}},"children":[{"type":"text","value":"1D broadcasts to rows","position":{"start":{"line":1882,"column":1},"end":{"line":1882,"column":1}},"key":"enhvPKDsjH"}],"key":"X8XAzNVtgx"}],"key":"bCbWEodJP8"},{"type":"tableRow","position":{"start":{"line":1883,"column":1},"end":{"line":1883,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1883,"column":1},"end":{"line":1883,"column":1}},"children":[{"type":"inlineCode","value":"(3, 4)","position":{"start":{"line":1883,"column":1},"end":{"line":1883,"column":1}},"key":"sW2AV7Tuyb"}],"key":"wn1xJlkfyI"},{"type":"tableCell","position":{"start":{"line":1883,"column":1},"end":{"line":1883,"column":1}},"children":[{"type":"inlineCode","value":"(3, 1)","position":{"start":{"line":1883,"column":1},"end":{"line":1883,"column":1}},"key":"WMXbPM7auL"}],"key":"RKVOCqTmi7"},{"type":"tableCell","position":{"start":{"line":1883,"column":1},"end":{"line":1883,"column":1}},"children":[{"type":"inlineCode","value":"(3, 4)","position":{"start":{"line":1883,"column":1},"end":{"line":1883,"column":1}},"key":"G4W7HpgfaO"}],"key":"qRIDxR4lF2"},{"type":"tableCell","position":{"start":{"line":1883,"column":1},"end":{"line":1883,"column":1}},"children":[{"type":"text","value":"Column broadcasts","position":{"start":{"line":1883,"column":1},"end":{"line":1883,"column":1}},"key":"nDdNoZalFJ"}],"key":"V9Bhwk8DsF"}],"key":"solOC5cn4I"},{"type":"tableRow","position":{"start":{"line":1884,"column":1},"end":{"line":1884,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1884,"column":1},"end":{"line":1884,"column":1}},"children":[{"type":"inlineCode","value":"(3, 1, 4)","position":{"start":{"line":1884,"column":1},"end":{"line":1884,"column":1}},"key":"dKPxGSQ4Zy"}],"key":"gkW4Nx2eQH"},{"type":"tableCell","position":{"start":{"line":1884,"column":1},"end":{"line":1884,"column":1}},"children":[{"type":"inlineCode","value":"(1, 5, 4)","position":{"start":{"line":1884,"column":1},"end":{"line":1884,"column":1}},"key":"W5KU5vrDH1"}],"key":"C3NIYxuJTY"},{"type":"tableCell","position":{"start":{"line":1884,"column":1},"end":{"line":1884,"column":1}},"children":[{"type":"inlineCode","value":"(3, 5, 4)","position":{"start":{"line":1884,"column":1},"end":{"line":1884,"column":1}},"key":"PWp4lbgOdH"}],"key":"mQU5zPGUTl"},{"type":"tableCell","position":{"start":{"line":1884,"column":1},"end":{"line":1884,"column":1}},"children":[{"type":"text","value":"Both broadcast","position":{"start":{"line":1884,"column":1},"end":{"line":1884,"column":1}},"key":"uqg8zU2jyr"}],"key":"iU7eheTCug"}],"key":"jiKJfHtvEp"},{"type":"tableRow","position":{"start":{"line":1885,"column":1},"end":{"line":1885,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1885,"column":1},"end":{"line":1885,"column":1}},"children":[{"type":"inlineCode","value":"(3, 4)","position":{"start":{"line":1885,"column":1},"end":{"line":1885,"column":1}},"key":"jgbEfTe5FE"}],"key":"X4EaWeWzjE"},{"type":"tableCell","position":{"start":{"line":1885,"column":1},"end":{"line":1885,"column":1}},"children":[{"type":"inlineCode","value":"(2, 3, 4)","position":{"start":{"line":1885,"column":1},"end":{"line":1885,"column":1}},"key":"ynfz6xpVDK"}],"key":"jlEQ3vztpQ"},{"type":"tableCell","position":{"start":{"line":1885,"column":1},"end":{"line":1885,"column":1}},"children":[{"type":"inlineCode","value":"(2, 3, 4)","position":{"start":{"line":1885,"column":1},"end":{"line":1885,"column":1}},"key":"jEqzOwymGa"}],"key":"QMd60R7V7w"},{"type":"tableCell","position":{"start":{"line":1885,"column":1},"end":{"line":1885,"column":1}},"children":[{"type":"text","value":"Smaller adds dimensions","position":{"start":{"line":1885,"column":1},"end":{"line":1885,"column":1}},"key":"bb1Onnpb25"}],"key":"uP7DlErjJM"}],"key":"IHOYnHE0Dm"},{"type":"tableRow","position":{"start":{"line":1886,"column":1},"end":{"line":1886,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1886,"column":1},"end":{"line":1886,"column":1}},"children":[{"type":"inlineCode","value":"(3, 4)","position":{"start":{"line":1886,"column":1},"end":{"line":1886,"column":1}},"key":"HW87TInGBE"}],"key":"PrLMUxwb8p"},{"type":"tableCell","position":{"start":{"line":1886,"column":1},"end":{"line":1886,"column":1}},"children":[{"type":"inlineCode","value":"(5, 4)","position":{"start":{"line":1886,"column":1},"end":{"line":1886,"column":1}},"key":"Gjk9pkl7Hp"}],"key":"JzvRva84BG"},{"type":"tableCell","position":{"start":{"line":1886,"column":1},"end":{"line":1886,"column":1}},"children":[{"type":"text","value":"Error!","position":{"start":{"line":1886,"column":1},"end":{"line":1886,"column":1}},"key":"nxTfy6vgEM"}],"key":"EToOCxIWDa"},{"type":"tableCell","position":{"start":{"line":1886,"column":1},"end":{"line":1886,"column":1}},"children":[{"type":"text","value":"Incompatible shapes","position":{"start":{"line":1886,"column":1},"end":{"line":1886,"column":1}},"key":"lorvfOety6"}],"key":"HbdfZBdV63"}],"key":"nfvoVlWUG4"}],"key":"qfXbQudwXC"},{"type":"heading","depth":2,"position":{"start":{"line":1888,"column":1},"end":{"line":1888,"column":1}},"children":[{"type":"text","value":"Debugging Checklist","position":{"start":{"line":1888,"column":1},"end":{"line":1888,"column":1}},"key":"V9QsvusZoJ"}],"identifier":"debugging-checklist","label":"Debugging Checklist","html_id":"debugging-checklist","implicit":true,"key":"SoZPSWWKXw"},{"type":"paragraph","position":{"start":{"line":1890,"column":1},"end":{"line":1890,"column":1}},"children":[{"type":"text","value":"When NumPy code doesn’t work as expected:","position":{"start":{"line":1890,"column":1},"end":{"line":1890,"column":1}},"key":"SKyxFdxrit"}],"key":"ISROvO9htA"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":1892,"column":1},"end":{"line":1898,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1892,"column":1},"end":{"line":1892,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1892,"column":1},"end":{"line":1892,"column":1}},"children":[{"type":"text","value":"Check shapes","position":{"start":{"line":1892,"column":1},"end":{"line":1892,"column":1}},"key":"JRIhkyloTN"}],"key":"dZBvxQh3h4"},{"type":"text","value":": ","position":{"start":{"line":1892,"column":1},"end":{"line":1892,"column":1}},"key":"EEE80ukkpE"},{"type":"inlineCode","value":"print(f\"Shape: {arr.shape}\")","position":{"start":{"line":1892,"column":1},"end":{"line":1892,"column":1}},"key":"V4xB63o9UB"}],"key":"cNeuk7pVSt"},{"type":"listItem","spread":true,"position":{"start":{"line":1893,"column":1},"end":{"line":1893,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1893,"column":1},"end":{"line":1893,"column":1}},"children":[{"type":"text","value":"Check dtype","position":{"start":{"line":1893,"column":1},"end":{"line":1893,"column":1}},"key":"PqJCbID7kE"}],"key":"g7TXQNX4Nh"},{"type":"text","value":": ","position":{"start":{"line":1893,"column":1},"end":{"line":1893,"column":1}},"key":"FPrIU9Lkgm"},{"type":"inlineCode","value":"print(f\"Dtype: {arr.dtype}\")","position":{"start":{"line":1893,"column":1},"end":{"line":1893,"column":1}},"key":"RReZrXeQ2q"}],"key":"H0e9zcAzg6"},{"type":"listItem","spread":true,"position":{"start":{"line":1894,"column":1},"end":{"line":1894,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1894,"column":1},"end":{"line":1894,"column":1}},"children":[{"type":"text","value":"Check if view or copy","position":{"start":{"line":1894,"column":1},"end":{"line":1894,"column":1}},"key":"eWHmajCuME"}],"key":"PfIvT9kWvf"},{"type":"text","value":": ","position":{"start":{"line":1894,"column":1},"end":{"line":1894,"column":1}},"key":"yVNjzoRH2x"},{"type":"inlineCode","value":"print(f\"Owns data: {arr.flags['OWNDATA']}\")","position":{"start":{"line":1894,"column":1},"end":{"line":1894,"column":1}},"key":"vMAL8ZvfKC"}],"key":"JcDOMutlg3"},{"type":"listItem","spread":true,"position":{"start":{"line":1895,"column":1},"end":{"line":1895,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1895,"column":1},"end":{"line":1895,"column":1}},"children":[{"type":"text","value":"Check for NaN/Inf","position":{"start":{"line":1895,"column":1},"end":{"line":1895,"column":1}},"key":"kZVaQhZeqI"}],"key":"Z2i9Lvh5ia"},{"type":"text","value":": ","position":{"start":{"line":1895,"column":1},"end":{"line":1895,"column":1}},"key":"N2dLK2vGJ9"},{"type":"inlineCode","value":"print(f\"Has NaN: {np.isnan(arr).any()}\")","position":{"start":{"line":1895,"column":1},"end":{"line":1895,"column":1}},"key":"JNexs402tL"}],"key":"G0DcSvx92L"},{"type":"listItem","spread":true,"position":{"start":{"line":1896,"column":1},"end":{"line":1896,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1896,"column":1},"end":{"line":1896,"column":1}},"children":[{"type":"text","value":"Check memory layout","position":{"start":{"line":1896,"column":1},"end":{"line":1896,"column":1}},"key":"VCGG7GjrV0"}],"key":"RPBYBp0QUV"},{"type":"text","value":": ","position":{"start":{"line":1896,"column":1},"end":{"line":1896,"column":1}},"key":"kruyBpWdIX"},{"type":"inlineCode","value":"print(f\"C-contiguous: {arr.flags['C_CONTIGUOUS']}\")","position":{"start":{"line":1896,"column":1},"end":{"line":1896,"column":1}},"key":"z4lH3UO9LQ"}],"key":"Mka6111Yby"},{"type":"listItem","spread":true,"position":{"start":{"line":1897,"column":1},"end":{"line":1898,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1897,"column":1},"end":{"line":1897,"column":1}},"children":[{"type":"text","value":"Check broadcasting","position":{"start":{"line":1897,"column":1},"end":{"line":1897,"column":1}},"key":"vZWoWzYTfM"}],"key":"SEh72bMKZ2"},{"type":"text","value":": ","position":{"start":{"line":1897,"column":1},"end":{"line":1897,"column":1}},"key":"Ex3F17HRBy"},{"type":"inlineCode","value":"np.broadcast_shapes(a.shape, b.shape)","position":{"start":{"line":1897,"column":1},"end":{"line":1897,"column":1}},"key":"XbyyykYrfq"}],"key":"gzRCdKfOe3"}],"key":"rsJja94f8b"},{"type":"heading","depth":2,"position":{"start":{"line":1899,"column":1},"end":{"line":1899,"column":1}},"children":[{"type":"text","value":"Further Resources","position":{"start":{"line":1899,"column":1},"end":{"line":1899,"column":1}},"key":"nk9gWPNeqM"}],"identifier":"further-resources","label":"Further Resources","html_id":"further-resources","implicit":true,"key":"y59UWoIUST"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1901,"column":1},"end":{"line":1905,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1901,"column":1},"end":{"line":1901,"column":1}},"children":[{"type":"link","url":"https://numpy.org/doc/stable/user/index.html","position":{"start":{"line":1901,"column":1},"end":{"line":1901,"column":1}},"children":[{"type":"text","value":"NumPy User Guide","position":{"start":{"line":1901,"column":1},"end":{"line":1901,"column":1}},"key":"i2xbG1dk9A"}],"urlSource":"https://numpy.org/doc/stable/user/index.html","key":"kEXpwv0kK3"},{"type":"text","value":" - Official comprehensive guide","position":{"start":{"line":1901,"column":1},"end":{"line":1901,"column":1}},"key":"HTwPSTzevU"}],"key":"b09JF5KhfL"},{"type":"listItem","spread":true,"position":{"start":{"line":1902,"column":1},"end":{"line":1902,"column":1}},"children":[{"type":"link","url":"https://numpy.org/doc/stable/reference/index.html","position":{"start":{"line":1902,"column":1},"end":{"line":1902,"column":1}},"children":[{"type":"text","value":"NumPy API Reference","position":{"start":{"line":1902,"column":1},"end":{"line":1902,"column":1}},"key":"zDbEx5AG2a"}],"urlSource":"https://numpy.org/doc/stable/reference/index.html","key":"vXXKf7PzCh"},{"type":"text","value":" - Complete function documentation","position":{"start":{"line":1902,"column":1},"end":{"line":1902,"column":1}},"key":"xqy3SKggmz"}],"key":"nitu87h6ZS"},{"type":"listItem","spread":true,"position":{"start":{"line":1903,"column":1},"end":{"line":1903,"column":1}},"children":[{"type":"link","url":"https://numpy.org/doc/stable/user/numpy-for-matlab-users.html","position":{"start":{"line":1903,"column":1},"end":{"line":1903,"column":1}},"children":[{"type":"text","value":"NumPy for MATLAB users","position":{"start":{"line":1903,"column":1},"end":{"line":1903,"column":1}},"key":"OmEaHUznVG"}],"urlSource":"https://numpy.org/doc/stable/user/numpy-for-matlab-users.html","key":"DMDsWu5hWk"},{"type":"text","value":" - Transition guide","position":{"start":{"line":1903,"column":1},"end":{"line":1903,"column":1}},"key":"IMHcatxVDV"}],"key":"WkafYE8cCf"},{"type":"listItem","spread":true,"position":{"start":{"line":1904,"column":1},"end":{"line":1905,"column":1}},"children":[{"type":"link","url":"https://www.labri.fr/perso/nrougier/from-python-to-numpy/","position":{"start":{"line":1904,"column":1},"end":{"line":1904,"column":1}},"children":[{"type":"text","value":"From Python to NumPy","position":{"start":{"line":1904,"column":1},"end":{"line":1904,"column":1}},"key":"iTcrPq8UHn"}],"urlSource":"https://www.labri.fr/perso/nrougier/from-python-to-numpy/","key":"YFYNnJULSy"},{"type":"text","value":" - Advanced vectorization techniques","position":{"start":{"line":1904,"column":1},"end":{"line":1904,"column":1}},"key":"TE2Do275gM"}],"key":"JGtlURTAVp"}],"key":"qEfCxZkGy4"},{"type":"heading","depth":2,"position":{"start":{"line":1906,"column":1},"end":{"line":1906,"column":1}},"children":[{"type":"text","value":"Next Chapter Preview","position":{"start":{"line":1906,"column":1},"end":{"line":1906,"column":1}},"key":"noHmkvpPnj"}],"identifier":"next-chapter-preview","label":"Next Chapter Preview","html_id":"next-chapter-preview","implicit":true,"key":"RVQbbJah9m"},{"type":"paragraph","position":{"start":{"line":1908,"column":1},"end":{"line":1908,"column":1}},"children":[{"type":"text","value":"With NumPy mastery achieved, Chapter 8 introduces Matplotlib for visualization. You’ll discover how Matplotlib’s object-oriented design (building on Chapter 6) works seamlessly with NumPy arrays. Every plot you create will use NumPy arrays as its foundation, and you’ll learn to create publication-quality figures that bring your data to life.","position":{"start":{"line":1908,"column":1},"end":{"line":1908,"column":1}},"key":"FhwQ656YuA"}],"key":"JBMI1rl81K"},{"type":"paragraph","position":{"start":{"line":1910,"column":1},"end":{"line":1910,"column":1}},"children":[{"type":"text","value":"The NumPy-Matplotlib synergy is fundamental: plot data is NumPy arrays, image data is NumPy arrays, and all transformations use NumPy operations. Your deep understanding of NumPy will make mastering visualization natural and intuitive!# Chapter 7: NumPy - The Foundation of Scientific Computing","position":{"start":{"line":1910,"column":1},"end":{"line":1910,"column":1}},"key":"VepPBGsgPG"}],"key":"ZlOqtRxAWS"},{"type":"heading","depth":2,"position":{"start":{"line":1912,"column":1},"end":{"line":1912,"column":1}},"children":[{"type":"text","value":"Learning Objectives","position":{"start":{"line":1912,"column":1},"end":{"line":1912,"column":1}},"key":"WYxxGHkm2D"}],"identifier":"learning-objectives","label":"Learning Objectives","html_id":"learning-objectives-1","implicit":true,"key":"wNMi1KXsHY"},{"type":"paragraph","position":{"start":{"line":1914,"column":1},"end":{"line":1914,"column":1}},"children":[{"type":"text","value":"By the end of this chapter, you will be able to:","position":{"start":{"line":1914,"column":1},"end":{"line":1914,"column":1}},"key":"PGlDEvrMG6"}],"key":"FnIGk148CA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1915,"column":1},"end":{"line":1923,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1915,"column":1},"end":{"line":1915,"column":1}},"children":[{"type":"text","value":"Understand why NumPy arrays are 10-100x faster than Python lists for numerical computation","position":{"start":{"line":1915,"column":1},"end":{"line":1915,"column":1}},"key":"vIfBzV2baH"}],"key":"US0rCAIBMj"},{"type":"listItem","spread":true,"position":{"start":{"line":1916,"column":1},"end":{"line":1916,"column":1}},"children":[{"type":"text","value":"Create and manipulate arrays using various initialization methods and slicing techniques","position":{"start":{"line":1916,"column":1},"end":{"line":1916,"column":1}},"key":"jYTe80PV9c"}],"key":"AFc4QjRHAG"},{"type":"listItem","spread":true,"position":{"start":{"line":1917,"column":1},"end":{"line":1917,"column":1}},"children":[{"type":"text","value":"Apply vectorization to eliminate explicit loops and write efficient scientific code","position":{"start":{"line":1917,"column":1},"end":{"line":1917,"column":1}},"key":"k5Ai9XADKP"}],"key":"LcUWU52xLe"},{"type":"listItem","spread":true,"position":{"start":{"line":1918,"column":1},"end":{"line":1918,"column":1}},"children":[{"type":"text","value":"Master broadcasting rules to perform operations on arrays of different shapes elegantly","position":{"start":{"line":1918,"column":1},"end":{"line":1918,"column":1}},"key":"H2z9p9uqYN"}],"key":"grEZnOdLDA"},{"type":"listItem","spread":true,"position":{"start":{"line":1919,"column":1},"end":{"line":1919,"column":1}},"children":[{"type":"text","value":"Use NumPy’s mathematical functions for scientific calculations","position":{"start":{"line":1919,"column":1},"end":{"line":1919,"column":1}},"key":"E1Zu9faIHE"}],"key":"xvR6lmkHNA"},{"type":"listItem","spread":true,"position":{"start":{"line":1920,"column":1},"end":{"line":1920,"column":1}},"children":[{"type":"text","value":"Understand memory layout and its impact on performance","position":{"start":{"line":1920,"column":1},"end":{"line":1920,"column":1}},"key":"KsvVkWCQZT"}],"key":"Las64S9NAL"},{"type":"listItem","spread":true,"position":{"start":{"line":1921,"column":1},"end":{"line":1921,"column":1}},"children":[{"type":"text","value":"Debug common NumPy errors and understand when operations create copies vs views","position":{"start":{"line":1921,"column":1},"end":{"line":1921,"column":1}},"key":"rSmJUlJK9y"}],"key":"bJWj0AmLYV"},{"type":"listItem","spread":true,"position":{"start":{"line":1922,"column":1},"end":{"line":1923,"column":1}},"children":[{"type":"text","value":"Integrate NumPy with the scientific Python ecosystem","position":{"start":{"line":1922,"column":1},"end":{"line":1922,"column":1}},"key":"SGkjxyFlZt"}],"key":"kvaV0LAUbZ"}],"key":"Y9EyGVjtGl"},{"type":"heading","depth":2,"position":{"start":{"line":1924,"column":1},"end":{"line":1924,"column":1}},"children":[{"type":"text","value":"Prerequisites Check","position":{"start":{"line":1924,"column":1},"end":{"line":1924,"column":1}},"key":"DPZ0zaXx7g"}],"identifier":"prerequisites-check","label":"Prerequisites Check","html_id":"prerequisites-check-1","implicit":true,"key":"pCCc9MbShL"},{"type":"paragraph","position":{"start":{"line":1926,"column":1},"end":{"line":1926,"column":1}},"children":[{"type":"text","value":"Before starting this chapter, verify you can:","position":{"start":{"line":1926,"column":1},"end":{"line":1926,"column":1}},"key":"fB7FDoWJNE"}],"key":"S3YUbGqY1C"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1927,"column":1},"end":{"line":1932,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1927,"column":1},"end":{"line":1927,"column":1}},"children":[{"type":"text","value":"✓ Work with Python lists and understand indexing/slicing (Chapter 4)","position":{"start":{"line":1927,"column":1},"end":{"line":1927,"column":1}},"key":"jP0eBDd6za"}],"key":"Kvq8YdFRXN"},{"type":"listItem","spread":true,"position":{"start":{"line":1928,"column":1},"end":{"line":1928,"column":1}},"children":[{"type":"text","value":"✓ Write functions and understand scope (Chapter 5)","position":{"start":{"line":1928,"column":1},"end":{"line":1928,"column":1}},"key":"WMCEXkFOqY"}],"key":"XnKHeDJ2tL"},{"type":"listItem","spread":true,"position":{"start":{"line":1929,"column":1},"end":{"line":1929,"column":1}},"children":[{"type":"text","value":"✓ Understand object methods and attributes (Chapter 6)","position":{"start":{"line":1929,"column":1},"end":{"line":1929,"column":1}},"key":"MjJISBe0Ud"}],"key":"GgZj8SHpor"},{"type":"listItem","spread":true,"position":{"start":{"line":1930,"column":1},"end":{"line":1930,"column":1}},"children":[{"type":"text","value":"✓ Use list comprehensions for data transformation (Chapter 4)","position":{"start":{"line":1930,"column":1},"end":{"line":1930,"column":1}},"key":"YSaAaVDPph"}],"key":"GpQBYwuRkK"},{"type":"listItem","spread":true,"position":{"start":{"line":1931,"column":1},"end":{"line":1932,"column":1}},"children":[{"type":"text","value":"✓ Work with nested data structures (Chapter 4)","position":{"start":{"line":1931,"column":1},"end":{"line":1931,"column":1}},"key":"DfzHQi2h1j"}],"key":"iPdG2XsBu2"}],"key":"Vp0Nl2QtZq"},{"type":"heading","depth":2,"position":{"start":{"line":1933,"column":1},"end":{"line":1933,"column":1}},"children":[{"type":"text","value":"Chapter Overview","position":{"start":{"line":1933,"column":1},"end":{"line":1933,"column":1}},"key":"JXRyiDonq3"}],"identifier":"chapter-overview","label":"Chapter Overview","html_id":"chapter-overview-1","implicit":true,"key":"IGyU65t0jE"},{"type":"paragraph","position":{"start":{"line":1935,"column":1},"end":{"line":1935,"column":1}},"children":[{"type":"text","value":"So far, you’ve been using Python lists for numerical data. But try this simple experiment: compute the sum of squares for a million numbers using a list comprehension versus a loop. Even with list comprehensions, Python is surprisingly slow for numerical work. This is where NumPy transforms Python from a general-purpose language into a scientific computing powerhouse.","position":{"start":{"line":1935,"column":1},"end":{"line":1935,"column":1}},"key":"Wymnb4j8te"}],"key":"cK3ToWwvQj"},{"type":"paragraph","position":{"start":{"line":1937,"column":1},"end":{"line":1937,"column":1}},"children":[{"type":"text","value":"NumPy (Numerical Python) is not just a library—it’s the foundation upon which the entire scientific Python ecosystem is built. Every plot you make with Matplotlib, every optimization you run with SciPy, every dataframe you manipulate with Pandas, ultimately relies on NumPy arrays. Understanding NumPy deeply means understanding how scientific computing works in Python.","position":{"start":{"line":1937,"column":1},"end":{"line":1937,"column":1}},"key":"KtkPTI9VzC"}],"key":"EzP8ymG1vB"},{"type":"paragraph","position":{"start":{"line":1939,"column":1},"end":{"line":1939,"column":1}},"children":[{"type":"text","value":"This chapter reveals why NumPy is fast (hint: it’s not written in Python), how its mental model differs from pure Python (vectorization over loops), and how its design patterns appear throughout scientific computing. You’ll learn to think in arrays, not elements—a fundamental shift that makes the difference between code that takes hours and code that takes seconds. By the end, you’ll understand why that ","position":{"start":{"line":1939,"column":1},"end":{"line":1939,"column":1}},"key":"GPTwTilDvw"},{"type":"inlineCode","value":"Star","position":{"start":{"line":1939,"column":1},"end":{"line":1939,"column":1}},"key":"zrn4ZCwRea"},{"type":"text","value":" class you created in Chapter 6 might be better represented as a structured NumPy array when you have millions of stars to process.","position":{"start":{"line":1939,"column":1},"end":{"line":1939,"column":1}},"key":"W7bZDWmIyr"}],"key":"fynP5TnzPq"},{"type":"heading","depth":2,"position":{"start":{"line":1941,"column":1},"end":{"line":1941,"column":1}},"children":[{"type":"text","value":"7.1 Why NumPy? The Performance Revolution","position":{"start":{"line":1941,"column":1},"end":{"line":1941,"column":1}},"key":"AK0QcFZI2k"}],"identifier":"id-7-1-why-numpy-the-performance-revolution","label":"7.1 Why NumPy? The Performance Revolution","html_id":"id-7-1-why-numpy-the-performance-revolution-1","implicit":true,"key":"aY2mIY2JwG"},{"type":"paragraph","position":{"start":{"line":1943,"column":1},"end":{"line":1943,"column":1}},"children":[{"type":"text","value":"Let’s start with a motivating example that shows why NumPy exists:","position":{"start":{"line":1943,"column":1},"end":{"line":1943,"column":1}},"key":"E3uzWPtooY"}],"key":"PKPT2y8av6"},{"type":"code","lang":"python","value":"In [1]: import time\nIn [2]: import numpy as np\n\n# Pure Python: sum of squares for 1 million numbers\nIn [3]: def python_sum_of_squares(n):\n   ...:     \"\"\"Pure Python implementation.\"\"\"\n   ...:     numbers = list(range(n))\n   ...:     return sum(x**2 for x in numbers)\n\n# NumPy: same calculation\nIn [4]: def numpy_sum_of_squares(n):\n   ...:     \"\"\"NumPy implementation.\"\"\"\n   ...:     numbers = np.arange(n)\n   ...:     return np.sum(numbers**2)\n\n# Time both approaches\nIn [5]: n = 1_000_000\n\nIn [6]: start = time.perf_counter()\nIn [7]: python_result = python_sum_of_squares(n)\nIn [8]: python_time = time.perf_counter() - start\n\nIn [9]: start = time.perf_counter()\nIn [10]: numpy_result = numpy_sum_of_squares(n)\nIn [11]: numpy_time = time.perf_counter() - start\n\nIn [12]: print(f\"Python: {python_time:.3f} seconds\")\nIn [13]: print(f\"NumPy:  {numpy_time:.3f} seconds\")\nIn [14]: print(f\"Speedup: {python_time/numpy_time:.1f}x\")\nPython: 0.142 seconds\nNumPy:  0.003 seconds\nSpeedup: 47.3x\n\nIn [15]: python_result == numpy_result  # Same answer!\nOut[15]: True","position":{"start":{"line":1945,"column":1},"end":{"line":1981,"column":1}},"key":"GJMe70nvJo"},{"type":"paragraph","position":{"start":{"line":1983,"column":1},"end":{"line":1983,"column":1}},"children":[{"type":"text","value":"NumPy is nearly 50 times faster! But why? The answer reveals fundamental truths about scientific computing.","position":{"start":{"line":1983,"column":1},"end":{"line":1983,"column":1}},"key":"TBw7eBxBEG"}],"key":"amdjrjjJ0L"},{"type":"heading","depth":3,"position":{"start":{"line":1985,"column":1},"end":{"line":1985,"column":1}},"children":[{"type":"text","value":"The Secret: NumPy Arrays Are Not Python Lists","position":{"start":{"line":1985,"column":1},"end":{"line":1985,"column":1}},"key":"rhHyxzm3Ut"}],"identifier":"the-secret-numpy-arrays-are-not-python-lists","label":"The Secret: NumPy Arrays Are Not Python Lists","html_id":"the-secret-numpy-arrays-are-not-python-lists-1","implicit":true,"key":"GfAoTn8d5q"},{"type":"mermaid","value":"flowchart TD\n    subgraph \"Python List\"\n        L[List Object] --\u003e P1[Pointer 1]\n        L --\u003e P2[Pointer 2]\n        L --\u003e P3[Pointer 3]\n        L --\u003e PN[Pointer N]\n        \n        P1 --\u003e O1[Integer Object\u003cbr/\u003etype: int\u003cbr/\u003evalue: 0]\n        P2 --\u003e O2[Integer Object\u003cbr/\u003etype: int\u003cbr/\u003evalue: 1]\n        P3 --\u003e O3[Integer Object\u003cbr/\u003etype: int\u003cbr/\u003evalue: 2]\n        PN --\u003e ON[Integer Object\u003cbr/\u003etype: int\u003cbr/\u003evalue: N-1]\n    end\n    \n    subgraph \"NumPy Array\"\n        A[Array Header\u003cbr/\u003edtype: int64\u003cbr/\u003eshape: (N,)\u003cbr/\u003estrides: (8,)] --\u003e M[Contiguous Memory Block\u003cbr/\u003e0 | 1 | 2 | 3 | ... | N-1]\n    end\n    \n    style L fill:#f9f\n    style A fill:#9f9\n    style M fill:#9ff","key":"GDLK1o6oTs"},{"type":"paragraph","position":{"start":{"line":2010,"column":1},"end":{"line":2010,"column":1}},"children":[{"type":"strong","position":{"start":{"line":2010,"column":1},"end":{"line":2010,"column":1}},"children":[{"type":"text","value":"Python lists","position":{"start":{"line":2010,"column":1},"end":{"line":2010,"column":1}},"key":"WHsBZ5ir7K"}],"key":"kso8iTlR5l"},{"type":"text","value":" store pointers to Python objects scattered throughout memory. Each integer is a full Python object with type information, reference counting, and other overhead. Accessing an element means following a pointer, checking the type, extracting the value—expensive operations repeated millions of times.","position":{"start":{"line":2010,"column":1},"end":{"line":2010,"column":1}},"key":"V1zMYDp2wr"}],"key":"yrjbBrCRLr"},{"type":"paragraph","position":{"start":{"line":2012,"column":1},"end":{"line":2012,"column":1}},"children":[{"type":"strong","position":{"start":{"line":2012,"column":1},"end":{"line":2012,"column":1}},"children":[{"type":"text","value":"NumPy arrays","position":{"start":{"line":2012,"column":1},"end":{"line":2012,"column":1}},"key":"g1CfsUKDUa"}],"key":"qB8CtaCZgL"},{"type":"text","value":" store raw numbers in contiguous memory, like C arrays. The array header contains metadata (data type, shape, strides), but the data itself is just bytes in memory. Operations can be passed directly to optimized C/Fortran code that processes memory blocks efficiently, leveraging CPU vector instructions and cache locality.","position":{"start":{"line":2012,"column":1},"end":{"line":2012,"column":1}},"key":"Kk8CAmtLQ6"}],"key":"saltq5qkiJ"},{"type":"heading","depth":3,"position":{"start":{"line":2014,"column":1},"end":{"line":2014,"column":1}},"children":[{"type":"text","value":"The Mental Model Shift: Vectorization","position":{"start":{"line":2014,"column":1},"end":{"line":2014,"column":1}},"key":"q9zK3s1Onx"}],"identifier":"the-mental-model-shift-vectorization","label":"The Mental Model Shift: Vectorization","html_id":"the-mental-model-shift-vectorization-1","implicit":true,"key":"WnpVnK4JjF"},{"type":"paragraph","position":{"start":{"line":2016,"column":1},"end":{"line":2016,"column":1}},"children":[{"type":"text","value":"The performance gain requires a different programming style. Instead of thinking about individual elements, think about entire arrays:","position":{"start":{"line":2016,"column":1},"end":{"line":2016,"column":1}},"key":"hHVkEdzvK4"}],"key":"Eiz2LhTLUE"},{"type":"code","lang":"python","value":"# Python style: loop over elements\ndef python_distance(x_coords, y_coords):\n    \"\"\"Calculate distances from origin, Python style.\"\"\"\n    distances = []\n    for x, y in zip(x_coords, y_coords):\n        dist = (x**2 + y**2)**0.5\n        distances.append(dist)\n    return distances\n\n# NumPy style: operate on entire arrays\ndef numpy_distance(x_coords, y_coords):\n    \"\"\"Calculate distances from origin, NumPy style.\"\"\"\n    return np.sqrt(x_coords**2 + y_coords**2)\n\n# Test with 100,000 points\nn_points = 100_000\nx = np.random.randn(n_points)\ny = np.random.randn(n_points)\n\n# Convert to lists for Python version\nx_list = x.tolist()\ny_list = y.tolist()\n\n%timeit python_distance(x_list, y_list)\n# 31.2 ms ± 501 µs per loop\n\n%timeit numpy_distance(x, y)\n# 371 µs ± 5.2 µs per loop\n\n# 84x faster!","position":{"start":{"line":2018,"column":1},"end":{"line":2049,"column":1}},"key":"XVbEbe6J4Q"},{"type":"paragraph","position":{"start":{"line":2051,"column":1},"end":{"line":2051,"column":1}},"children":[{"type":"text","value":"This is ","position":{"start":{"line":2051,"column":1},"end":{"line":2051,"column":1}},"key":"eJlBqtOa2a"},{"type":"strong","position":{"start":{"line":2051,"column":1},"end":{"line":2051,"column":1}},"children":[{"type":"text","value":"vectorization","position":{"start":{"line":2051,"column":1},"end":{"line":2051,"column":1}},"key":"tIfiu8lTC0"}],"key":"VHVpHTzZNQ"},{"type":"text","value":": expressing operations on entire arrays rather than individual elements. The loop still happens, but it’s in compiled C code, not interpreted Python.","position":{"start":{"line":2051,"column":1},"end":{"line":2051,"column":1}},"key":"D5kUogJTn7"}],"key":"XLFNVg4dYZ"},{"type":"heading","depth":3,"position":{"start":{"line":2053,"column":1},"end":{"line":2053,"column":1}},"children":[{"type":"text","value":"📦 ","position":{"start":{"line":2053,"column":1},"end":{"line":2053,"column":1}},"key":"zgNHHKtXMa"},{"type":"strong","position":{"start":{"line":2053,"column":1},"end":{"line":2053,"column":1}},"children":[{"type":"text","value":"Computational Thinking Box: The Two-Language Problem","position":{"start":{"line":2053,"column":1},"end":{"line":2053,"column":1}},"key":"KwXie3HA0g"}],"key":"z64sYeoPt6"}],"identifier":"id-computational-thinking-box-the-two-language-problem","label":"📦 Computational Thinking Box: The Two-Language Problem","html_id":"id-computational-thinking-box-the-two-language-problem-1","implicit":true,"key":"cve7lXHjsH"},{"type":"code","lang":"","value":"PATTERN: The Two-Language Problem in Scientific Computing\n\nMany scientific computing ecosystems face a dilemma:\n- High-level languages (Python, MATLAB, R) are great for experimentation\n- Low-level languages (C, Fortran) are needed for performance\n- Scientists want to think about science, not memory management\n\nNumPy's Solution:\n- Python interface for thinking and prototyping\n- C/Fortran implementation for computation\n- Seamless boundary between the two\n\nThis pattern appears throughout scientific Python:\n- NumPy: Python interface, C implementation\n- SciPy: Python interface, Fortran/C++ implementation  \n- Pandas: Python interface, Cython implementation\n- Scikit-learn: Python interface, Cython/C++ implementation\n\nThe key insight: put the boundary at the right abstraction level.\nFor NumPy, that's the array operation, not the element operation.","position":{"start":{"line":2055,"column":1},"end":{"line":2076,"column":1}},"key":"UQ5wk2ip5M"},{"type":"heading","depth":2,"position":{"start":{"line":2078,"column":1},"end":{"line":2078,"column":1}},"children":[{"type":"text","value":"7.2 Creating Arrays: From Lists to Grids","position":{"start":{"line":2078,"column":1},"end":{"line":2078,"column":1}},"key":"CIAF47h9Mk"}],"identifier":"id-7-2-creating-arrays-from-lists-to-grids","label":"7.2 Creating Arrays: From Lists to Grids","html_id":"id-7-2-creating-arrays-from-lists-to-grids-1","implicit":true,"key":"ubzpk66A5r"},{"type":"paragraph","position":{"start":{"line":2080,"column":1},"end":{"line":2080,"column":1}},"children":[{"type":"text","value":"NumPy provides many ways to create arrays, each optimized for different use cases. Understanding these is crucial for efficient scientific computing.","position":{"start":{"line":2080,"column":1},"end":{"line":2080,"column":1}},"key":"rnuy5zsLO4"}],"key":"YhfAFtXupE"},{"type":"heading","depth":3,"position":{"start":{"line":2082,"column":1},"end":{"line":2082,"column":1}},"children":[{"type":"text","value":"From Python Sequences","position":{"start":{"line":2082,"column":1},"end":{"line":2082,"column":1}},"key":"HpwtdyWBBU"}],"identifier":"from-python-sequences","label":"From Python Sequences","html_id":"from-python-sequences-1","implicit":true,"key":"R6f3IZ6uZe"},{"type":"paragraph","position":{"start":{"line":2084,"column":1},"end":{"line":2084,"column":1}},"children":[{"type":"text","value":"The most straightforward way is converting existing Python data:","position":{"start":{"line":2084,"column":1},"end":{"line":2084,"column":1}},"key":"zqYapg2OYh"}],"key":"tjUtYZqVbJ"},{"type":"code","lang":"python","value":"In [16]: # From a list\nIn [17]: list_data = [1, 2, 3, 4, 5]\nIn [18]: arr = np.array(list_data)\nIn [19]: print(f\"Array: {arr}\")\nIn [20]: print(f\"Type: {type(arr)}\")  # Note: it's an object!\nIn [21]: print(f\"Dtype: {arr.dtype}\")  # Data type of elements\nArray: [1 2 3 4 5]\nType: \u003cclass 'numpy.ndarray'\u003e\nDtype: int64\n\nIn [22]: # From nested lists (creates 2D array)\nIn [23]: matrix_data = [[1, 2, 3],\n   ...:                 [4, 5, 6],\n   ...:                 [7, 8, 9]]\nIn [24]: matrix = np.array(matrix_data)\nIn [25]: print(f\"Matrix:\\n{matrix}\")\nIn [26]: print(f\"Shape: {matrix.shape}\")  # (rows, columns)\nIn [27]: print(f\"Dimensions: {matrix.ndim}\")\nMatrix:\n[[1 2 3]\n [4 5 6]\n [7 8 9]]\nShape: (3, 3)\nDimensions: 2","position":{"start":{"line":2086,"column":1},"end":{"line":2111,"column":1}},"key":"aTFKerFzf2"},{"type":"paragraph","position":{"start":{"line":2113,"column":1},"end":{"line":2113,"column":1}},"children":[{"type":"text","value":"Remember from Chapter 6: NumPy arrays are objects! They have attributes (","position":{"start":{"line":2113,"column":1},"end":{"line":2113,"column":1}},"key":"kaLso9YfxY"},{"type":"inlineCode","value":"shape","position":{"start":{"line":2113,"column":1},"end":{"line":2113,"column":1}},"key":"pqgLsJWPUU"},{"type":"text","value":", ","position":{"start":{"line":2113,"column":1},"end":{"line":2113,"column":1}},"key":"sc41O16V3x"},{"type":"inlineCode","value":"dtype","position":{"start":{"line":2113,"column":1},"end":{"line":2113,"column":1}},"key":"XD8s1LmFT3"},{"type":"text","value":", ","position":{"start":{"line":2113,"column":1},"end":{"line":2113,"column":1}},"key":"E4FT44m7TL"},{"type":"inlineCode","value":"size","position":{"start":{"line":2113,"column":1},"end":{"line":2113,"column":1}},"key":"gXkvrb0jzF"},{"type":"text","value":") and methods (","position":{"start":{"line":2113,"column":1},"end":{"line":2113,"column":1}},"key":"evVdSRgYTA"},{"type":"inlineCode","value":"reshape()","position":{"start":{"line":2113,"column":1},"end":{"line":2113,"column":1}},"key":"v6zRfOandK"},{"type":"text","value":", ","position":{"start":{"line":2113,"column":1},"end":{"line":2113,"column":1}},"key":"dprDhyGlbf"},{"type":"inlineCode","value":"mean()","position":{"start":{"line":2113,"column":1},"end":{"line":2113,"column":1}},"key":"YGYfT24SlB"},{"type":"text","value":", ","position":{"start":{"line":2113,"column":1},"end":{"line":2113,"column":1}},"key":"oZtsYeS4Rg"},{"type":"inlineCode","value":"sum()","position":{"start":{"line":2113,"column":1},"end":{"line":2113,"column":1}},"key":"WXCFHocsoo"},{"type":"text","value":"). This is OOP in action.","position":{"start":{"line":2113,"column":1},"end":{"line":2113,"column":1}},"key":"oDjniyqdC2"}],"key":"qxp0liJQPP"},{"type":"heading","depth":3,"position":{"start":{"line":2115,"column":1},"end":{"line":2115,"column":1}},"children":[{"type":"text","value":"Initialization Functions","position":{"start":{"line":2115,"column":1},"end":{"line":2115,"column":1}},"key":"A5cDp7oJFO"}],"identifier":"initialization-functions","label":"Initialization Functions","html_id":"initialization-functions-1","implicit":true,"key":"CHj3wNkrF7"},{"type":"paragraph","position":{"start":{"line":2117,"column":1},"end":{"line":2117,"column":1}},"children":[{"type":"text","value":"Creating arrays from scratch is often more efficient than converting lists:","position":{"start":{"line":2117,"column":1},"end":{"line":2117,"column":1}},"key":"xyOc4giXn5"}],"key":"Fw8SG51qPi"},{"type":"code","lang":"python","value":"In [28]: # Arrays of zeros (useful for accumulation)\nIn [29]: zeros = np.zeros((3, 4))  # 3 rows, 4 columns\nIn [30]: print(f\"Zeros:\\n{zeros}\")\nZeros:\n[[0. 0. 0. 0.]\n [0. 0. 0. 0.]\n [0. 0. 0. 0.]]\n\nIn [31]: # Arrays of ones (useful for counting)\nIn [32]: ones = np.ones((2, 3), dtype=np.int32)  # Can specify dtype\nIn [33]: print(f\"Ones:\\n{ones}\")\nOnes:\n[[1 1 1]\n [1 1 1]]\n\nIn [34]: # Identity matrix (useful for linear algebra)\nIn [35]: identity = np.eye(3)\nIn [36]: print(f\"Identity:\\n{identity}\")\nIdentity:\n[[1. 0. 0.]\n [0. 1. 0.]\n [0. 0. 1.]]\n\nIn [37]: # Uninitialized array (fastest, but contains garbage)\nIn [38]: empty = np.empty((2, 2))  # DANGER: random values!\nIn [39]: print(f\"Empty (undefined values):\\n{empty}\")\nEmpty (undefined values):\n[[4.67e-310 0.00e+000]\n [0.00e+000 0.00e+000]]","position":{"start":{"line":2119,"column":1},"end":{"line":2149,"column":1}},"key":"fu4p7Q1Pp4"},{"type":"heading","depth":3,"position":{"start":{"line":2151,"column":1},"end":{"line":2151,"column":1}},"children":[{"type":"text","value":"⚠️ ","position":{"start":{"line":2151,"column":1},"end":{"line":2151,"column":1}},"key":"pGfSrXlclD"},{"type":"strong","position":{"start":{"line":2151,"column":1},"end":{"line":2151,"column":1}},"children":[{"type":"text","value":"Common Bug Alert: Uninitialized Arrays","position":{"start":{"line":2151,"column":1},"end":{"line":2151,"column":1}},"key":"QXB51kKhj9"}],"key":"vcvexzFgQN"}],"identifier":"id-common-bug-alert-uninitialized-arrays","label":"⚠️ Common Bug Alert: Uninitialized Arrays","html_id":"id-common-bug-alert-uninitialized-arrays-1","implicit":true,"key":"Dze5rbpGlQ"},{"type":"code","lang":"python","value":"# WRONG: Assuming empty arrays contain zeros\ndef calculate_sums_wrong(data, n_bins):\n    sums = np.empty(n_bins)  # Contains garbage!\n    for i, value in enumerate(data):\n        bin_idx = int(value) % n_bins\n        sums[bin_idx] += value  # Adding to garbage!\n    return sums\n\n# CORRECT: Use zeros for accumulation\ndef calculate_sums_correct(data, n_bins):\n    sums = np.zeros(n_bins)  # Initialized to zero\n    for i, value in enumerate(data):\n        bin_idx = int(value) % n_bins\n        sums[bin_idx] += value\n    return sums\n\n# The bug might not be obvious in testing!\ntest_data = np.array([1.5, 2.7, 3.2])\nprint(calculate_sums_wrong(test_data, 5))   # Unpredictable!\nprint(calculate_sums_correct(test_data, 5))  # [0, 1.5, 2.7, 3.2, 0]","position":{"start":{"line":2153,"column":1},"end":{"line":2174,"column":1}},"key":"TZiEYIF1gp"},{"type":"paragraph","position":{"start":{"line":2176,"column":1},"end":{"line":2176,"column":1}},"children":[{"type":"text","value":"Always use ","position":{"start":{"line":2176,"column":1},"end":{"line":2176,"column":1}},"key":"nqOt5FDKLr"},{"type":"inlineCode","value":"zeros()","position":{"start":{"line":2176,"column":1},"end":{"line":2176,"column":1}},"key":"knyJgPbBaq"},{"type":"text","value":" for accumulation, ","position":{"start":{"line":2176,"column":1},"end":{"line":2176,"column":1}},"key":"COflW6xG0m"},{"type":"inlineCode","value":"ones()","position":{"start":{"line":2176,"column":1},"end":{"line":2176,"column":1}},"key":"JVvEnG8Z5N"},{"type":"text","value":" for counting, and only use ","position":{"start":{"line":2176,"column":1},"end":{"line":2176,"column":1}},"key":"HKkfyqdZIj"},{"type":"inlineCode","value":"empty()","position":{"start":{"line":2176,"column":1},"end":{"line":2176,"column":1}},"key":"R9l2remb1A"},{"type":"text","value":" when you’ll immediately overwrite all values.","position":{"start":{"line":2176,"column":1},"end":{"line":2176,"column":1}},"key":"cCnUmflnsD"}],"key":"bfaGvaorLk"},{"type":"heading","depth":3,"position":{"start":{"line":2178,"column":1},"end":{"line":2178,"column":1}},"children":[{"type":"text","value":"Range Arrays","position":{"start":{"line":2178,"column":1},"end":{"line":2178,"column":1}},"key":"qy1tVybd24"}],"identifier":"range-arrays","label":"Range Arrays","html_id":"range-arrays-1","implicit":true,"key":"nEL7XSPwDQ"},{"type":"paragraph","position":{"start":{"line":2180,"column":1},"end":{"line":2180,"column":1}},"children":[{"type":"text","value":"For sequences of numbers, NumPy provides optimized functions:","position":{"start":{"line":2180,"column":1},"end":{"line":2180,"column":1}},"key":"i5V3vlSnE8"}],"key":"HYuxT9CrvF"},{"type":"code","lang":"python","value":"In [40]: # Like Python's range, but returns an array\nIn [41]: integers = np.arange(10)  # 0 to 9\nIn [42]: print(f\"Integers: {integers}\")\nIntegers: [0 1 2 3 4 5 6 7 8 9]\n\nIn [43]: # With start, stop, step\nIn [44]: evens = np.arange(0, 10, 2)\nIn [45]: print(f\"Evens: {evens}\")\nEvens: [0 2 4 6 8]\n\nIn [46]: # Floating-point ranges\nIn [47]: floats = np.arange(0, 1, 0.1)\nIn [48]: print(f\"Floats: {floats}\")\nFloats: [0.  0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9]\n\nIn [49]: # Linear spacing (specify number of points, not step)\nIn [50]: linear = np.linspace(0, 1, 11)  # 11 points from 0 to 1\nIn [51]: print(f\"Linear: {linear}\")\nLinear: [0.  0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1. ]\n\nIn [52]: # Logarithmic spacing (for log-scale plots)\nIn [53]: logarithmic = np.logspace(0, 3, 4)  # 10^0 to 10^3\nIn [54]: print(f\"Logarithmic: {logarithmic}\")\nLogarithmic: [   1.   10.  100. 1000.]","position":{"start":{"line":2182,"column":1},"end":{"line":2207,"column":1}},"key":"lbe4th1Qf1"},{"type":"heading","depth":3,"position":{"start":{"line":2209,"column":1},"end":{"line":2209,"column":1}},"children":[{"type":"text","value":"🔍 ","position":{"start":{"line":2209,"column":1},"end":{"line":2209,"column":1}},"key":"tCDgVq40xm"},{"type":"strong","position":{"start":{"line":2209,"column":1},"end":{"line":2209,"column":1}},"children":[{"type":"text","value":"Check Your Understanding","position":{"start":{"line":2209,"column":1},"end":{"line":2209,"column":1}},"key":"f9xIMx8cUV"}],"key":"hvyrPlIrby"}],"identifier":"id-check-your-understanding","label":"🔍 Check Your Understanding","html_id":"id-check-your-understanding-2","implicit":true,"key":"QBruPUIQCk"},{"type":"paragraph","position":{"start":{"line":2211,"column":1},"end":{"line":2211,"column":1}},"children":[{"type":"text","value":"What’s the difference between ","position":{"start":{"line":2211,"column":1},"end":{"line":2211,"column":1}},"key":"IcYS3EOHUi"},{"type":"inlineCode","value":"np.arange(0, 1, 0.1)","position":{"start":{"line":2211,"column":1},"end":{"line":2211,"column":1}},"key":"b04PqVQ6Uo"},{"type":"text","value":" and ","position":{"start":{"line":2211,"column":1},"end":{"line":2211,"column":1}},"key":"edhHv9fdBC"},{"type":"inlineCode","value":"np.linspace(0, 1, 11)","position":{"start":{"line":2211,"column":1},"end":{"line":2211,"column":1}},"key":"b4AIRP3fqt"},{"type":"text","value":"?","position":{"start":{"line":2211,"column":1},"end":{"line":2211,"column":1}},"key":"rg7ikiALNA"}],"key":"A6YmGKcjFx"},{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Answer","key":"c6Ntujtcol"}],"key":"Az73Xs6cfH"},{"type":"paragraph","children":[{"type":"text","value":"Both create arrays from 0 to 1, but they work differently:","key":"QHDFZPdzDZ"}],"key":"upKyWWa3B5"},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"np.arange(0, 1, 0.1)","key":"Mht9cFBt6e"},{"type":"text","value":" uses a step size of 0.1. Due to floating-point arithmetic, it might not include exactly 1.0 and might have slight inaccuracies.","key":"poyK273avo"}],"key":"HvUpTA3r5j"}],"key":"d674vfXd9M"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"np.linspace(0, 1, 11)","key":"Xl0RHoukm1"},{"type":"text","value":" creates exactly 11 evenly spaced points including both endpoints. It’s more precise for floating-point ranges.","key":"xizXB72lno"}],"key":"DgBodaOOm5"}],"key":"yECUQqEDS8"}],"key":"q1FHNHBMdE"},{"type":"code","lang":"python","meta":null,"value":"# Demonstration of the difference\narange_arr = np.arange(0, 1, 0.1)\nlinspace_arr = np.linspace(0, 1, 11)\n\nprint(f\"arange length: {len(arange_arr)}\")      # 10 (doesn't include 1.0)\nprint(f\"linspace length: {len(linspace_arr)}\")  # 11 (includes both endpoints)\nprint(f\"arange last: {arange_arr[-1]}\")         # 0.9\nprint(f\"linspace last: {linspace_arr[-1]}\")     # 1.0\n\n# Floating-point issues with arange\nprint(f\"0.1 + 0.1 + 0.1 == 0.3? {0.1 + 0.1 + 0.1 == 0.3}\")  # False!","key":"CScKwdjkyw"},{"type":"paragraph","children":[{"type":"text","value":"Use ","key":"eR2oYkqY55"},{"type":"inlineCode","value":"linspace","key":"mgnLUp5kCU"},{"type":"text","value":" when you need a specific number of points including endpoints. Use ","key":"NphYUE0ziN"},{"type":"inlineCode","value":"arange","key":"mHjVc4P4fs"},{"type":"text","value":" for integer sequences or when you need a specific step size.","key":"MB01SJc6dR"}],"key":"brQPWCS8od"}],"key":"QKG3OFUM2W"},{"type":"heading","depth":3,"position":{"start":{"line":2239,"column":1},"end":{"line":2239,"column":1}},"children":[{"type":"text","value":"Random Arrays","position":{"start":{"line":2239,"column":1},"end":{"line":2239,"column":1}},"key":"gAukSYJAE1"}],"identifier":"random-arrays","label":"Random Arrays","html_id":"random-arrays-1","implicit":true,"key":"on1IR2t20j"},{"type":"paragraph","position":{"start":{"line":2241,"column":1},"end":{"line":2241,"column":1}},"children":[{"type":"text","value":"Scientific computing often needs random data for Monte Carlo simulations, testing, or initialization:","position":{"start":{"line":2241,"column":1},"end":{"line":2241,"column":1}},"key":"R6IPRTZIf4"}],"key":"lYbt3JAMIj"},{"type":"code","lang":"python","value":"In [55]: # Set seed for reproducibility (important for science!)\nIn [56]: np.random.seed(42)\n\nIn [57]: # Uniform distribution [0, 1)\nIn [58]: uniform = np.random.rand(3, 3)\nIn [59]: print(f\"Uniform:\\n{uniform}\")\nUniform:\n[[0.374 0.950 0.731]\n [0.598 0.156 0.155]\n [0.058 0.866 0.601]]\n\nIn [60]: # Standard normal distribution (mean=0, std=1)\nIn [61]: normal = np.random.randn(3, 3)\nIn [62]: print(f\"Normal:\\n{normal}\")\nNormal:\n[[ 0.708 -0.757 -1.316]\n [ 0.386  1.749  0.297]\n [-0.814 -0.454 -1.150]]\n\nIn [63]: # Random integers\nIn [64]: integers = np.random.randint(0, 10, size=(2, 4))\nIn [65]: print(f\"Random integers:\\n{integers}\")\nRandom integers:\n[[7 6 6 8]\n [8 3 9 8]]\n\nIn [66]: # Custom distribution (e.g., Poisson for photon counts)\nIn [67]: photon_counts = np.random.poisson(lam=5, size=10)\nIn [68]: print(f\"Photon counts: {photon_counts}\")\nPhoton counts: [3 5 6 3 8 4 3 3 6 2]","position":{"start":{"line":2243,"column":1},"end":{"line":2274,"column":1}},"key":"fEWNDu4CUm"},{"type":"heading","depth":2,"position":{"start":{"line":2276,"column":1},"end":{"line":2276,"column":1}},"children":[{"type":"text","value":"7.3 Array Attributes and Memory Layout","position":{"start":{"line":2276,"column":1},"end":{"line":2276,"column":1}},"key":"s2TRSCBbzs"}],"identifier":"id-7-3-array-attributes-and-memory-layout","label":"7.3 Array Attributes and Memory Layout","html_id":"id-7-3-array-attributes-and-memory-layout-1","implicit":true,"key":"vo2ujR88i4"},{"type":"paragraph","position":{"start":{"line":2278,"column":1},"end":{"line":2278,"column":1}},"children":[{"type":"text","value":"Understanding array attributes and memory layout is crucial for writing efficient code and debugging strange behavior.","position":{"start":{"line":2278,"column":1},"end":{"line":2278,"column":1}},"key":"pgrhpCJl79"}],"key":"oiQAAmtN79"},{"type":"heading","depth":3,"position":{"start":{"line":2280,"column":1},"end":{"line":2280,"column":1}},"children":[{"type":"text","value":"Essential Attributes","position":{"start":{"line":2280,"column":1},"end":{"line":2280,"column":1}},"key":"F0EsByMx2N"}],"identifier":"essential-attributes","label":"Essential Attributes","html_id":"essential-attributes-1","implicit":true,"key":"qVPH5dyBgi"},{"type":"paragraph","position":{"start":{"line":2282,"column":1},"end":{"line":2282,"column":1}},"children":[{"type":"text","value":"Every NumPy array has attributes that describe its structure:","position":{"start":{"line":2282,"column":1},"end":{"line":2282,"column":1}},"key":"QpMGou8ZIW"}],"key":"F6zKGKyqOZ"},{"type":"code","lang":"python","value":"In [69]: # Create a 3D array for demonstration\nIn [70]: arr = np.random.randn(2, 3, 4)  # 2 blocks, 3 rows, 4 columns\n\nIn [71]: print(f\"Shape: {arr.shape}\")        # Dimensions\nIn [72]: print(f\"Size: {arr.size}\")          # Total elements\nIn [73]: print(f\"Ndim: {arr.ndim}\")          # Number of dimensions\nIn [74]: print(f\"Dtype: {arr.dtype}\")        # Data type\nIn [75]: print(f\"Itemsize: {arr.itemsize}\")  # Bytes per element\nIn [76]: print(f\"Nbytes: {arr.nbytes}\")      # Total bytes\nShape: (2, 3, 4)\nSize: 24\nNdim: 3\nDtype: float64\nItemsize: 8\nNbytes: 192\n\nIn [77]: # Memory layout information\nIn [78]: print(f\"Strides: {arr.strides}\")  # Bytes to next element\nIn [79]: print(f\"C-contiguous: {arr.flags['C_CONTIGUOUS']}\")\nIn [80]: print(f\"Fortran-contiguous: {arr.flags['F_CONTIGUOUS']}\")\nStrides: (96, 32, 8)\nC-contiguous: True\nFortran-contiguous: False","position":{"start":{"line":2284,"column":1},"end":{"line":2308,"column":1}},"key":"FeMFfAZzRi"},{"type":"heading","depth":3,"position":{"start":{"line":2310,"column":1},"end":{"line":2310,"column":1}},"children":[{"type":"text","value":"Memory Layout: Row-Major vs Column-Major","position":{"start":{"line":2310,"column":1},"end":{"line":2310,"column":1}},"key":"qqbvZKqnuL"}],"identifier":"memory-layout-row-major-vs-column-major","label":"Memory Layout: Row-Major vs Column-Major","html_id":"memory-layout-row-major-vs-column-major-1","implicit":true,"key":"tqc3c0Z8EL"},{"type":"paragraph","position":{"start":{"line":2312,"column":1},"end":{"line":2312,"column":1}},"children":[{"type":"text","value":"NumPy can store arrays in different memory layouts, which affects performance:","position":{"start":{"line":2312,"column":1},"end":{"line":2312,"column":1}},"key":"Ji1ckqtfIi"}],"key":"OFy8s9w4Aw"},{"type":"mermaid","value":"flowchart LR\n    subgraph \"Row-Major (C-style)\"\n        RM[2D Array\u003cbr/\u003e[[1,2,3],\u003cbr/\u003e[4,5,6]]] --\u003e RMM[Memory: 1|2|3|4|5|6]\n        RMM --\u003e RMD[Row 0 then Row 1]\n    end\n    \n    subgraph \"Column-Major (Fortran-style)\"\n        CM[2D Array\u003cbr/\u003e[[1,2,3],\u003cbr/\u003e[4,5,6]]] --\u003e CMM[Memory: 1|4|2|5|3|6]\n        CMM --\u003e CMD[Column 0 then Column 1 then Column 2]\n    end\n    \n    style RM fill:#9f9\n    style CM fill:#f9f","key":"lhDf3pkJGa"},{"type":"code","lang":"python","value":"In [81]: # Default is C-order (row-major)\nIn [82]: c_array = np.array([[1, 2, 3],\n   ...:                       [4, 5, 6]])\nIn [83]: print(f\"C-order strides: {c_array.strides}\")  # (24, 8)\nC-order strides: (24, 8)  # 3 elements * 8 bytes to next row\n\nIn [84]: # Can create Fortran-order (column-major)\nIn [85]: f_array = np.array([[1, 2, 3],\n   ...:                       [4, 5, 6]], order='F')\nIn [86]: print(f\"F-order strides: {f_array.strides}\")  # (8, 16)\nF-order strides: (8, 16)  # 1 element * 8 bytes to next row\n\nIn [87]: # Performance implications\nIn [88]: large = np.random.randn(1000, 1000)\n\nIn [89]: # Summing along rows (axis=1) is fast for C-order\nIn [90]: %timeit large.sum(axis=1)\n574 µs ± 12.3 µs per loop\n\nIn [91]: # Summing along columns (axis=0) is slower for C-order\nIn [92]: %timeit large.sum(axis=0)\n1.28 ms ± 23.4 µs per loop\n\n# Why? Cache locality! Accessing contiguous memory is faster.","position":{"start":{"line":2330,"column":1},"end":{"line":2355,"column":1}},"key":"tma5Zu8w7D"},{"type":"heading","depth":3,"position":{"start":{"line":2357,"column":1},"end":{"line":2357,"column":1}},"children":[{"type":"text","value":"Data Types and Memory Usage","position":{"start":{"line":2357,"column":1},"end":{"line":2357,"column":1}},"key":"ojPtVSyDgK"}],"identifier":"data-types-and-memory-usage","label":"Data Types and Memory Usage","html_id":"data-types-and-memory-usage-1","implicit":true,"key":"X33TeJrSe1"},{"type":"paragraph","position":{"start":{"line":2359,"column":1},"end":{"line":2359,"column":1}},"children":[{"type":"text","value":"NumPy provides precise control over data types, crucial for memory efficiency and numerical precision:","position":{"start":{"line":2359,"column":1},"end":{"line":2359,"column":1}},"key":"WbMLNV27mE"}],"key":"W67qhc7qwI"},{"type":"code","lang":"python","value":"In [93]: # Integer types\nIn [94]: int8 = np.array([1, 2, 3], dtype=np.int8)    # -128 to 127\nIn [95]: int16 = np.array([1, 2, 3], dtype=np.int16)  # -32,768 to 32,767\nIn [96]: int32 = np.array([1, 2, 3], dtype=np.int32)  # ~±2 billion\nIn [97]: int64 = np.array([1, 2, 3], dtype=np.int64)  # ~±9 quintillion\n\nIn [98]: print(f\"int8 bytes: {int8.nbytes}\")   # 3 bytes\nIn [99]: print(f\"int64 bytes: {int64.nbytes}\") # 24 bytes\nint8 bytes: 3\nint64 bytes: 24\n\nIn [100]: # Floating-point types\nIn [101]: float16 = np.array([1.0, 2.0], dtype=np.float16)  # Half precision\nIn [102]: float32 = np.array([1.0, 2.0], dtype=np.float32)  # Single precision\nIn [103]: float64 = np.array([1.0, 2.0], dtype=np.float64)  # Double precision\n\nIn [104]: # Complex numbers for signal processing\nIn [105]: complex_arr = np.array([1+2j, 3+4j], dtype=np.complex128)\nIn [106]: print(f\"Complex array: {complex_arr}\")\nIn [107]: print(f\"Real parts: {complex_arr.real}\")\nIn [108]: print(f\"Imaginary parts: {complex_arr.imag}\")\nComplex array: [1.+2.j 3.+4.j]\nReal parts: [1. 3.]\nImaginary parts: [2. 4.]","position":{"start":{"line":2361,"column":1},"end":{"line":2386,"column":1}},"key":"bFMCyBRzin"},{"type":"heading","depth":3,"position":{"start":{"line":2388,"column":1},"end":{"line":2388,"column":1}},"children":[{"type":"text","value":"🔊 ","position":{"start":{"line":2388,"column":1},"end":{"line":2388,"column":1}},"key":"ktjbJC6ojX"},{"type":"strong","position":{"start":{"line":2388,"column":1},"end":{"line":2388,"column":1}},"children":[{"type":"text","value":"Performance Profile: Data Type Impact","position":{"start":{"line":2388,"column":1},"end":{"line":2388,"column":1}},"key":"KgEXfxbH2Q"}],"key":"jUP1Tkw78k"}],"identifier":"id-performance-profile-data-type-impact","label":"🔊 Performance Profile: Data Type Impact","html_id":"id-performance-profile-data-type-impact-1","implicit":true,"key":"KsAVWm2vTc"},{"type":"code","lang":"python","value":"# Memory and speed tradeoffs with different dtypes\nn = 10_000_000  # 10 million elements\n\n# Create arrays with different dtypes\nfloat64_arr = np.random.randn(n)  # Default\nfloat32_arr = float64_arr.astype(np.float32)\nfloat16_arr = float64_arr.astype(np.float16)\n\nprint(f\"float64: {float64_arr.nbytes / 1e6:.1f} MB\")\nprint(f\"float32: {float32_arr.nbytes / 1e6:.1f} MB\")\nprint(f\"float16: {float16_arr.nbytes / 1e6:.1f} MB\")\n\n# Performance comparison\n%timeit float64_arr.sum()  # 7.92 ms\n%timeit float32_arr.sum()  # 3.96 ms (2x faster!)\n%timeit float16_arr.sum()  # 15.8 ms (slower - no hardware support)\n\n# But beware precision loss!\nprint(f\"float64 sum: {float64_arr.sum()}\")\nprint(f\"float32 sum: {float32_arr.sum()}\")  # Slightly different\nprint(f\"float16 sum: {float16_arr.sum()}\")  # Very different!","position":{"start":{"line":2390,"column":1},"end":{"line":2412,"column":1}},"key":"KZrVWNLPhA"},{"type":"paragraph","position":{"start":{"line":2414,"column":1},"end":{"line":2414,"column":1}},"children":[{"type":"text","value":"Choose dtypes based on your needs: float64 for precision, float32 for speed/memory with acceptable precision loss, integers when appropriate.","position":{"start":{"line":2414,"column":1},"end":{"line":2414,"column":1}},"key":"fpnuvP3Ppk"}],"key":"pzDFI3ynXx"},{"type":"heading","depth":2,"position":{"start":{"line":2416,"column":1},"end":{"line":2416,"column":1}},"children":[{"type":"text","value":"7.4 Indexing and Slicing: Views vs Copies","position":{"start":{"line":2416,"column":1},"end":{"line":2416,"column":1}},"key":"VZYq1tJELD"}],"identifier":"id-7-4-indexing-and-slicing-views-vs-copies","label":"7.4 Indexing and Slicing: Views vs Copies","html_id":"id-7-4-indexing-and-slicing-views-vs-copies-1","implicit":true,"key":"lKBRbmoUpP"},{"type":"paragraph","position":{"start":{"line":2418,"column":1},"end":{"line":2418,"column":1}},"children":[{"type":"text","value":"NumPy’s indexing is powerful but has subtleties that can cause bugs if not understood properly.","position":{"start":{"line":2418,"column":1},"end":{"line":2418,"column":1}},"key":"jtXfqcScMr"}],"key":"Da4w9vu8oq"},{"type":"heading","depth":3,"position":{"start":{"line":2420,"column":1},"end":{"line":2420,"column":1}},"children":[{"type":"text","value":"Basic Indexing (Creates Views)","position":{"start":{"line":2420,"column":1},"end":{"line":2420,"column":1}},"key":"fLdN8JoYgM"}],"identifier":"basic-indexing-creates-views","label":"Basic Indexing (Creates Views)","html_id":"basic-indexing-creates-views-1","implicit":true,"key":"I2bDQM1nTO"},{"type":"paragraph","position":{"start":{"line":2422,"column":1},"end":{"line":2422,"column":1}},"children":[{"type":"text","value":"Basic slicing creates ","position":{"start":{"line":2422,"column":1},"end":{"line":2422,"column":1}},"key":"ezL4jAS2PW"},{"type":"strong","position":{"start":{"line":2422,"column":1},"end":{"line":2422,"column":1}},"children":[{"type":"text","value":"views","position":{"start":{"line":2422,"column":1},"end":{"line":2422,"column":1}},"key":"BGy64Pic9t"}],"key":"vLgloFiOsO"},{"type":"text","value":" that share memory with the original array:","position":{"start":{"line":2422,"column":1},"end":{"line":2422,"column":1}},"key":"hM6rXMV3Sx"}],"key":"J8pRlmrvpR"},{"type":"code","lang":"python","value":"In [109]: # 1D indexing - similar to lists\nIn [110]: arr = np.arange(10)\nIn [111]: print(f\"Original: {arr}\")\nIn [112]: print(f\"Element 3: {arr[3]}\")\nIn [113]: print(f\"Slice 2:5: {arr[2:5]}\")\nIn [114]: print(f\"Every 2nd: {arr[::2]}\")\nIn [115]: print(f\"Reverse: {arr[::-1]}\")\nOriginal: [0 1 2 3 4 5 6 7 8 9]\nElement 3: 3\nSlice 2:5: [2 3 4]\nEvery 2nd: [0 2 4 6 8]\nReverse: [9 8 7 6 5 4 3 2 1 0]\n\nIn [116]: # CRITICAL: Slices are views, not copies!\nIn [117]: slice_view = arr[2:5]\nIn [118]: slice_view[0] = 999\nIn [119]: print(f\"Original after modification: {arr}\")\nOriginal after modification: [  0   1 999   3   4   5   6   7   8   9]","position":{"start":{"line":2424,"column":1},"end":{"line":2443,"column":1}},"key":"Ib2fNKdj3n"},{"type":"heading","depth":3,"position":{"start":{"line":2445,"column":1},"end":{"line":2445,"column":1}},"children":[{"type":"text","value":"⚠️ ","position":{"start":{"line":2445,"column":1},"end":{"line":2445,"column":1}},"key":"K9io4m5pi8"},{"type":"strong","position":{"start":{"line":2445,"column":1},"end":{"line":2445,"column":1}},"children":[{"type":"text","value":"Common Bug Alert: Unexpected Mutation","position":{"start":{"line":2445,"column":1},"end":{"line":2445,"column":1}},"key":"AqRNCPyZJG"}],"key":"RLsh2GEBTm"}],"identifier":"id-common-bug-alert-unexpected-mutation","label":"⚠️ Common Bug Alert: Unexpected Mutation","html_id":"id-common-bug-alert-unexpected-mutation-1","implicit":true,"key":"BMDGkDbk0i"},{"type":"code","lang":"python","value":"# DANGEROUS: Modifying a view changes the original!\ndef process_middle(data):\n    \"\"\"Process middle section of data.\"\"\"\n    middle = data[len(data)//4:3*len(data)//4]  # View!\n    middle *= 2  # This modifies the original!\n    return middle\n\noriginal = np.arange(10)\nprint(f\"Before: {original}\")\nresult = process_middle(original)\nprint(f\"After: {original}\")  # Original is changed!\n# Before: [0 1 2 3 4 5 6 7 8 9]\n# After: [0 1 4 6 8 5 6 7 8 9]\n\n# SAFE: Explicitly copy when needed\ndef process_middle_safe(data):\n    \"\"\"Process middle section without modifying original.\"\"\"\n    middle = data[len(data)//4:3*len(data)//4].copy()  # Copy!\n    middle *= 2\n    return middle","position":{"start":{"line":2447,"column":1},"end":{"line":2468,"column":1}},"key":"ktPqsfOazG"},{"type":"heading","depth":3,"position":{"start":{"line":2470,"column":1},"end":{"line":2470,"column":1}},"children":[{"type":"text","value":"Multidimensional Indexing","position":{"start":{"line":2470,"column":1},"end":{"line":2470,"column":1}},"key":"PWNnG2gMkz"}],"identifier":"multidimensional-indexing","label":"Multidimensional Indexing","html_id":"multidimensional-indexing-1","implicit":true,"key":"ACVM5m8EXK"},{"type":"paragraph","position":{"start":{"line":2472,"column":1},"end":{"line":2472,"column":1}},"children":[{"type":"text","value":"For 2D arrays and higher, indexing becomes more powerful:","position":{"start":{"line":2472,"column":1},"end":{"line":2472,"column":1}},"key":"WpXZwwca3m"}],"key":"jHncmMpr0q"},{"type":"code","lang":"python","value":"In [120]: # Create a 2D array\nIn [121]: matrix = np.array([[1, 2, 3],\n    ...:                      [4, 5, 6],\n    ...:                      [7, 8, 9]])\n\nIn [122]: # Single element\nIn [123]: print(f\"Element [1,2]: {matrix[1, 2]}\")  # Row 1, Column 2\nElement [1,2]: 6\n\nIn [124]: # Entire row or column\nIn [125]: print(f\"Row 1: {matrix[1, :]}\")     # or just matrix[1]\nIn [126]: print(f\"Column 2: {matrix[:, 2]}\")\nRow 1: [4 5 6]\nColumn 2: [3 6 9]\n\nIn [127]: # Submatrix\nIn [128]: print(f\"Top-left 2x2:\\n{matrix[:2, :2]}\")\nTop-left 2x2:\n[[1 2]\n [4 5]]\n\nIn [129]: # Strided access\nIn [130]: print(f\"Every other element:\\n{matrix[::2, ::2]}\")\nEvery other element:\n[[1 3]\n [7 9]]","position":{"start":{"line":2474,"column":1},"end":{"line":2501,"column":1}},"key":"wDoWgltLG8"},{"type":"heading","depth":3,"position":{"start":{"line":2503,"column":1},"end":{"line":2503,"column":1}},"children":[{"type":"text","value":"Fancy Indexing (Creates Copies)","position":{"start":{"line":2503,"column":1},"end":{"line":2503,"column":1}},"key":"DAP3KBJwBJ"}],"identifier":"fancy-indexing-creates-copies","label":"Fancy Indexing (Creates Copies)","html_id":"fancy-indexing-creates-copies-1","implicit":true,"key":"VX7uspXPTD"},{"type":"paragraph","position":{"start":{"line":2505,"column":1},"end":{"line":2505,"column":1}},"children":[{"type":"text","value":"Using arrays as indices creates ","position":{"start":{"line":2505,"column":1},"end":{"line":2505,"column":1}},"key":"gbGxnxYyjx"},{"type":"strong","position":{"start":{"line":2505,"column":1},"end":{"line":2505,"column":1}},"children":[{"type":"text","value":"copies","position":{"start":{"line":2505,"column":1},"end":{"line":2505,"column":1}},"key":"H9wf8I6kGs"}],"key":"B4wJIvuxsx"},{"type":"text","value":", not views:","position":{"start":{"line":2505,"column":1},"end":{"line":2505,"column":1}},"key":"bY6vKgCvb6"}],"key":"M9GWR4G8t0"},{"type":"code","lang":"python","value":"In [131]: arr = np.arange(10) * 10\n\nIn [132]: # Integer array indexing\nIn [133]: indices = np.array([1, 3, 5])\nIn [134]: selected = arr[indices]  # This is a COPY\nIn [135]: print(f\"Selected: {selected}\")\nSelected: [10 30 50]\n\nIn [136]: selected[0] = 999\nIn [137]: print(f\"Original unchanged: {arr}\")  # Original intact\nOriginal unchanged: [ 0 10 20 30 40 50 60 70 80 90]\n\nIn [138]: # Boolean indexing (masking)\nIn [139]: mask = arr \u003e 40\nIn [140]: print(f\"Mask: {mask}\")\nIn [141]: filtered = arr[mask]  # Also a COPY\nIn [142]: print(f\"Filtered: {filtered}\")\nMask: [False False False False False  True  True  True  True  True]\nFiltered: [50 60 70 80 90]\n\nIn [143]: # Combining conditions\nIn [144]: complex_mask = (arr \u003e 20) \u0026 (arr \u003c 70)  # Note: \u0026 not 'and'\nIn [145]: print(f\"Complex filter: {arr[complex_mask]}\")\nComplex filter: [30 40 50 60]","position":{"start":{"line":2507,"column":1},"end":{"line":2532,"column":1}},"key":"EDUaawEeOd"},{"type":"heading","depth":3,"position":{"start":{"line":2534,"column":1},"end":{"line":2534,"column":1}},"children":[{"type":"text","value":"📦 ","position":{"start":{"line":2534,"column":1},"end":{"line":2534,"column":1}},"key":"fd3ra17h20"},{"type":"strong","position":{"start":{"line":2534,"column":1},"end":{"line":2534,"column":1}},"children":[{"type":"text","value":"Computational Thinking Box: Views vs Copies","position":{"start":{"line":2534,"column":1},"end":{"line":2534,"column":1}},"key":"sy3vRd9lrf"}],"key":"Py0We2GEry"}],"identifier":"id-computational-thinking-box-views-vs-copies","label":"📦 Computational Thinking Box: Views vs Copies","html_id":"id-computational-thinking-box-views-vs-copies-1","implicit":true,"key":"x8bfXy4Vbs"},{"type":"code","lang":"","value":"PATTERN: Memory Efficiency Through Views\n\nViews are NumPy's way of providing different perspectives \non the same data without copying it. This is crucial for:\n\n1. Memory efficiency: No duplication of large datasets\n2. Performance: No time spent copying\n3. Consistency: Changes visible everywhere\n\nWhen NumPy creates views:\n- Basic slicing (arr[1:5], arr[:, 2])\n- Reshaping (arr.reshape())\n- Transposing (arr.T)\n\nWhen NumPy creates copies:\n- Fancy indexing (arr[[1,3,5]])\n- Boolean indexing (arr[arr \u003e 0])\n- Explicit copy (arr.copy())\n\nTesting if something is a view:\narr.base is not None  # True if arr is a view\n\nThis pattern appears in:\n- Pandas DataFrames (views of underlying NumPy arrays)\n- Memory-mapped files (views of disk data)\n- GPU computing (avoiding expensive memory transfers)","position":{"start":{"line":2536,"column":1},"end":{"line":2563,"column":1}},"key":"FrcxU3GBtF"},{"type":"heading","depth":2,"position":{"start":{"line":2565,"column":1},"end":{"line":2565,"column":1}},"children":[{"type":"text","value":"7.5 Vectorization: Thinking in Arrays","position":{"start":{"line":2565,"column":1},"end":{"line":2565,"column":1}},"key":"wuPHeLwy83"}],"identifier":"id-7-5-vectorization-thinking-in-arrays","label":"7.5 Vectorization: Thinking in Arrays","html_id":"id-7-5-vectorization-thinking-in-arrays-1","implicit":true,"key":"SF2omqgMGE"},{"type":"paragraph","position":{"start":{"line":2567,"column":1},"end":{"line":2567,"column":1}},"children":[{"type":"text","value":"Vectorization is the key to NumPy’s performance. It means expressing operations on entire arrays rather than individual elements.","position":{"start":{"line":2567,"column":1},"end":{"line":2567,"column":1}},"key":"Uf1sxezp6V"}],"key":"Qw00pcOohq"},{"type":"heading","depth":3,"position":{"start":{"line":2569,"column":1},"end":{"line":2569,"column":1}},"children":[{"type":"text","value":"Universal Functions (ufuncs)","position":{"start":{"line":2569,"column":1},"end":{"line":2569,"column":1}},"key":"HbFVKMpz6Z"}],"identifier":"universal-functions-ufuncs","label":"Universal Functions (ufuncs)","html_id":"universal-functions-ufuncs-1","implicit":true,"key":"KAySR7HHEM"},{"type":"paragraph","position":{"start":{"line":2571,"column":1},"end":{"line":2571,"column":1}},"children":[{"type":"text","value":"NumPy provides “universal functions” that operate element-wise on arrays:","position":{"start":{"line":2571,"column":1},"end":{"line":2571,"column":1}},"key":"LegtpEcdV7"}],"key":"MpIJdzhB7k"},{"type":"code","lang":"python","value":"In [146]: # Arithmetic operations are vectorized\nIn [147]: a = np.array([1, 2, 3, 4])\nIn [148]: b = np.array([10, 20, 30, 40])\n\nIn [149]: print(f\"Addition: {a + b}\")\nIn [150]: print(f\"Multiplication: {a * b}\")\nIn [151]: print(f\"Power: {a ** 2}\")\nAddition: [11 22 33 44]\nMultiplication: [10 40 90 160]\nPower: [ 1  4  9 16]\n\nIn [152]: # Mathematical functions are vectorized\nIn [153]: angles = np.array([0, np.pi/4, np.pi/2, np.pi])\nIn [154]: print(f\"Sin: {np.sin(angles)}\")\nIn [155]: print(f\"Cos: {np.cos(angles)}\")\nSin: [0.000e+00 7.071e-01 1.000e+00 1.225e-16]\nCos: [ 1.000e+00  7.071e-01  6.123e-17 -1.000e+00]\n\nIn [156]: # Comparison operations are vectorized\nIn [157]: arr = np.arange(5)\nIn [158]: print(f\"Greater than 2: {arr \u003e 2}\")\nIn [159]: print(f\"Equal to 3: {arr == 3}\")\nGreater than 2: [False False False  True  True]\nEqual to 3: [False False False  True False]","position":{"start":{"line":2573,"column":1},"end":{"line":2598,"column":1}},"key":"wc0Ht0kdp4"},{"type":"heading","depth":3,"position":{"start":{"line":2600,"column":1},"end":{"line":2600,"column":1}},"children":[{"type":"text","value":"Vectorizing Custom Functions","position":{"start":{"line":2600,"column":1},"end":{"line":2600,"column":1}},"key":"GtOHVBNPf1"}],"identifier":"vectorizing-custom-functions","label":"Vectorizing Custom Functions","html_id":"vectorizing-custom-functions-1","implicit":true,"key":"Zgt6HSgjVT"},{"type":"paragraph","position":{"start":{"line":2602,"column":1},"end":{"line":2602,"column":1}},"children":[{"type":"text","value":"You can vectorize your own functions to work on arrays:","position":{"start":{"line":2602,"column":1},"end":{"line":2602,"column":1}},"key":"mDd10bHAZV"}],"key":"C2fwf8n1eB"},{"type":"code","lang":"python","value":"In [160]: # Scalar function\nIn [161]: def photon_energy(wavelength_nm):\n    ...:     \"\"\"Calculate photon energy in eV from wavelength in nm.\"\"\"\n    ...:     h = 4.135667e-15  # Planck constant in eV·s\n    ...:     c = 299792458     # Speed of light in m/s\n    ...:     return h * c / (wavelength_nm * 1e-9)\n\nIn [162]: # Works on single values\nIn [163]: print(f\"Energy at 500nm: {photon_energy(500):.2f} eV\")\nEnergy at 500nm: 2.48 eV\n\nIn [164]: # Vectorize to work on arrays\nIn [165]: photon_energy_vec = np.vectorize(photon_energy)\n\nIn [166]: # Now works on arrays!\nIn [167]: wavelengths = np.array([400, 500, 600, 700])\nIn [168]: energies = photon_energy_vec(wavelengths)\nIn [169]: print(f\"Energies: {energies}\")\nEnergies: [3.10 2.48 2.07 1.77]\n\n# Note: np.vectorize is convenient but not fast (it's still a Python loop)\n# For performance, write truly vectorized code:\nIn [170]: def photon_energy_fast(wavelength_nm):\n    ...:     \"\"\"Truly vectorized version.\"\"\"\n    ...:     h = 4.135667e-15\n    ...:     c = 299792458\n    ...:     return h * c / (wavelength_nm * 1e-9)  # Works on arrays!\n\nIn [171]: # This is much faster for large arrays\nIn [172]: large_wavelengths = np.random.uniform(300, 800, 100000)\nIn [173]: %timeit photon_energy_vec(large_wavelengths)  # 35.2 ms\nIn [174]: %timeit photon_energy_fast(large_wavelengths) # 326 µs (100x faster!)","position":{"start":{"line":2604,"column":1},"end":{"line":2637,"column":1}},"key":"XEMhY4hXFB"},{"type":"heading","depth":3,"position":{"start":{"line":2639,"column":1},"end":{"line":2639,"column":1}},"children":[{"type":"text","value":"Aggregation Functions","position":{"start":{"line":2639,"column":1},"end":{"line":2639,"column":1}},"key":"c02NEb3zze"}],"identifier":"aggregation-functions","label":"Aggregation Functions","html_id":"aggregation-functions-1","implicit":true,"key":"snbSaF5gwi"},{"type":"paragraph","position":{"start":{"line":2641,"column":1},"end":{"line":2641,"column":1}},"children":[{"type":"text","value":"Aggregations reduce arrays to scalar values or smaller arrays:","position":{"start":{"line":2641,"column":1},"end":{"line":2641,"column":1}},"key":"vJ0JZK16FG"}],"key":"kA7SYoYifC"},{"type":"code","lang":"python","value":"In [175]: data = np.random.randn(1000)\n\nIn [176]: # Basic statistics\nIn [177]: print(f\"Mean: {data.mean():.4f}\")\nIn [178]: print(f\"Std: {data.std():.4f}\")\nIn [179]: print(f\"Min: {data.min():.4f}\")\nIn [180]: print(f\"Max: {data.max():.4f}\")\nIn [181]: print(f\"Median: {np.median(data):.4f}\")\nMean: -0.0234\nStd: 0.9897\nMin: -3.2384\nMax: 3.0234\nMedian: -0.0365\n\nIn [182]: # Percentiles (useful for outlier detection)\nIn [183]: print(f\"5th percentile: {np.percentile(data, 5):.4f}\")\nIn [184]: print(f\"95th percentile: {np.percentile(data, 95):.4f}\")\n5th percentile: -1.6422\n95th percentile: 1.5967\n\nIn [185]: # Along specific axes for multidimensional arrays\nIn [186]: matrix = np.random.randn(3, 4)\nIn [187]: print(f\"Matrix:\\n{matrix}\")\nIn [188]: print(f\"Column means: {matrix.mean(axis=0)}\")  # Average each column\nIn [189]: print(f\"Row means: {matrix.mean(axis=1)}\")     # Average each row\nMatrix:\n[[-0.245  1.234 -0.567  0.891]\n [ 2.345 -1.234  0.123 -0.456]\n [ 0.789 -0.012  1.234 -2.345]]\nColumn means: [ 0.963 -0.004  0.263 -0.637]\nRow means: [ 0.328  0.195 -0.084]","position":{"start":{"line":2643,"column":1},"end":{"line":2675,"column":1}},"key":"vF675GPOE6"},{"type":"heading","depth":3,"position":{"start":{"line":2677,"column":1},"end":{"line":2677,"column":1}},"children":[{"type":"text","value":"🔍 ","position":{"start":{"line":2677,"column":1},"end":{"line":2677,"column":1}},"key":"ZD9ehczxww"},{"type":"strong","position":{"start":{"line":2677,"column":1},"end":{"line":2677,"column":1}},"children":[{"type":"text","value":"Check Your Understanding","position":{"start":{"line":2677,"column":1},"end":{"line":2677,"column":1}},"key":"AsID2tM4lc"}],"key":"DjSnGhyEPQ"}],"identifier":"id-check-your-understanding","label":"🔍 Check Your Understanding","html_id":"id-check-your-understanding-3","implicit":true,"key":"L9XF3bThmx"},{"type":"paragraph","position":{"start":{"line":2679,"column":1},"end":{"line":2679,"column":1}},"children":[{"type":"text","value":"Given a 2D array representing an image, how would you normalize it so all values are between 0 and 1?","position":{"start":{"line":2679,"column":1},"end":{"line":2679,"column":1}},"key":"q5DpEn1siE"}],"key":"vTbgKLJWZ8"},{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Answer","key":"GHfTkzjU7R"}],"key":"ltCXmnpbmq"},{"type":"paragraph","children":[{"type":"text","value":"There are several approaches depending on what you mean by normalization:","key":"xCSIbBcT43"}],"key":"oLDfo7Npx1"},{"type":"code","lang":"python","meta":null,"value":"# Create sample \"image\" data\nimage = np.random.randn(100, 100) * 50 + 128  # Centered at 128\n\n# Method 1: Min-Max normalization (scales to exact [0, 1])\ndef min_max_normalize(arr):\n    \"\"\"Scale array to [0, 1] range.\"\"\"\n    return (arr - arr.min()) / (arr.max() - arr.min())\n\nnormalized1 = min_max_normalize(image)\nprint(f\"Range: [{normalized1.min()}, {normalized1.max()}]\")  # [0.0, 1.0]\n\n# Method 2: Clipping to known range (e.g., 0-255 for 8-bit images)\ndef clip_normalize(arr, min_val=0, max_val=255):\n    \"\"\"Clip to range then normalize.\"\"\"\n    clipped = np.clip(arr, min_val, max_val)\n    return (clipped - min_val) / (max_val - min_val)\n\nnormalized2 = clip_normalize(image)\n\n# Method 3: Z-score normalization (mean=0, std=1, not [0,1])\ndef z_score_normalize(arr):\n    \"\"\"Standardize to mean=0, std=1.\"\"\"\n    return (arr - arr.mean()) / arr.std()\n\nstandardized = z_score_normalize(image)\nprint(f\"Mean: {standardized.mean():.6f}, Std: {standardized.std():.6f}\")\n\n# Important: Choose based on your needs!\n# - Min-max for display (guarantees [0,1])\n# - Clipping for known ranges\n# - Z-score for machine learning","key":"AOUEv58yOs"},{"type":"paragraph","children":[{"type":"text","value":"The key insight: vectorized operations make this efficient even for large images. No loops needed!","key":"CR3KCLntV4"}],"key":"h5Cck1rHg9"}],"key":"kCo1lXB1db"},{"type":"heading","depth":2,"position":{"start":{"line":2724,"column":1},"end":{"line":2724,"column":1}},"children":[{"type":"text","value":"7.6 Broadcasting: NumPy’s Superpower","position":{"start":{"line":2724,"column":1},"end":{"line":2724,"column":1}},"key":"oLQLWDNGvb"}],"identifier":"id-7-6-broadcasting-numpys-superpower","label":"7.6 Broadcasting: NumPy’s Superpower","html_id":"id-7-6-broadcasting-numpys-superpower-1","implicit":true,"key":"tSR8hTOikp"},{"type":"paragraph","position":{"start":{"line":2726,"column":1},"end":{"line":2726,"column":1}},"children":[{"type":"text","value":"Broadcasting allows NumPy to perform operations on arrays of different shapes without explicit loops or copies. It’s one of NumPy’s most powerful features.","position":{"start":{"line":2726,"column":1},"end":{"line":2726,"column":1}},"key":"oLkqrG9O89"}],"key":"Gdgy5N3EC2"},{"type":"heading","depth":3,"position":{"start":{"line":2728,"column":1},"end":{"line":2728,"column":1}},"children":[{"type":"text","value":"The Broadcasting Rules","position":{"start":{"line":2728,"column":1},"end":{"line":2728,"column":1}},"key":"s4d657vYDm"}],"identifier":"the-broadcasting-rules","label":"The Broadcasting Rules","html_id":"the-broadcasting-rules-1","implicit":true,"key":"aqn9FHOWrq"},{"type":"paragraph","position":{"start":{"line":2730,"column":1},"end":{"line":2730,"column":1}},"children":[{"type":"text","value":"Broadcasting follows simple rules to determine how arrays of different shapes can be combined:","position":{"start":{"line":2730,"column":1},"end":{"line":2730,"column":1}},"key":"bSnnyWVB5K"}],"key":"EcBTmrkMEY"},{"type":"mermaid","value":"flowchart TD\n    A[Arrays A and B] --\u003e B{Compare shapes\u003cbr/\u003eright to left}\n    B --\u003e C{Dimensions\u003cbr/\u003eequal?}\n    C --\u003e|Yes| D[Compatible]\n    C --\u003e|No| E{One dimension\u003cbr/\u003eis 1?}\n    E --\u003e|Yes| F[Broadcast:\u003cbr/\u003estretch size-1 dimension]\n    E --\u003e|No| G[Incompatible!\u003cbr/\u003eCannot broadcast]\n    \n    F --\u003e H[Perform operation]\n    D --\u003e H\n    \n    style D fill:#9f9\n    style F fill:#9ff\n    style G fill:#f99","key":"XZx3maG1yK"},{"type":"code","lang":"python","value":"In [190]: # Broadcasting in action\nIn [191]: arr = np.array([[1, 2, 3],\n    ...:                   [4, 5, 6],\n    ...:                   [7, 8, 9]])\n\nIn [192]: # Adding a scalar (broadcasts to all elements)\nIn [193]: print(f\"Array + 10:\\n{arr + 10}\")\nArray + 10:\n[[11 12 13]\n [14 15 16]\n [17 18 19]]\n\nIn [194]: # Adding a 1D array to rows (broadcasts to each row)\nIn [195]: row_vector = np.array([100, 200, 300])\nIn [196]: print(f\"Array + row vector:\\n{arr + row_vector}\")\nArray + row vector:\n[[101 202 303]\n [104 205 306]\n [107 208 309]]\n\nIn [197]: # Adding a column vector (broadcasts to each column)\nIn [198]: col_vector = np.array([[1000],\n    ...:                          [2000],\n    ...:                          [3000]])\nIn [199]: print(f\"Array + column vector:\\n{arr + col_vector}\")\nArray + column vector:\n[[1001 1002 1003]\n [2004 2005 2006]\n [3007 3008 3009]]","position":{"start":{"line":2749,"column":1},"end":{"line":2779,"column":1}},"key":"YYJxiYxyRH"},{"type":"heading","depth":3,"position":{"start":{"line":2781,"column":1},"end":{"line":2781,"column":1}},"children":[{"type":"text","value":"Practical Broadcasting Examples","position":{"start":{"line":2781,"column":1},"end":{"line":2781,"column":1}},"key":"optkTUnMFP"}],"identifier":"practical-broadcasting-examples","label":"Practical Broadcasting Examples","html_id":"practical-broadcasting-examples-1","implicit":true,"key":"yCSkeM962H"},{"type":"paragraph","position":{"start":{"line":2783,"column":1},"end":{"line":2783,"column":1}},"children":[{"type":"text","value":"Broadcasting makes many scientific calculations elegant:","position":{"start":{"line":2783,"column":1},"end":{"line":2783,"column":1}},"key":"i4HMaeQyYZ"}],"key":"toCReflYUe"},{"type":"code","lang":"python","value":"In [200]: # Normalize each column of a matrix\nIn [201]: data = np.random.randn(100, 3) * [10, 50, 100] + [0, 100, 200]\nIn [202]: print(f\"Original means: {data.mean(axis=0)}\")\nIn [203]: print(f\"Original stds: {data.std(axis=0)}\")\n\nIn [204]: # Subtract mean and divide by std for each column\nIn [205]: normalized = (data - data.mean(axis=0)) / data.std(axis=0)\nIn [206]: print(f\"Normalized means: {normalized.mean(axis=0)}\")  # ~0\nIn [207]: print(f\"Normalized stds: {normalized.std(axis=0)}\")    # ~1\nOriginal means: [  0.234  99.876 200.123]\nOriginal stds: [ 9.987 49.234 98.765]\nNormalized means: [-1.23e-17  2.45e-17  3.67e-17]\nNormalized stds: [1. 1. 1.]\n\nIn [208]: # Distance matrix between points\nIn [209]: points = np.random.randn(5, 2)  # 5 points in 2D\nIn [210]: # Use broadcasting to compute all pairwise differences\nIn [211]: diff = points[:, np.newaxis, :] - points[np.newaxis, :, :]\nIn [212]: # Shape: (5, 1, 2) - (1, 5, 2) = (5, 5, 2)\nIn [213]: distances = np.sqrt((diff**2).sum(axis=2))\nIn [214]: print(f\"Distance matrix:\\n{distances}\")\nDistance matrix:\n[[0.    1.234 2.345 0.567 1.890]\n [1.234 0.    1.567 0.890 2.234]\n [2.345 1.567 0.    1.234 0.789]\n [0.567 0.890 1.234 0.    1.456]\n [1.890 2.234 0.789 1.456 0.   ]]","position":{"start":{"line":2785,"column":1},"end":{"line":2813,"column":1}},"key":"AMAIMgUe3M"},{"type":"heading","depth":3,"position":{"start":{"line":2815,"column":1},"end":{"line":2815,"column":1}},"children":[{"type":"text","value":"⚠️ ","position":{"start":{"line":2815,"column":1},"end":{"line":2815,"column":1}},"key":"m9iXHjYBr5"},{"type":"strong","position":{"start":{"line":2815,"column":1},"end":{"line":2815,"column":1}},"children":[{"type":"text","value":"Common Bug Alert: Broadcasting Surprises","position":{"start":{"line":2815,"column":1},"end":{"line":2815,"column":1}},"key":"E8RYuO0pZI"}],"key":"LVBEwVLtj7"}],"identifier":"id-common-bug-alert-broadcasting-surprises","label":"⚠️ Common Bug Alert: Broadcasting Surprises","html_id":"id-common-bug-alert-broadcasting-surprises-1","implicit":true,"key":"ih6Kr0Biv9"},{"type":"code","lang":"python","value":"# UNEXPECTED: Broadcasting can hide dimension mismatches\na = np.array([[1, 2, 3]])     # Shape: (1, 3)\nb = np.array([[10], [20]])    # Shape: (2, 1)\n\n# This works but might not be what you intended!\nresult = a + b  # Broadcasts to (2, 3)\nprint(f\"Result:\\n{result}\")\n# [[11 12 13]\n#  [21 22 23]]\n\n# DEFENSIVE: Check shapes when unsure\ndef safe_add(a, b):\n    \"\"\"Add arrays with shape checking.\"\"\"\n    if a.shape != b.shape:\n        print(f\"Warning: Broadcasting {a.shape} and {b.shape}\")\n        print(f\"Result shape will be: {np.broadcast_shapes(a.shape, b.shape)}\")\n    return a + b\n\n# EXPLICIT: Use np.newaxis to be clear about intent\nrow = np.array([1, 2, 3])\ncol = np.array([10, 20])\n\n# Clear that we want to broadcast\nresult = row[np.newaxis, :] + col[:, np.newaxis]\nprint(f\"Explicit broadcasting:\\n{result}\")","position":{"start":{"line":2817,"column":1},"end":{"line":2843,"column":1}},"key":"AbAC6NnDIJ"},{"type":"heading","depth":2,"position":{"start":{"line":2845,"column":1},"end":{"line":2845,"column":1}},"children":[{"type":"text","value":"7.7 Mathematical Operations and Linear Algebra","position":{"start":{"line":2845,"column":1},"end":{"line":2845,"column":1}},"key":"SymW33n04U"}],"identifier":"id-7-7-mathematical-operations-and-linear-algebra","label":"7.7 Mathematical Operations and Linear Algebra","html_id":"id-7-7-mathematical-operations-and-linear-algebra-1","implicit":true,"key":"iSTbGVAttA"},{"type":"paragraph","position":{"start":{"line":2847,"column":1},"end":{"line":2847,"column":1}},"children":[{"type":"text","value":"NumPy provides a comprehensive suite of mathematical functions optimized for arrays.","position":{"start":{"line":2847,"column":1},"end":{"line":2847,"column":1}},"key":"ffFFyZTgbP"}],"key":"AO0IsLV5QI"},{"type":"heading","depth":3,"position":{"start":{"line":2849,"column":1},"end":{"line":2849,"column":1}},"children":[{"type":"text","value":"Element-wise Mathematics","position":{"start":{"line":2849,"column":1},"end":{"line":2849,"column":1}},"key":"cn8mTfKZws"}],"identifier":"element-wise-mathematics","label":"Element-wise Mathematics","html_id":"element-wise-mathematics-1","implicit":true,"key":"N14sJQS1oC"},{"type":"code","lang":"python","value":"In [215]: # Trigonometric functions\nIn [216]: angles = np.linspace(0, 2*np.pi, 5)\nIn [217]: print(f\"Sin: {np.sin(angles)}\")\nIn [218]: print(f\"Arcsin of 0.5: {np.arcsin(0.5)}\")\n\nIn [219]: # Exponential and logarithmic\nIn [220]: x = np.array([1, 2, 3])\nIn [221]: print(f\"Exp: {np.exp(x)}\")           # e^x\nIn [222]: print(f\"Log: {np.log(x)}\")           # Natural log\nIn [223]: print(f\"Log10: {np.log10(x)}\")       # Base-10 log\nIn [224]: print(f\"Exp2: {np.exp2(x)}\")         # 2^x\n\nIn [225]: # Special functions for scientific computing\nIn [226]: from scipy import special  # Extended special functions\nIn [227]: x = np.linspace(0, 10, 100)\nIn [228]: bessel = special.j0(x)  # Bessel function of first kind\nIn [229]: gamma = special.gamma(x + 1)  # Gamma function","position":{"start":{"line":2851,"column":1},"end":{"line":2869,"column":1}},"key":"Cz7hKPecoK"},{"type":"heading","depth":3,"position":{"start":{"line":2871,"column":1},"end":{"line":2871,"column":1}},"children":[{"type":"text","value":"Linear Algebra Operations","position":{"start":{"line":2871,"column":1},"end":{"line":2871,"column":1}},"key":"Cte77I4qr0"}],"identifier":"linear-algebra-operations","label":"Linear Algebra Operations","html_id":"linear-algebra-operations-1","implicit":true,"key":"drXSn8eaFI"},{"type":"paragraph","position":{"start":{"line":2873,"column":1},"end":{"line":2873,"column":1}},"children":[{"type":"text","value":"NumPy includes a full linear algebra module:","position":{"start":{"line":2873,"column":1},"end":{"line":2873,"column":1}},"key":"pPI6QW4SPi"}],"key":"MjUaSwoHYg"},{"type":"code","lang":"python","value":"In [230]: # Matrix multiplication\nIn [231]: A = np.array([[1, 2],\n    ...:                [3, 4]])\nIn [232]: B = np.array([[5, 6],\n    ...:                [7, 8]])\n\nIn [233]: # Element-wise multiplication (NOT matrix multiplication)\nIn [234]: print(f\"Element-wise A * B:\\n{A * B}\")\n\nIn [235]: # True matrix multiplication\nIn [236]: print(f\"Matrix multiplication A @ B:\\n{A @ B}\")\nIn [237]: # Or: np.dot(A, B) or np.matmul(A, B)\nElement-wise A * B:\n[[ 5 12]\n [21 32]]\nMatrix multiplication A @ B:\n[[19 22]\n [43 50]]\n\nIn [238]: # Common linear algebra operations\nIn [239]: matrix = np.array([[3, 1],\n    ...:                      [1, 2]])\n\nIn [240]: # Determinant\nIn [241]: det = np.linalg.det(matrix)\nIn [242]: print(f\"Determinant: {det}\")\n\nIn [243]: # Eigenvalues and eigenvectors\nIn [244]: eigenvalues, eigenvectors = np.linalg.eig(matrix)\nIn [245]: print(f\"Eigenvalues: {eigenvalues}\")\nIn [246]: print(f\"Eigenvectors:\\n{eigenvectors}\")\n\nIn [247]: # Inverse\nIn [248]: inverse = np.linalg.inv(matrix)\nIn [249]: print(f\"Inverse:\\n{inverse}\")\nIn [250]: print(f\"Check: A @ A^-1 =\\n{matrix @ inverse}\")  # Should be identity\n\nIn [251]: # Solving linear systems: Ax = b\nIn [252]: A = np.array([[3, 1],\n    ...:                [1, 2]])\nIn [253]: b = np.array([9, 8])\nIn [254]: x = np.linalg.solve(A, b)\nIn [255]: print(f\"Solution: {x}\")\nIn [256]: print(f\"Check: Ax = {A @ x}\")  # Should equal b","position":{"start":{"line":2875,"column":1},"end":{"line":2920,"column":1}},"key":"v99QO14hfa"},{"type":"heading","depth":3,"position":{"start":{"line":2922,"column":1},"end":{"line":2922,"column":1}},"children":[{"type":"text","value":"📦 ","position":{"start":{"line":2922,"column":1},"end":{"line":2922,"column":1}},"key":"VSTFqgUM8M"},{"type":"strong","position":{"start":{"line":2922,"column":1},"end":{"line":2922,"column":1}},"children":[{"type":"text","value":"Computational Thinking Box: Numerical Stability","position":{"start":{"line":2922,"column":1},"end":{"line":2922,"column":1}},"key":"Xd73bnMLEi"}],"key":"lzVw0VxBbE"}],"identifier":"id-computational-thinking-box-numerical-stability","label":"📦 Computational Thinking Box: Numerical Stability","html_id":"id-computational-thinking-box-numerical-stability-1","implicit":true,"key":"sq62f73R7e"},{"type":"code","lang":"","value":"PATTERN: Numerical Stability in Linear Algebra\n\nNot all mathematically correct operations are numerically stable.\nSmall floating-point errors can explode into wrong answers.\n\nExample: Solving Ax = b\n- Mathematically: x = A^(-1) @ b\n- Numerically: DON'T compute inverse! Use np.linalg.solve()\n\nWhy? Matrix inversion is:\n1. Expensive: O(n³) operations\n2. Unstable: Errors amplify with condition number\n3. Unnecessary: Solving systems is more stable\n\nCondition number measures sensitivity to errors:\ncond = np.linalg.cond(A)\n- cond ~ 1: Well-conditioned (stable)\n- cond \u003e\u003e 1: Ill-conditioned (unstable)\n- cond = ∞: Singular (no unique solution)\n\nThis pattern appears throughout scientific computing:\n- Use np.linalg.lstsq() for overdetermined systems\n- Use QR decomposition instead of normal equations\n- Use SVD for rank-deficient problems\n- Use specialized solvers for specific matrix structures\n\nThe lesson: Numerical computing ≠ symbolic math\nAlways consider stability, not just correctness.","position":{"start":{"line":2924,"column":1},"end":{"line":2953,"column":1}},"key":"SyJJeGqaRx"},{"type":"heading","depth":2,"position":{"start":{"line":2955,"column":1},"end":{"line":2955,"column":1}},"children":[{"type":"text","value":"7.8 Structured Arrays: Beyond Simple Numbers","position":{"start":{"line":2955,"column":1},"end":{"line":2955,"column":1}},"key":"vdKcqck3gt"}],"identifier":"id-7-8-structured-arrays-beyond-simple-numbers","label":"7.8 Structured Arrays: Beyond Simple Numbers","html_id":"id-7-8-structured-arrays-beyond-simple-numbers","implicit":true,"key":"fAw6rBjZmI"},{"type":"paragraph","position":{"start":{"line":2957,"column":1},"end":{"line":2957,"column":1}},"children":[{"type":"text","value":"NumPy can handle heterogeneous data through structured arrays, bridging the gap to databases and complex data:","position":{"start":{"line":2957,"column":1},"end":{"line":2957,"column":1}},"key":"ggZcgn22KI"}],"key":"cOWJJum6JC"},{"type":"code","lang":"python","value":"In [257]: # Define a structured dtype for star catalog\nIn [258]: star_dtype = np.dtype([\n    ...:     ('name', 'U20'),        # Unicode string, max 20 chars\n    ...:     ('ra', 'f8'),           # Right ascension (float64)\n    ...:     ('dec', 'f8'),          # Declination (float64)\n    ...:     ('magnitude', 'f4'),    # Apparent magnitude (float32)\n    ...:     ('spectral_type', 'U10') # Spectral classification\n    ...: ])\n\nIn [259]: # Create structured array\nIn [260]: stars = np.array([\n    ...:     ('Sirius', 101.287, -16.716, -1.46, 'A1V'),\n    ...:     ('Canopus', 95.988, -52.696, -0.74, 'A9II'),\n    ...:     ('Arcturus', 213.915, 19.182, -0.05, 'K1.5III'),\n    ...:     ('Vega', 279.234, 38.784, 0.03, 'A0V')\n    ...: ], dtype=star_dtype)\n\nIn [261]: # Access fields like object attributes\nIn [262]: print(f\"Names: {stars['name']}\")\nIn [263]: print(f\"Magnitudes: {stars['magnitude']}\")\nNames: ['Sirius' 'Canopus' 'Arcturus' 'Vega']\nMagnitudes: [-1.46 -0.74 -0.05  0.03]\n\nIn [264]: # Boolean indexing works with structured arrays\nIn [265]: bright = stars[stars['magnitude'] \u003c 0]\nIn [266]: print(f\"Bright stars: {bright['name']}\")\nBright stars: ['Sirius' 'Canopus' 'Arcturus']\n\nIn [267]: # Sorting by field\nIn [268]: sorted_stars = np.sort(stars, order='magnitude')\nIn [269]: print(f\"Sorted by brightness: {sorted_stars['name']}\")\nSorted by brightness: ['Sirius' 'Canopus' 'Arcturus' 'Vega']","position":{"start":{"line":2959,"column":1},"end":{"line":2992,"column":1}},"key":"AteZuNlKfL"},{"type":"paragraph","position":{"start":{"line":2994,"column":1},"end":{"line":2994,"column":1}},"children":[{"type":"text","value":"This connects to Chapter 6’s OOP concepts: structured arrays are like arrays of objects, but with better performance for large datasets. When you have millions of stars, structured arrays are more efficient than lists of Star objects.","position":{"start":{"line":2994,"column":1},"end":{"line":2994,"column":1}},"key":"fAfxvT33t1"}],"key":"H0iZrcfxcs"},{"type":"heading","depth":2,"position":{"start":{"line":2996,"column":1},"end":{"line":2996,"column":1}},"children":[{"type":"text","value":"7.9 Memory Management and Performance Tips","position":{"start":{"line":2996,"column":1},"end":{"line":2996,"column":1}},"key":"rCN4GsIC0p"}],"identifier":"id-7-9-memory-management-and-performance-tips","label":"7.9 Memory Management and Performance Tips","html_id":"id-7-9-memory-management-and-performance-tips","implicit":true,"key":"f4VmBmBXTi"},{"type":"paragraph","position":{"start":{"line":2998,"column":1},"end":{"line":2998,"column":1}},"children":[{"type":"text","value":"Understanding memory usage helps write efficient code for large datasets:","position":{"start":{"line":2998,"column":1},"end":{"line":2998,"column":1}},"key":"Zot02jGsbx"}],"key":"nFw6MOyBKO"},{"type":"heading","depth":3,"position":{"start":{"line":3000,"column":1},"end":{"line":3000,"column":1}},"children":[{"type":"text","value":"Memory Views and Copies","position":{"start":{"line":3000,"column":1},"end":{"line":3000,"column":1}},"key":"qNfH8lkA84"}],"identifier":"memory-views-and-copies","label":"Memory Views and Copies","html_id":"memory-views-and-copies","implicit":true,"key":"lktOBz1osk"},{"type":"code","lang":"python","value":"In [270]: # Check if array owns its data\nIn [271]: original = np.arange(1000000)\nIn [272]: view = original[::2]  # Every other element\nIn [273]: copy = original[::2].copy()\n\nIn [274]: print(f\"View owns data: {view.flags['OWNDATA']}\")  # False\nIn [275]: print(f\"Copy owns data: {copy.flags['OWNDATA']}\")  # True\nIn [276]: print(f\"View base is original: {view.base is original}\")  # True\n\nIn [277]: # Memory usage\nIn [278]: print(f\"Original size: {original.nbytes / 1e6:.1f} MB\")\nIn [279]: print(f\"View size: {view.nbytes / 1e6:.1f} MB\")  # Half size\nIn [280]: print(f\"But view doesn't use extra memory!\")","position":{"start":{"line":3002,"column":1},"end":{"line":3016,"column":1}},"key":"Pd091auAe4"},{"type":"heading","depth":3,"position":{"start":{"line":3018,"column":1},"end":{"line":3018,"column":1}},"children":[{"type":"text","value":"In-place Operations","position":{"start":{"line":3018,"column":1},"end":{"line":3018,"column":1}},"key":"viouhFDM1l"}],"identifier":"in-place-operations","label":"In-place Operations","html_id":"in-place-operations","implicit":true,"key":"DpxEdUlMYH"},{"type":"paragraph","position":{"start":{"line":3020,"column":1},"end":{"line":3020,"column":1}},"children":[{"type":"text","value":"Modify arrays in-place to save memory:","position":{"start":{"line":3020,"column":1},"end":{"line":3020,"column":1}},"key":"iAiK6iTTkm"}],"key":"C3Otw2dFjC"},{"type":"code","lang":"python","value":"In [281]: # Out-of-place (creates new array)\nIn [282]: a = np.arange(1000000, dtype=np.float64)\nIn [283]: b = a * 2  # New array created\n\nIn [284]: # In-place (modifies existing array)\nIn [285]: a *= 2  # No new array\n\nIn [286]: # Many functions have in-place versions\nIn [287]: arr = np.random.randn(1000, 1000)\nIn [288]: # Out-of-place\nIn [289]: normalized = arr / arr.std()\n\nIn [290]: # In-place\nIn [291]: arr /= arr.std()  # Modifies arr directly\n\nIn [292]: # Some functions have 'out' parameter\nIn [293]: result = np.empty_like(arr)\nIn [294]: np.sqrt(arr**2, out=result)  # Writes to existing array","position":{"start":{"line":3022,"column":1},"end":{"line":3041,"column":1}},"key":"FvG7vAc8LG"},{"type":"heading","depth":3,"position":{"start":{"line":3043,"column":1},"end":{"line":3043,"column":1}},"children":[{"type":"text","value":"🔊 ","position":{"start":{"line":3043,"column":1},"end":{"line":3043,"column":1}},"key":"nhggTEfFe5"},{"type":"strong","position":{"start":{"line":3043,"column":1},"end":{"line":3043,"column":1}},"children":[{"type":"text","value":"Performance Profile: Memory Access Patterns","position":{"start":{"line":3043,"column":1},"end":{"line":3043,"column":1}},"key":"oh6CZX0UzK"}],"key":"TpPVTvFOmx"}],"identifier":"id-performance-profile-memory-access-patterns","label":"🔊 Performance Profile: Memory Access Patterns","html_id":"id-performance-profile-memory-access-patterns","implicit":true,"key":"H5tT2sTLtu"},{"type":"code","lang":"python","value":"# Cache-friendly vs cache-unfriendly operations\nlarge = np.random.randn(10000, 10000)\n\n# Row-wise sum (cache-friendly for C-order arrays)\n%timeit large.sum(axis=1)  # 57.4 ms\n\n# Column-wise sum (cache-unfriendly for C-order arrays)\n%timeit large.sum(axis=0)  # 128 ms\n\n# Transpose makes column-wise cache-friendly\nlarge_T = large.T\n%timeit large_T.sum(axis=0)  # 58.1 ms (fast again!)\n\n# But transpose is just a view (no copy)\nprint(f\"Transpose is view: {large_T.base is large}\")  # True\n\n# For best performance:\n# 1. Access memory sequentially when possible\n# 2. Use contiguous arrays\n# 3. Consider memory layout for your access pattern","position":{"start":{"line":3045,"column":1},"end":{"line":3066,"column":1}},"key":"mfjdmJUVbZ"},{"type":"heading","depth":2,"position":{"start":{"line":3068,"column":1},"end":{"line":3068,"column":1}},"children":[{"type":"text","value":"7.10 Common Pitfalls and Debugging","position":{"start":{"line":3068,"column":1},"end":{"line":3068,"column":1}},"key":"tFv9D6yOji"}],"identifier":"id-7-10-common-pitfalls-and-debugging","label":"7.10 Common Pitfalls and Debugging","html_id":"id-7-10-common-pitfalls-and-debugging","implicit":true,"key":"ZC90v489F7"},{"type":"heading","depth":3,"position":{"start":{"line":3070,"column":1},"end":{"line":3070,"column":1}},"children":[{"type":"text","value":"Integer Division Changed in Python 3","position":{"start":{"line":3070,"column":1},"end":{"line":3070,"column":1}},"key":"fmiFxgtkhk"}],"identifier":"integer-division-changed-in-python-3","label":"Integer Division Changed in Python 3","html_id":"integer-division-changed-in-python-3","implicit":true,"key":"vfAHx2Va1w"},{"type":"code","lang":"python","value":"# Python 2 vs Python 3 difference that affects NumPy\narr = np.array([1, 2, 3, 4, 5])\n\n# Python 3: / always gives float\nprint(arr / 2)  # [0.5 1.  1.5 2.  2.5]\n\n# Use // for integer division\nprint(arr // 2)  # [0 1 1 2 2]","position":{"start":{"line":3072,"column":1},"end":{"line":3081,"column":1}},"key":"zTCm49GNJP"},{"type":"heading","depth":3,"position":{"start":{"line":3083,"column":1},"end":{"line":3083,"column":1}},"children":[{"type":"text","value":"Modifying Arrays During Iteration","position":{"start":{"line":3083,"column":1},"end":{"line":3083,"column":1}},"key":"RZ5B2TgHRg"}],"identifier":"modifying-arrays-during-iteration","label":"Modifying Arrays During Iteration","html_id":"modifying-arrays-during-iteration","implicit":true,"key":"ImQ5BMqzMZ"},{"type":"code","lang":"python","value":"# WRONG: Modifying array while iterating\narr = np.array([1, 2, 3, 4, 5])\nfor i, val in enumerate(arr):\n    if val \u003e 2:\n        arr[i] = 0  # Dangerous!\n\n# CORRECT: Use vectorized operations\narr[arr \u003e 2] = 0\n\n# Or if you must loop, work on a copy\nfor i, val in enumerate(arr.copy()):\n    if val \u003e 2:\n        arr[i] = 0","position":{"start":{"line":3085,"column":1},"end":{"line":3099,"column":1}},"key":"sBsQy4Dbfg"},{"type":"heading","depth":3,"position":{"start":{"line":3101,"column":1},"end":{"line":3101,"column":1}},"children":[{"type":"text","value":"🛠️ ","position":{"start":{"line":3101,"column":1},"end":{"line":3101,"column":1}},"key":"XjqSPT8HBd"},{"type":"strong","position":{"start":{"line":3101,"column":1},"end":{"line":3101,"column":1}},"children":[{"type":"text","value":"Debug This!","position":{"start":{"line":3101,"column":1},"end":{"line":3101,"column":1}},"key":"bDgdtQRMoc"}],"key":"oAamougP62"}],"identifier":"id-debug-this","label":"🛠️ Debug This!","html_id":"id-debug-this-1","implicit":true,"key":"DDVyFTqRz6"},{"type":"paragraph","position":{"start":{"line":3103,"column":1},"end":{"line":3103,"column":1}},"children":[{"type":"text","value":"This code has a subtle bug. Can you find it?","position":{"start":{"line":3103,"column":1},"end":{"line":3103,"column":1}},"key":"cvmMuM19cA"}],"key":"VHQCCtojE3"},{"type":"code","lang":"python","value":"def normalize_columns(data):\n    \"\"\"Normalize each column to have mean=0, std=1.\"\"\"\n    for col in range(data.shape[1]):\n        data[:, col] -= data[:, col].mean()\n        data[:, col] /= data[:, col].std()\n    return data\n\n# Test it\ntest_data = np.array([[1, 100],\n                       [2, 200],\n                       [3, 300]], dtype=np.float64)\n                       \nnormalized = normalize_columns(test_data)\nprint(f\"Original data:\\n{test_data}\")\nprint(f\"Normalized:\\n{normalized}\")","position":{"start":{"line":3105,"column":1},"end":{"line":3121,"column":1}},"key":"flLhcQS5MD"},{"type":"details","children":[{"type":"summary","children":[{"type":"text","value":"Bug and Solution","key":"eVl9yB80HG"}],"key":"wSgy7ssoyN"},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Bug","key":"kZWZO9xIcm"}],"key":"UfwadAgDMG"},{"type":"text","value":": The function modifies the input array in-place but also returns it, which can be confusing. Worse, the original data is lost!","key":"a1dejLu5HZ"}],"key":"yXJkGE6m10"},{"type":"paragraph","children":[{"type":"text","value":"After normalization, both ","key":"G92HR9wwtv"},{"type":"inlineCode","value":"test_data","key":"UBX6oRU9iQ"},{"type":"text","value":" and ","key":"BS6OYc4VhO"},{"type":"inlineCode","value":"normalized","key":"fSO7lmEua9"},{"type":"text","value":" point to the same modified array:","key":"M2LmR63DrY"}],"key":"C0nS2BZdOu"},{"type":"code","lang":"python","meta":null,"value":"print(test_data is normalized)  # True - same object!","key":"UQmUqic8Fo"},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Solutions","key":"wYWvx8yfj6"}],"key":"aHhcJHBEFY"},{"type":"text","value":":","key":"rbMcTVwOaJ"}],"key":"CZX7QraLgV"},{"type":"paragraph","children":[{"type":"text","value":"Option 1: Work on a copy","key":"xbHRABKx7B"}],"key":"EpEzaQYb6M"},{"type":"code","lang":"python","meta":null,"value":"def normalize_columns(data):\n    \"\"\"Normalize columns without modifying input.\"\"\"\n    result = data.copy()  # Work on copy\n    for col in range(result.shape[1]):\n        result[:, col] -= result[:, col].mean()\n        result[:, col] /= result[:, col].std()\n    return result","key":"yCYYoNYdbt"},{"type":"paragraph","children":[{"type":"text","value":"Option 2: Make in-place operation explicit","key":"h8Ata5d5b3"}],"key":"M8FuZdE4NM"},{"type":"code","lang":"python","meta":null,"value":"def normalize_columns_inplace(data):\n    \"\"\"Normalize columns in-place. Returns None.\"\"\"\n    for col in range(data.shape[1]):\n        data[:, col] -= data[:, col].mean()\n        data[:, col] /= data[:, col].std()\n    # Don't return anything for in-place operations","key":"sN42IT73ZK"},{"type":"paragraph","children":[{"type":"text","value":"Option 3: Use vectorization (best!)","key":"eRJEMt7pQU"}],"key":"mdE8rpMtav"},{"type":"code","lang":"python","meta":null,"value":"def normalize_columns_vectorized(data):\n    \"\"\"Vectorized normalization.\"\"\"\n    return (data - data.mean(axis=0)) / data.std(axis=0)","key":"szjMCcIfII"}],"key":"xAuu7cLh1U"},{"type":"heading","depth":2,"position":{"start":{"line":3165,"column":1},"end":{"line":3165,"column":1}},"children":[{"type":"text","value":"Practice Exercises","position":{"start":{"line":3165,"column":1},"end":{"line":3165,"column":1}},"key":"TI5UgyTFQi"}],"identifier":"practice-exercises","label":"Practice Exercises","html_id":"practice-exercises-1","implicit":true,"key":"EEOgLH6H3M"},{"type":"heading","depth":3,"position":{"start":{"line":3167,"column":1},"end":{"line":3167,"column":1}},"children":[{"type":"text","value":"Exercise 7.1: Implement Moving Average","position":{"start":{"line":3167,"column":1},"end":{"line":3167,"column":1}},"key":"RnxWYOC10p"}],"identifier":"exercise-7-1-implement-moving-average","label":"Exercise 7.1: Implement Moving Average","html_id":"exercise-7-1-implement-moving-average-1","implicit":true,"key":"ooGyUiL1SV"},{"type":"paragraph","position":{"start":{"line":3169,"column":1},"end":{"line":3169,"column":1}},"children":[{"type":"text","value":"Create a function that computes a moving average efficiently:","position":{"start":{"line":3169,"column":1},"end":{"line":3169,"column":1}},"key":"TZsQCUnc7J"}],"key":"SuS2GCQo1u"},{"type":"code","lang":"python","value":"\"\"\"\nImplement a moving average function that:\n1. Takes a 1D array and window size\n2. Returns array of moving averages\n3. Handles edge cases appropriately\n4. Is vectorized (no Python loops)\n\nExample:\ndata = [1, 2, 3, 4, 5]\nwindow = 3\nresult = [1.5, 2, 3, 4, 4.5]  # Edges handled with smaller windows\n\nHint: Consider np.convolve or clever use of cumsum\n\"\"\"\n\ndef moving_average(data, window_size):\n    \"\"\"Compute moving average using vectorization.\"\"\"\n    # Your implementation here\n    pass\n\n# Test cases\ntest_data = np.random.randn(1000)\nma = moving_average(test_data, 10)\nassert len(ma) == len(test_data)\nassert np.isfinite(ma).all()","position":{"start":{"line":3171,"column":1},"end":{"line":3197,"column":1}},"key":"Tm2NorfMxr"},{"type":"heading","depth":3,"position":{"start":{"line":3199,"column":1},"end":{"line":3199,"column":1}},"children":[{"type":"text","value":"Exercise 7.2: Image Processing with Broadcasting","position":{"start":{"line":3199,"column":1},"end":{"line":3199,"column":1}},"key":"WvuiN2nKX2"}],"identifier":"exercise-7-2-image-processing-with-broadcasting","label":"Exercise 7.2: Image Processing with Broadcasting","html_id":"exercise-7-2-image-processing-with-broadcasting-1","implicit":true,"key":"iSH6ZIZLGp"},{"type":"paragraph","position":{"start":{"line":3201,"column":1},"end":{"line":3201,"column":1}},"children":[{"type":"text","value":"Implement image transformations using broadcasting:","position":{"start":{"line":3201,"column":1},"end":{"line":3201,"column":1}},"key":"AtjD5PQXsD"}],"key":"m6oWnm2Vf7"},{"type":"code","lang":"python","value":"\"\"\"\nCreate functions for basic image processing:\n1. Brightness adjustment (add constant to all pixels)\n2. Contrast adjustment (multiply all pixels)\n3. Gamma correction (power transformation)\n4. Color channel mixing (for RGB images)\n\nWork with images as arrays where:\n- Grayscale: (height, width)\n- RGB: (height, width, 3)\n\nUse broadcasting to avoid loops!\n\"\"\"\n\ndef adjust_brightness(image, delta):\n    \"\"\"Adjust brightness by adding delta.\"\"\"\n    # Ensure result stays in valid range [0, 255] or [0, 1]\n    pass\n\ndef adjust_gamma(image, gamma):\n    \"\"\"Apply gamma correction: out = in^gamma.\"\"\"\n    pass\n\ndef rgb_to_grayscale(rgb_image):\n    \"\"\"Convert RGB to grayscale using standard weights:\n    gray = 0.299*R + 0.587*G + 0.114*B\n    \"\"\"\n    pass\n\n# Test with synthetic image\ntest_rgb = np.random.rand(100, 100, 3)\ngray = rgb_to_grayscale(test_rgb)\nassert gray.shape == (100, 100)","position":{"start":{"line":3203,"column":1},"end":{"line":3237,"column":1}},"key":"gVQbd3iy9K"},{"type":"heading","depth":3,"position":{"start":{"line":3239,"column":1},"end":{"line":3239,"column":1}},"children":[{"type":"text","value":"Exercise 7.3: Optimize Star Catalog Operations","position":{"start":{"line":3239,"column":1},"end":{"line":3239,"column":1}},"key":"TCZGsp4UUa"}],"identifier":"exercise-7-3-optimize-star-catalog-operations","label":"Exercise 7.3: Optimize Star Catalog Operations","html_id":"exercise-7-3-optimize-star-catalog-operations-1","implicit":true,"key":"DBAw3WqhD8"},{"type":"paragraph","position":{"start":{"line":3241,"column":1},"end":{"line":3241,"column":1}},"children":[{"type":"text","value":"Compare different approaches for astronomical calculations:","position":{"start":{"line":3241,"column":1},"end":{"line":3241,"column":1}},"key":"A4WbdgrjJY"}],"key":"eObs50UKp6"},{"type":"code","lang":"python","value":"\"\"\"\nGiven a star catalog with positions and magnitudes,\nimplement these operations multiple ways and compare performance:\n\n1. Find all stars within a given angular distance from a point\n2. Calculate total flux from all stars (flux = 10^(-0.4 * magnitude))\n3. Find the brightest N stars in a region\n\nImplement using:\na) Pure Python loops (baseline)\nb) NumPy vectorization\nc) Boolean masking\n\nMeasure performance differences.\n\"\"\"\n\n# Generate synthetic catalog\nn_stars = 100000\ncatalog = {\n    'ra': np.random.uniform(0, 360, n_stars),      # Right ascension\n    'dec': np.random.uniform(-90, 90, n_stars),    # Declination  \n    'mag': np.random.uniform(-1, 20, n_stars)      # Magnitude\n}\n\ndef find_nearby_stars_loop(catalog, ra_center, dec_center, radius):\n    \"\"\"Pure Python implementation.\"\"\"\n    # Your implementation\n    pass\n\ndef find_nearby_stars_numpy(catalog, ra_center, dec_center, radius):\n    \"\"\"Vectorized NumPy implementation.\"\"\"\n    # Your implementation\n    # Hint: Use broadcasting for angular distance\n    pass\n\n# Compare performance\nimport time\n# Your timing code here","position":{"start":{"line":3243,"column":1},"end":{"line":3282,"column":1}},"key":"mCf311P30X"},{"type":"heading","depth":3,"position":{"start":{"line":3284,"column":1},"end":{"line":3284,"column":1}},"children":[{"type":"text","value":"Exercise 7.4: Memory-Efficient Large Array Processing","position":{"start":{"line":3284,"column":1},"end":{"line":3284,"column":1}},"key":"BJ7Q1D67kt"}],"identifier":"exercise-7-4-memory-efficient-large-array-processing","label":"Exercise 7.4: Memory-Efficient Large Array Processing","html_id":"exercise-7-4-memory-efficient-large-array-processing-1","implicit":true,"key":"WacmyYJUsb"},{"type":"paragraph","position":{"start":{"line":3286,"column":1},"end":{"line":3286,"column":1}},"children":[{"type":"text","value":"Work with arrays too large to fit in memory:","position":{"start":{"line":3286,"column":1},"end":{"line":3286,"column":1}},"key":"N5pjO7ZNUA"}],"key":"H34ct9Dxwt"},{"type":"code","lang":"python","value":"\"\"\"\nProcess a large dataset in chunks to avoid memory issues:\n\n1. Create a large dataset (simulate with smaller array)\n2. Process in chunks of fixed size\n3. Combine results appropriately\n\nExample task: Calculate statistics for a 10GB array\non a machine with 4GB RAM.\n\nImplement:\n- Chunked mean calculation\n- Chunked standard deviation (trickier!)\n- Chunked percentiles\n\"\"\"\n\ndef chunked_mean(data_generator, chunk_size=1000000):\n    \"\"\"Calculate mean of data that comes in chunks.\"\"\"\n    total_sum = 0\n    total_count = 0\n    \n    for chunk in data_generator:\n        # Your implementation\n        pass\n    \n    return total_sum / total_count\n\ndef chunked_std(data_generator, chunk_size=1000000):\n    \"\"\"Calculate standard deviation in chunks.\n    Hint: Use Welford's online algorithm or two-pass approach\n    \"\"\"\n    # Your implementation\n    pass\n\n# Test with generator that simulates large data\ndef data_generator(total_size, chunk_size):\n    \"\"\"Generate random data in chunks.\"\"\"\n    n_chunks = total_size // chunk_size\n    for _ in range(n_chunks):\n        yield np.random.randn(chunk_size)\n    \n    remainder = total_size % chunk_size\n    if remainder:\n        yield np.random.randn(remainder)\n\n# Verify your implementation\n# Should work even if total_size \u003e available memory","position":{"start":{"line":3288,"column":1},"end":{"line":3336,"column":1}},"key":"mGJEweADGq"},{"type":"heading","depth":2,"position":{"start":{"line":3338,"column":1},"end":{"line":3338,"column":1}},"children":[{"type":"text","value":"Key Takeaways","position":{"start":{"line":3338,"column":1},"end":{"line":3338,"column":1}},"key":"e96t43WI7v"}],"identifier":"key-takeaways","label":"Key Takeaways","html_id":"key-takeaways-1","implicit":true,"key":"ffrrFgsd1X"},{"type":"paragraph","position":{"start":{"line":3340,"column":1},"end":{"line":3340,"column":1}},"children":[{"type":"text","value":"✅ ","position":{"start":{"line":3340,"column":1},"end":{"line":3340,"column":1}},"key":"C32EXOTWJK"},{"type":"strong","position":{"start":{"line":3340,"column":1},"end":{"line":3340,"column":1}},"children":[{"type":"text","value":"NumPy arrays are not Python lists","position":{"start":{"line":3340,"column":1},"end":{"line":3340,"column":1}},"key":"dIQiKSNoaH"}],"key":"UezdYrpvhQ"},{"type":"text","value":" - They store homogeneous data in contiguous memory, enabling 10-100x performance improvements through vectorized operations in compiled code.","position":{"start":{"line":3340,"column":1},"end":{"line":3340,"column":1}},"key":"dtNMScgJEu"}],"key":"uOUSWYaLIf"},{"type":"paragraph","position":{"start":{"line":3342,"column":1},"end":{"line":3342,"column":1}},"children":[{"type":"text","value":"✅ ","position":{"start":{"line":3342,"column":1},"end":{"line":3342,"column":1}},"key":"fyLHXPVdHN"},{"type":"strong","position":{"start":{"line":3342,"column":1},"end":{"line":3342,"column":1}},"children":[{"type":"text","value":"Vectorization is the key mental shift","position":{"start":{"line":3342,"column":1},"end":{"line":3342,"column":1}},"key":"DJHADJPzXJ"}],"key":"jF7Y7WUl2u"},{"type":"text","value":" - Think in terms of operations on entire arrays, not individual elements. This leverages CPU vector instructions and eliminates Python loop overhead.","position":{"start":{"line":3342,"column":1},"end":{"line":3342,"column":1}},"key":"MYzb4T3g3j"}],"key":"NjqKedSIX4"},{"type":"paragraph","position":{"start":{"line":3344,"column":1},"end":{"line":3344,"column":1}},"children":[{"type":"text","value":"✅ ","position":{"start":{"line":3344,"column":1},"end":{"line":3344,"column":1}},"key":"Epf3kcvJ5T"},{"type":"strong","position":{"start":{"line":3344,"column":1},"end":{"line":3344,"column":1}},"children":[{"type":"text","value":"Broadcasting enables elegant code","position":{"start":{"line":3344,"column":1},"end":{"line":3344,"column":1}},"key":"mjKNv3GXIm"}],"key":"mB8tNx7SV6"},{"type":"text","value":" - Operations between arrays of different shapes follow simple rules, eliminating the need for explicit loops while maintaining memory efficiency.","position":{"start":{"line":3344,"column":1},"end":{"line":3344,"column":1}},"key":"sOUPJvA9od"}],"key":"V169GqdWOu"},{"type":"paragraph","position":{"start":{"line":3346,"column":1},"end":{"line":3346,"column":1}},"children":[{"type":"text","value":"✅ ","position":{"start":{"line":3346,"column":1},"end":{"line":3346,"column":1}},"key":"VeBcZF4h30"},{"type":"strong","position":{"start":{"line":3346,"column":1},"end":{"line":3346,"column":1}},"children":[{"type":"text","value":"Views vs copies matter for performance","position":{"start":{"line":3346,"column":1},"end":{"line":3346,"column":1}},"key":"iV2dtjQxeX"}],"key":"q1kX5QmJht"},{"type":"text","value":" - Basic slicing creates views (shared memory), while fancy indexing creates copies. Understanding this prevents bugs and memory issues.","position":{"start":{"line":3346,"column":1},"end":{"line":3346,"column":1}},"key":"SFgHpFM8wT"}],"key":"OPJudcwmU8"},{"type":"paragraph","position":{"start":{"line":3348,"column":1},"end":{"line":3348,"column":1}},"children":[{"type":"text","value":"✅ ","position":{"start":{"line":3348,"column":1},"end":{"line":3348,"column":1}},"key":"wequSTrXYp"},{"type":"strong","position":{"start":{"line":3348,"column":1},"end":{"line":3348,"column":1}},"children":[{"type":"text","value":"Data types affect both memory and precision","position":{"start":{"line":3348,"column":1},"end":{"line":3348,"column":1}},"key":"Is9KdP7LPT"}],"key":"Jq6KObtxuP"},{"type":"text","value":" - Choose float32 for speed/memory with acceptable precision loss, float64 for accuracy, and appropriate integer types for counting.","position":{"start":{"line":3348,"column":1},"end":{"line":3348,"column":1}},"key":"PVL10g89kt"}],"key":"wYRqjgza6h"},{"type":"paragraph","position":{"start":{"line":3350,"column":1},"end":{"line":3350,"column":1}},"children":[{"type":"text","value":"✅ ","position":{"start":{"line":3350,"column":1},"end":{"line":3350,"column":1}},"key":"tICKup3Vke"},{"type":"strong","position":{"start":{"line":3350,"column":1},"end":{"line":3350,"column":1}},"children":[{"type":"text","value":"Memory layout impacts performance","position":{"start":{"line":3350,"column":1},"end":{"line":3350,"column":1}},"key":"smnhO8npbM"}],"key":"U8tOmJqdfJ"},{"type":"text","value":" - Row-major (C) vs column-major (Fortran) ordering affects cache efficiency. Access patterns should match memory layout.","position":{"start":{"line":3350,"column":1},"end":{"line":3350,"column":1}},"key":"dOg8juZnMh"}],"key":"gPGLRsBD68"},{"type":"paragraph","position":{"start":{"line":3352,"column":1},"end":{"line":3352,"column":1}},"children":[{"type":"text","value":"✅ ","position":{"start":{"line":3352,"column":1},"end":{"line":3352,"column":1}},"key":"bltmzX67hz"},{"type":"strong","position":{"start":{"line":3352,"column":1},"end":{"line":3352,"column":1}},"children":[{"type":"text","value":"NumPy is the foundation","position":{"start":{"line":3352,"column":1},"end":{"line":3352,"column":1}},"key":"oCkYeJKb4m"}],"key":"NGdVYP0TE8"},{"type":"text","value":" - Every major scientific Python library builds on NumPy. Understanding NumPy deeply means understanding scientific Python.","position":{"start":{"line":3352,"column":1},"end":{"line":3352,"column":1}},"key":"KdiHusWsMJ"}],"key":"cANjzYqfWO"},{"type":"paragraph","position":{"start":{"line":3354,"column":1},"end":{"line":3354,"column":1}},"children":[{"type":"text","value":"✅ ","position":{"start":{"line":3354,"column":1},"end":{"line":3354,"column":1}},"key":"qtTVbUewTN"},{"type":"strong","position":{"start":{"line":3354,"column":1},"end":{"line":3354,"column":1}},"children":[{"type":"text","value":"Debugging NumPy requires different tools","position":{"start":{"line":3354,"column":1},"end":{"line":3354,"column":1}},"key":"Prr4CPF1u4"}],"key":"D2hG8OfoqU"},{"type":"text","value":" - Use shape, dtype, and flags attributes to understand arrays. Check for views vs copies, broadcasting behavior, and memory layout.","position":{"start":{"line":3354,"column":1},"end":{"line":3354,"column":1}},"key":"tejxQVLhzN"}],"key":"XloFDtbjiR"},{"type":"heading","depth":2,"position":{"start":{"line":3356,"column":1},"end":{"line":3356,"column":1}},"children":[{"type":"text","value":"Quick Reference Tables","position":{"start":{"line":3356,"column":1},"end":{"line":3356,"column":1}},"key":"x4aHpbLvvK"}],"identifier":"quick-reference-tables","label":"Quick Reference Tables","html_id":"quick-reference-tables-1","implicit":true,"key":"s1fJwwbzWt"},{"type":"heading","depth":3,"position":{"start":{"line":3358,"column":1},"end":{"line":3358,"column":1}},"children":[{"type":"text","value":"Array Creation Functions","position":{"start":{"line":3358,"column":1},"end":{"line":3358,"column":1}},"key":"h8kUmQIbX0"}],"identifier":"array-creation-functions","label":"Array Creation Functions","html_id":"array-creation-functions-1","implicit":true,"key":"x3kxZCpYzO"},{"type":"table","position":{"start":{"line":3360,"column":1},"end":{"line":3371,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3360,"column":1},"end":{"line":3360,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3360,"column":1},"end":{"line":3360,"column":1}},"children":[{"type":"text","value":"Function","position":{"start":{"line":3360,"column":1},"end":{"line":3360,"column":1}},"key":"rKjir32It0"}],"key":"L3mWzyjwdh"},{"type":"tableCell","header":true,"position":{"start":{"line":3360,"column":1},"end":{"line":3360,"column":1}},"children":[{"type":"text","value":"Purpose","position":{"start":{"line":3360,"column":1},"end":{"line":3360,"column":1}},"key":"ALuwqJWQTY"}],"key":"YWz3cIeizm"},{"type":"tableCell","header":true,"position":{"start":{"line":3360,"column":1},"end":{"line":3360,"column":1}},"children":[{"type":"text","value":"Example","position":{"start":{"line":3360,"column":1},"end":{"line":3360,"column":1}},"key":"eKjLh5vZPR"}],"key":"MakzjSsLTM"}],"key":"MWR0gJJjQx"},{"type":"tableRow","position":{"start":{"line":3362,"column":1},"end":{"line":3362,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3362,"column":1},"end":{"line":3362,"column":1}},"children":[{"type":"inlineCode","value":"np.array()","position":{"start":{"line":3362,"column":1},"end":{"line":3362,"column":1}},"key":"s28PU7gwEn"}],"key":"LjqCG27eOZ"},{"type":"tableCell","position":{"start":{"line":3362,"column":1},"end":{"line":3362,"column":1}},"children":[{"type":"text","value":"From Python sequence","position":{"start":{"line":3362,"column":1},"end":{"line":3362,"column":1}},"key":"mSC12ISPgo"}],"key":"IoSb2avGB5"},{"type":"tableCell","position":{"start":{"line":3362,"column":1},"end":{"line":3362,"column":1}},"children":[{"type":"inlineCode","value":"np.array([1, 2, 3])","position":{"start":{"line":3362,"column":1},"end":{"line":3362,"column":1}},"key":"uhdhoc9fRO"}],"key":"axxnG3a79W"}],"key":"CBFSMiq6gf"},{"type":"tableRow","position":{"start":{"line":3363,"column":1},"end":{"line":3363,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3363,"column":1},"end":{"line":3363,"column":1}},"children":[{"type":"inlineCode","value":"np.zeros()","position":{"start":{"line":3363,"column":1},"end":{"line":3363,"column":1}},"key":"jRDfoZQLoO"}],"key":"uJabmd4XJX"},{"type":"tableCell","position":{"start":{"line":3363,"column":1},"end":{"line":3363,"column":1}},"children":[{"type":"text","value":"Initialize with zeros","position":{"start":{"line":3363,"column":1},"end":{"line":3363,"column":1}},"key":"bnY6jDMYGf"}],"key":"ALNNbuxl4H"},{"type":"tableCell","position":{"start":{"line":3363,"column":1},"end":{"line":3363,"column":1}},"children":[{"type":"inlineCode","value":"np.zeros((3, 4))","position":{"start":{"line":3363,"column":1},"end":{"line":3363,"column":1}},"key":"dhcpGAq4Jf"}],"key":"GNjjWMag04"}],"key":"hQVf2LkDaI"},{"type":"tableRow","position":{"start":{"line":3364,"column":1},"end":{"line":3364,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3364,"column":1},"end":{"line":3364,"column":1}},"children":[{"type":"inlineCode","value":"np.ones()","position":{"start":{"line":3364,"column":1},"end":{"line":3364,"column":1}},"key":"Vr1xLbTekO"}],"key":"RlVzOx5kHc"},{"type":"tableCell","position":{"start":{"line":3364,"column":1},"end":{"line":3364,"column":1}},"children":[{"type":"text","value":"Initialize with ones","position":{"start":{"line":3364,"column":1},"end":{"line":3364,"column":1}},"key":"tdy30Mz7BY"}],"key":"NvofRx5h7f"},{"type":"tableCell","position":{"start":{"line":3364,"column":1},"end":{"line":3364,"column":1}},"children":[{"type":"inlineCode","value":"np.ones((2, 3))","position":{"start":{"line":3364,"column":1},"end":{"line":3364,"column":1}},"key":"qH8x0FLoFB"}],"key":"Wmd8V9w3xc"}],"key":"lC3UaKsFJ1"},{"type":"tableRow","position":{"start":{"line":3365,"column":1},"end":{"line":3365,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3365,"column":1},"end":{"line":3365,"column":1}},"children":[{"type":"inlineCode","value":"np.empty()","position":{"start":{"line":3365,"column":1},"end":{"line":3365,"column":1}},"key":"samgB6FLis"}],"key":"kf1kJ3Fk0Z"},{"type":"tableCell","position":{"start":{"line":3365,"column":1},"end":{"line":3365,"column":1}},"children":[{"type":"text","value":"Uninitialized (fast)","position":{"start":{"line":3365,"column":1},"end":{"line":3365,"column":1}},"key":"uEn5Tg3tw0"}],"key":"ugW6Fbr2H7"},{"type":"tableCell","position":{"start":{"line":3365,"column":1},"end":{"line":3365,"column":1}},"children":[{"type":"inlineCode","value":"np.empty((2, 2))","position":{"start":{"line":3365,"column":1},"end":{"line":3365,"column":1}},"key":"VmUmjF8m9v"}],"key":"WU6ITR1aPN"}],"key":"BGA2HjT8XG"},{"type":"tableRow","position":{"start":{"line":3366,"column":1},"end":{"line":3366,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3366,"column":1},"end":{"line":3366,"column":1}},"children":[{"type":"inlineCode","value":"np.arange()","position":{"start":{"line":3366,"column":1},"end":{"line":3366,"column":1}},"key":"xOBEnXOsdC"}],"key":"V8tjqNGc5J"},{"type":"tableCell","position":{"start":{"line":3366,"column":1},"end":{"line":3366,"column":1}},"children":[{"type":"text","value":"Range of values","position":{"start":{"line":3366,"column":1},"end":{"line":3366,"column":1}},"key":"jhxKolohff"}],"key":"NfsKBKPuYR"},{"type":"tableCell","position":{"start":{"line":3366,"column":1},"end":{"line":3366,"column":1}},"children":[{"type":"inlineCode","value":"np.arange(0, 10, 2)","position":{"start":{"line":3366,"column":1},"end":{"line":3366,"column":1}},"key":"tFwGcC3O4T"}],"key":"PQFDkSOKQy"}],"key":"J2A1bBhnml"},{"type":"tableRow","position":{"start":{"line":3367,"column":1},"end":{"line":3367,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3367,"column":1},"end":{"line":3367,"column":1}},"children":[{"type":"inlineCode","value":"np.linspace()","position":{"start":{"line":3367,"column":1},"end":{"line":3367,"column":1}},"key":"riK0Jh7LlO"}],"key":"C0hHPi2oV9"},{"type":"tableCell","position":{"start":{"line":3367,"column":1},"end":{"line":3367,"column":1}},"children":[{"type":"text","value":"N evenly spaced","position":{"start":{"line":3367,"column":1},"end":{"line":3367,"column":1}},"key":"RVouZv7Peg"}],"key":"eiihHc142G"},{"type":"tableCell","position":{"start":{"line":3367,"column":1},"end":{"line":3367,"column":1}},"children":[{"type":"inlineCode","value":"np.linspace(0, 1, 11)","position":{"start":{"line":3367,"column":1},"end":{"line":3367,"column":1}},"key":"FgM8eFbKXN"}],"key":"jFfDgUfPpr"}],"key":"sdgJmuzy9r"},{"type":"tableRow","position":{"start":{"line":3368,"column":1},"end":{"line":3368,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3368,"column":1},"end":{"line":3368,"column":1}},"children":[{"type":"inlineCode","value":"np.logspace()","position":{"start":{"line":3368,"column":1},"end":{"line":3368,"column":1}},"key":"S87KMPPGm7"}],"key":"NMFtx5pNto"},{"type":"tableCell","position":{"start":{"line":3368,"column":1},"end":{"line":3368,"column":1}},"children":[{"type":"text","value":"Log-spaced values","position":{"start":{"line":3368,"column":1},"end":{"line":3368,"column":1}},"key":"BrpA3vG8wQ"}],"key":"m0Eh5QM1cM"},{"type":"tableCell","position":{"start":{"line":3368,"column":1},"end":{"line":3368,"column":1}},"children":[{"type":"inlineCode","value":"np.logspace(0, 3, 4)","position":{"start":{"line":3368,"column":1},"end":{"line":3368,"column":1}},"key":"lMS1DLZhzx"}],"key":"DOkoKUOHxt"}],"key":"sMwF3DcHJk"},{"type":"tableRow","position":{"start":{"line":3369,"column":1},"end":{"line":3369,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3369,"column":1},"end":{"line":3369,"column":1}},"children":[{"type":"inlineCode","value":"np.eye()","position":{"start":{"line":3369,"column":1},"end":{"line":3369,"column":1}},"key":"CiSlmoYsCD"}],"key":"BdH3hvrvfD"},{"type":"tableCell","position":{"start":{"line":3369,"column":1},"end":{"line":3369,"column":1}},"children":[{"type":"text","value":"Identity matrix","position":{"start":{"line":3369,"column":1},"end":{"line":3369,"column":1}},"key":"HGeSsf4ds1"}],"key":"fqPapgT2Ab"},{"type":"tableCell","position":{"start":{"line":3369,"column":1},"end":{"line":3369,"column":1}},"children":[{"type":"inlineCode","value":"np.eye(3)","position":{"start":{"line":3369,"column":1},"end":{"line":3369,"column":1}},"key":"GvsVfX40gc"}],"key":"jt2wr0AhoN"}],"key":"ozipATQ093"},{"type":"tableRow","position":{"start":{"line":3370,"column":1},"end":{"line":3370,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3370,"column":1},"end":{"line":3370,"column":1}},"children":[{"type":"inlineCode","value":"np.random.rand()","position":{"start":{"line":3370,"column":1},"end":{"line":3370,"column":1}},"key":"AkNq9PS0sJ"}],"key":"Ywa2m24hfv"},{"type":"tableCell","position":{"start":{"line":3370,"column":1},"end":{"line":3370,"column":1}},"children":[{"type":"text","value":"Uniform [0,1)","position":{"start":{"line":3370,"column":1},"end":{"line":3370,"column":1}},"key":"PLyhQnRuBJ"}],"key":"WRYo5rDdnj"},{"type":"tableCell","position":{"start":{"line":3370,"column":1},"end":{"line":3370,"column":1}},"children":[{"type":"inlineCode","value":"np.random.rand(3, 3)","position":{"start":{"line":3370,"column":1},"end":{"line":3370,"column":1}},"key":"xzUDpWKUFu"}],"key":"KsnLE5QWXN"}],"key":"aAb1kTlnxR"},{"type":"tableRow","position":{"start":{"line":3371,"column":1},"end":{"line":3371,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3371,"column":1},"end":{"line":3371,"column":1}},"children":[{"type":"inlineCode","value":"np.random.randn()","position":{"start":{"line":3371,"column":1},"end":{"line":3371,"column":1}},"key":"J5ecmMTdOc"}],"key":"ZGvNPdHxo9"},{"type":"tableCell","position":{"start":{"line":3371,"column":1},"end":{"line":3371,"column":1}},"children":[{"type":"text","value":"Standard normal","position":{"start":{"line":3371,"column":1},"end":{"line":3371,"column":1}},"key":"MX0KWXO9WM"}],"key":"Of7hDtvTMG"},{"type":"tableCell","position":{"start":{"line":3371,"column":1},"end":{"line":3371,"column":1}},"children":[{"type":"inlineCode","value":"np.random.randn(3, 3)","position":{"start":{"line":3371,"column":1},"end":{"line":3371,"column":1}},"key":"vW5R6wRKQU"}],"key":"WMea2JbPU0"}],"key":"ArKOyI3CNw"}],"key":"OxLZfrU0kK"},{"type":"heading","depth":3,"position":{"start":{"line":3373,"column":1},"end":{"line":3373,"column":1}},"children":[{"type":"text","value":"Essential Array Attributes","position":{"start":{"line":3373,"column":1},"end":{"line":3373,"column":1}},"key":"xvsVyKhd8Y"}],"identifier":"essential-array-attributes","label":"Essential Array Attributes","html_id":"essential-array-attributes-1","implicit":true,"key":"hbwjq1QLKT"},{"type":"table","position":{"start":{"line":3375,"column":1},"end":{"line":3385,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3375,"column":1},"end":{"line":3375,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3375,"column":1},"end":{"line":3375,"column":1}},"children":[{"type":"text","value":"Attribute","position":{"start":{"line":3375,"column":1},"end":{"line":3375,"column":1}},"key":"VKtWukORSI"}],"key":"sKqJyVcvKF"},{"type":"tableCell","header":true,"position":{"start":{"line":3375,"column":1},"end":{"line":3375,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":3375,"column":1},"end":{"line":3375,"column":1}},"key":"AonvF56L5I"}],"key":"yxuOAE8X3p"},{"type":"tableCell","header":true,"position":{"start":{"line":3375,"column":1},"end":{"line":3375,"column":1}},"children":[{"type":"text","value":"Example Output","position":{"start":{"line":3375,"column":1},"end":{"line":3375,"column":1}},"key":"SHdlLyg84g"}],"key":"Rr1VFFXbJM"}],"key":"ZlU9onNkng"},{"type":"tableRow","position":{"start":{"line":3377,"column":1},"end":{"line":3377,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3377,"column":1},"end":{"line":3377,"column":1}},"children":[{"type":"inlineCode","value":".shape","position":{"start":{"line":3377,"column":1},"end":{"line":3377,"column":1}},"key":"cAN5Fdchcd"}],"key":"VFFKNtQmHy"},{"type":"tableCell","position":{"start":{"line":3377,"column":1},"end":{"line":3377,"column":1}},"children":[{"type":"text","value":"Dimensions","position":{"start":{"line":3377,"column":1},"end":{"line":3377,"column":1}},"key":"SqaLlg19i3"}],"key":"ARTfEkrI7T"},{"type":"tableCell","position":{"start":{"line":3377,"column":1},"end":{"line":3377,"column":1}},"children":[{"type":"inlineCode","value":"(3, 4)","position":{"start":{"line":3377,"column":1},"end":{"line":3377,"column":1}},"key":"z3XXIcGkCO"}],"key":"jFPX5q8E8o"}],"key":"dLTlKudcSt"},{"type":"tableRow","position":{"start":{"line":3378,"column":1},"end":{"line":3378,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3378,"column":1},"end":{"line":3378,"column":1}},"children":[{"type":"inlineCode","value":".ndim","position":{"start":{"line":3378,"column":1},"end":{"line":3378,"column":1}},"key":"Yv5BL1R1wM"}],"key":"qdDqMCXFdg"},{"type":"tableCell","position":{"start":{"line":3378,"column":1},"end":{"line":3378,"column":1}},"children":[{"type":"text","value":"Number of dimensions","position":{"start":{"line":3378,"column":1},"end":{"line":3378,"column":1}},"key":"GaxNwnQRwI"}],"key":"lenlakXQ4W"},{"type":"tableCell","position":{"start":{"line":3378,"column":1},"end":{"line":3378,"column":1}},"children":[{"type":"inlineCode","value":"2","position":{"start":{"line":3378,"column":1},"end":{"line":3378,"column":1}},"key":"KTvVTnz9AK"}],"key":"iz47r8jnlb"}],"key":"DAHQRGoWXp"},{"type":"tableRow","position":{"start":{"line":3379,"column":1},"end":{"line":3379,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3379,"column":1},"end":{"line":3379,"column":1}},"children":[{"type":"inlineCode","value":".size","position":{"start":{"line":3379,"column":1},"end":{"line":3379,"column":1}},"key":"AOqDzwuu1V"}],"key":"ZlRDTge3KP"},{"type":"tableCell","position":{"start":{"line":3379,"column":1},"end":{"line":3379,"column":1}},"children":[{"type":"text","value":"Total elements","position":{"start":{"line":3379,"column":1},"end":{"line":3379,"column":1}},"key":"zJMGb95vq2"}],"key":"IqtEYlSp7h"},{"type":"tableCell","position":{"start":{"line":3379,"column":1},"end":{"line":3379,"column":1}},"children":[{"type":"inlineCode","value":"12","position":{"start":{"line":3379,"column":1},"end":{"line":3379,"column":1}},"key":"cZ8GGAie9n"}],"key":"sHqB7n6wJo"}],"key":"JWMexDnjgj"},{"type":"tableRow","position":{"start":{"line":3380,"column":1},"end":{"line":3380,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3380,"column":1},"end":{"line":3380,"column":1}},"children":[{"type":"inlineCode","value":".dtype","position":{"start":{"line":3380,"column":1},"end":{"line":3380,"column":1}},"key":"InoqoLxJsf"}],"key":"Pfte4Xp2eV"},{"type":"tableCell","position":{"start":{"line":3380,"column":1},"end":{"line":3380,"column":1}},"children":[{"type":"text","value":"Data type","position":{"start":{"line":3380,"column":1},"end":{"line":3380,"column":1}},"key":"TmSnoUvO1y"}],"key":"dH6YlYTlif"},{"type":"tableCell","position":{"start":{"line":3380,"column":1},"end":{"line":3380,"column":1}},"children":[{"type":"inlineCode","value":"dtype('float64')","position":{"start":{"line":3380,"column":1},"end":{"line":3380,"column":1}},"key":"tH2QwqTTtG"}],"key":"HahiTqA5Wv"}],"key":"NRiQiILz25"},{"type":"tableRow","position":{"start":{"line":3381,"column":1},"end":{"line":3381,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3381,"column":1},"end":{"line":3381,"column":1}},"children":[{"type":"inlineCode","value":".nbytes","position":{"start":{"line":3381,"column":1},"end":{"line":3381,"column":1}},"key":"D5K4sOujLX"}],"key":"eqtoM3w68m"},{"type":"tableCell","position":{"start":{"line":3381,"column":1},"end":{"line":3381,"column":1}},"children":[{"type":"text","value":"Total bytes","position":{"start":{"line":3381,"column":1},"end":{"line":3381,"column":1}},"key":"V61gonjiJr"}],"key":"GUxuRTFtTB"},{"type":"tableCell","position":{"start":{"line":3381,"column":1},"end":{"line":3381,"column":1}},"children":[{"type":"inlineCode","value":"96","position":{"start":{"line":3381,"column":1},"end":{"line":3381,"column":1}},"key":"IQb1CN30rM"}],"key":"iievtCdb7s"}],"key":"MNs91xmWQu"},{"type":"tableRow","position":{"start":{"line":3382,"column":1},"end":{"line":3382,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3382,"column":1},"end":{"line":3382,"column":1}},"children":[{"type":"inlineCode","value":".T","position":{"start":{"line":3382,"column":1},"end":{"line":3382,"column":1}},"key":"gAPQwG7M7P"}],"key":"hokOj7vEDb"},{"type":"tableCell","position":{"start":{"line":3382,"column":1},"end":{"line":3382,"column":1}},"children":[{"type":"text","value":"Transpose","position":{"start":{"line":3382,"column":1},"end":{"line":3382,"column":1}},"key":"WlFmj72HpK"}],"key":"vYBDD8wwvF"},{"type":"tableCell","position":{"start":{"line":3382,"column":1},"end":{"line":3382,"column":1}},"children":[{"type":"text","value":"Array view","position":{"start":{"line":3382,"column":1},"end":{"line":3382,"column":1}},"key":"qPAAu9d8pH"}],"key":"E79Uj4tdcL"}],"key":"MVUXjxMrzx"},{"type":"tableRow","position":{"start":{"line":3383,"column":1},"end":{"line":3383,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3383,"column":1},"end":{"line":3383,"column":1}},"children":[{"type":"inlineCode","value":".flat","position":{"start":{"line":3383,"column":1},"end":{"line":3383,"column":1}},"key":"CLGQ4v1qeq"}],"key":"G9tWGiQgMD"},{"type":"tableCell","position":{"start":{"line":3383,"column":1},"end":{"line":3383,"column":1}},"children":[{"type":"text","value":"Flattened iterator","position":{"start":{"line":3383,"column":1},"end":{"line":3383,"column":1}},"key":"I2ljfuOW0x"}],"key":"Dx6ACr6KSv"},{"type":"tableCell","position":{"start":{"line":3383,"column":1},"end":{"line":3383,"column":1}},"children":[{"type":"text","value":"Iterator object","position":{"start":{"line":3383,"column":1},"end":{"line":3383,"column":1}},"key":"KyBLCmR9C3"}],"key":"ohtpA9rkag"}],"key":"HcL9BY28W4"},{"type":"tableRow","position":{"start":{"line":3384,"column":1},"end":{"line":3384,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3384,"column":1},"end":{"line":3384,"column":1}},"children":[{"type":"inlineCode","value":".real","position":{"start":{"line":3384,"column":1},"end":{"line":3384,"column":1}},"key":"U724s6TQQF"}],"key":"bLgyBx8368"},{"type":"tableCell","position":{"start":{"line":3384,"column":1},"end":{"line":3384,"column":1}},"children":[{"type":"text","value":"Real part","position":{"start":{"line":3384,"column":1},"end":{"line":3384,"column":1}},"key":"HJKYSrLy2K"}],"key":"iEOHjaQlkA"},{"type":"tableCell","position":{"start":{"line":3384,"column":1},"end":{"line":3384,"column":1}},"children":[{"type":"text","value":"Array","position":{"start":{"line":3384,"column":1},"end":{"line":3384,"column":1}},"key":"z5PnV9knVd"}],"key":"lIw5O7ujru"}],"key":"TBMvCkbRbw"},{"type":"tableRow","position":{"start":{"line":3385,"column":1},"end":{"line":3385,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3385,"column":1},"end":{"line":3385,"column":1}},"children":[{"type":"inlineCode","value":".imag","position":{"start":{"line":3385,"column":1},"end":{"line":3385,"column":1}},"key":"GNZHC4cj0q"}],"key":"XB6ZOiLNS3"},{"type":"tableCell","position":{"start":{"line":3385,"column":1},"end":{"line":3385,"column":1}},"children":[{"type":"text","value":"Imaginary part","position":{"start":{"line":3385,"column":1},"end":{"line":3385,"column":1}},"key":"cGz2PUhms6"}],"key":"rPbM7ieSJl"},{"type":"tableCell","position":{"start":{"line":3385,"column":1},"end":{"line":3385,"column":1}},"children":[{"type":"text","value":"Array","position":{"start":{"line":3385,"column":1},"end":{"line":3385,"column":1}},"key":"GTQWoJ6m00"}],"key":"ll3iZCd5SM"}],"key":"p283uuUI9h"}],"key":"cto5jiGlN7"},{"type":"heading","depth":3,"position":{"start":{"line":3387,"column":1},"end":{"line":3387,"column":1}},"children":[{"type":"text","value":"Common Array Methods","position":{"start":{"line":3387,"column":1},"end":{"line":3387,"column":1}},"key":"Njlc1waeWn"}],"identifier":"common-array-methods","label":"Common Array Methods","html_id":"common-array-methods-1","implicit":true,"key":"vR8wxeMt4K"},{"type":"table","position":{"start":{"line":3389,"column":1},"end":{"line":3402,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3389,"column":1},"end":{"line":3389,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3389,"column":1},"end":{"line":3389,"column":1}},"children":[{"type":"text","value":"Method","position":{"start":{"line":3389,"column":1},"end":{"line":3389,"column":1}},"key":"dy4K9ZwLe8"}],"key":"oUJSqTJeEz"},{"type":"tableCell","header":true,"position":{"start":{"line":3389,"column":1},"end":{"line":3389,"column":1}},"children":[{"type":"text","value":"Purpose","position":{"start":{"line":3389,"column":1},"end":{"line":3389,"column":1}},"key":"Iw7N1yZiZt"}],"key":"KNo3Zic8Dg"},{"type":"tableCell","header":true,"position":{"start":{"line":3389,"column":1},"end":{"line":3389,"column":1}},"children":[{"type":"text","value":"Example","position":{"start":{"line":3389,"column":1},"end":{"line":3389,"column":1}},"key":"A5pW4lje2H"}],"key":"KiBz5cfLAX"}],"key":"wafaoFatlE"},{"type":"tableRow","position":{"start":{"line":3391,"column":1},"end":{"line":3391,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3391,"column":1},"end":{"line":3391,"column":1}},"children":[{"type":"inlineCode","value":".reshape()","position":{"start":{"line":3391,"column":1},"end":{"line":3391,"column":1}},"key":"J19dGWhA3X"}],"key":"ZjYuejcRn1"},{"type":"tableCell","position":{"start":{"line":3391,"column":1},"end":{"line":3391,"column":1}},"children":[{"type":"text","value":"Change dimensions","position":{"start":{"line":3391,"column":1},"end":{"line":3391,"column":1}},"key":"UdfQwYqfep"}],"key":"Uc2rLof1lD"},{"type":"tableCell","position":{"start":{"line":3391,"column":1},"end":{"line":3391,"column":1}},"children":[{"type":"inlineCode","value":"arr.reshape(2, 3)","position":{"start":{"line":3391,"column":1},"end":{"line":3391,"column":1}},"key":"kfMT7MnrD5"}],"key":"pONogfb4hl"}],"key":"uS1MuTTwGI"},{"type":"tableRow","position":{"start":{"line":3392,"column":1},"end":{"line":3392,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3392,"column":1},"end":{"line":3392,"column":1}},"children":[{"type":"inlineCode","value":".flatten()","position":{"start":{"line":3392,"column":1},"end":{"line":3392,"column":1}},"key":"p0v7d53cft"}],"key":"t2iISMz8Wq"},{"type":"tableCell","position":{"start":{"line":3392,"column":1},"end":{"line":3392,"column":1}},"children":[{"type":"text","value":"To 1D copy","position":{"start":{"line":3392,"column":1},"end":{"line":3392,"column":1}},"key":"XYNQzDeLr2"}],"key":"KmMHt8F5Gq"},{"type":"tableCell","position":{"start":{"line":3392,"column":1},"end":{"line":3392,"column":1}},"children":[{"type":"inlineCode","value":"arr.flatten()","position":{"start":{"line":3392,"column":1},"end":{"line":3392,"column":1}},"key":"WL68gU5m36"}],"key":"srTrZPm4Lz"}],"key":"vPIFIVMmuM"},{"type":"tableRow","position":{"start":{"line":3393,"column":1},"end":{"line":3393,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3393,"column":1},"end":{"line":3393,"column":1}},"children":[{"type":"inlineCode","value":".ravel()","position":{"start":{"line":3393,"column":1},"end":{"line":3393,"column":1}},"key":"VsXYq1wZki"}],"key":"FKiTB6CVkM"},{"type":"tableCell","position":{"start":{"line":3393,"column":1},"end":{"line":3393,"column":1}},"children":[{"type":"text","value":"To 1D view/copy","position":{"start":{"line":3393,"column":1},"end":{"line":3393,"column":1}},"key":"mrB2KViNyG"}],"key":"GqNVXsu0if"},{"type":"tableCell","position":{"start":{"line":3393,"column":1},"end":{"line":3393,"column":1}},"children":[{"type":"inlineCode","value":"arr.ravel()","position":{"start":{"line":3393,"column":1},"end":{"line":3393,"column":1}},"key":"AVLvxVacxz"}],"key":"iXe2WGN1S6"}],"key":"rUO2JMmobC"},{"type":"tableRow","position":{"start":{"line":3394,"column":1},"end":{"line":3394,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3394,"column":1},"end":{"line":3394,"column":1}},"children":[{"type":"inlineCode","value":".transpose()","position":{"start":{"line":3394,"column":1},"end":{"line":3394,"column":1}},"key":"bZfhGqQ5ig"}],"key":"YwNra8QA2y"},{"type":"tableCell","position":{"start":{"line":3394,"column":1},"end":{"line":3394,"column":1}},"children":[{"type":"text","value":"Swap axes","position":{"start":{"line":3394,"column":1},"end":{"line":3394,"column":1}},"key":"R97R87PndD"}],"key":"BWNAdnWATd"},{"type":"tableCell","position":{"start":{"line":3394,"column":1},"end":{"line":3394,"column":1}},"children":[{"type":"inlineCode","value":"arr.transpose()","position":{"start":{"line":3394,"column":1},"end":{"line":3394,"column":1}},"key":"u3kofcydSI"}],"key":"aczDYtZ0go"}],"key":"XQTcnItBUJ"},{"type":"tableRow","position":{"start":{"line":3395,"column":1},"end":{"line":3395,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3395,"column":1},"end":{"line":3395,"column":1}},"children":[{"type":"inlineCode","value":".swapaxes()","position":{"start":{"line":3395,"column":1},"end":{"line":3395,"column":1}},"key":"roX5WhpzFh"}],"key":"Sz55koIGlf"},{"type":"tableCell","position":{"start":{"line":3395,"column":1},"end":{"line":3395,"column":1}},"children":[{"type":"text","value":"Swap two axes","position":{"start":{"line":3395,"column":1},"end":{"line":3395,"column":1}},"key":"BGQ9qWTy2f"}],"key":"bQYBccmx0a"},{"type":"tableCell","position":{"start":{"line":3395,"column":1},"end":{"line":3395,"column":1}},"children":[{"type":"inlineCode","value":"arr.swapaxes(0, 1)","position":{"start":{"line":3395,"column":1},"end":{"line":3395,"column":1}},"key":"i1ZXMj6Vwf"}],"key":"scYwoHicIy"}],"key":"ZR3fVnRbnr"},{"type":"tableRow","position":{"start":{"line":3396,"column":1},"end":{"line":3396,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3396,"column":1},"end":{"line":3396,"column":1}},"children":[{"type":"inlineCode","value":".sum()","position":{"start":{"line":3396,"column":1},"end":{"line":3396,"column":1}},"key":"vx4zS0HkPN"}],"key":"L4Cxs6hrQB"},{"type":"tableCell","position":{"start":{"line":3396,"column":1},"end":{"line":3396,"column":1}},"children":[{"type":"text","value":"Sum elements","position":{"start":{"line":3396,"column":1},"end":{"line":3396,"column":1}},"key":"aRTxgJAEC2"}],"key":"Wq18XPRXWf"},{"type":"tableCell","position":{"start":{"line":3396,"column":1},"end":{"line":3396,"column":1}},"children":[{"type":"inlineCode","value":"arr.sum(axis=0)","position":{"start":{"line":3396,"column":1},"end":{"line":3396,"column":1}},"key":"D9iP7nDdml"}],"key":"soqakj29N5"}],"key":"K2d3qXDOlo"},{"type":"tableRow","position":{"start":{"line":3397,"column":1},"end":{"line":3397,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3397,"column":1},"end":{"line":3397,"column":1}},"children":[{"type":"inlineCode","value":".mean()","position":{"start":{"line":3397,"column":1},"end":{"line":3397,"column":1}},"key":"oNUxEAugS3"}],"key":"X4HiYFaXkl"},{"type":"tableCell","position":{"start":{"line":3397,"column":1},"end":{"line":3397,"column":1}},"children":[{"type":"text","value":"Average","position":{"start":{"line":3397,"column":1},"end":{"line":3397,"column":1}},"key":"LVRRe8PCWb"}],"key":"LkN8Wi4St8"},{"type":"tableCell","position":{"start":{"line":3397,"column":1},"end":{"line":3397,"column":1}},"children":[{"type":"inlineCode","value":"arr.mean()","position":{"start":{"line":3397,"column":1},"end":{"line":3397,"column":1}},"key":"k3M3wSMCQN"}],"key":"wct1UDGRGW"}],"key":"GGkObUDcy6"},{"type":"tableRow","position":{"start":{"line":3398,"column":1},"end":{"line":3398,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3398,"column":1},"end":{"line":3398,"column":1}},"children":[{"type":"inlineCode","value":".std()","position":{"start":{"line":3398,"column":1},"end":{"line":3398,"column":1}},"key":"JMCMshiGNP"}],"key":"yhI9shtHRM"},{"type":"tableCell","position":{"start":{"line":3398,"column":1},"end":{"line":3398,"column":1}},"children":[{"type":"text","value":"Standard deviation","position":{"start":{"line":3398,"column":1},"end":{"line":3398,"column":1}},"key":"BsrjEppFvo"}],"key":"hLyObtupZC"},{"type":"tableCell","position":{"start":{"line":3398,"column":1},"end":{"line":3398,"column":1}},"children":[{"type":"inlineCode","value":"arr.std()","position":{"start":{"line":3398,"column":1},"end":{"line":3398,"column":1}},"key":"aShgWUPNFK"}],"key":"ixSqA9vC3K"}],"key":"oKcJmV4lG2"},{"type":"tableRow","position":{"start":{"line":3399,"column":1},"end":{"line":3399,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3399,"column":1},"end":{"line":3399,"column":1}},"children":[{"type":"inlineCode","value":".min()/.max()","position":{"start":{"line":3399,"column":1},"end":{"line":3399,"column":1}},"key":"di4q4z9l4J"}],"key":"lO8rPujbQL"},{"type":"tableCell","position":{"start":{"line":3399,"column":1},"end":{"line":3399,"column":1}},"children":[{"type":"text","value":"Extrema","position":{"start":{"line":3399,"column":1},"end":{"line":3399,"column":1}},"key":"mGFi9IHOdK"}],"key":"x62MOK29ir"},{"type":"tableCell","position":{"start":{"line":3399,"column":1},"end":{"line":3399,"column":1}},"children":[{"type":"inlineCode","value":"arr.max()","position":{"start":{"line":3399,"column":1},"end":{"line":3399,"column":1}},"key":"ApwQZxLEv0"}],"key":"sHZIfWftHU"}],"key":"C9Zz33MJQB"},{"type":"tableRow","position":{"start":{"line":3400,"column":1},"end":{"line":3400,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3400,"column":1},"end":{"line":3400,"column":1}},"children":[{"type":"inlineCode","value":".argmin()/.argmax()","position":{"start":{"line":3400,"column":1},"end":{"line":3400,"column":1}},"key":"DT1vFFxfoe"}],"key":"kLIW0NHg8l"},{"type":"tableCell","position":{"start":{"line":3400,"column":1},"end":{"line":3400,"column":1}},"children":[{"type":"text","value":"Index of extrema","position":{"start":{"line":3400,"column":1},"end":{"line":3400,"column":1}},"key":"l5YXReQRsZ"}],"key":"bBXmsKdQq9"},{"type":"tableCell","position":{"start":{"line":3400,"column":1},"end":{"line":3400,"column":1}},"children":[{"type":"inlineCode","value":"arr.argmax()","position":{"start":{"line":3400,"column":1},"end":{"line":3400,"column":1}},"key":"qkjLC8x27c"}],"key":"eiT2xQiQGI"}],"key":"pBWbpQYXv3"},{"type":"tableRow","position":{"start":{"line":3401,"column":1},"end":{"line":3401,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3401,"column":1},"end":{"line":3401,"column":1}},"children":[{"type":"inlineCode","value":".sort()","position":{"start":{"line":3401,"column":1},"end":{"line":3401,"column":1}},"key":"eG8cu6rDdC"}],"key":"Qd0bElHTxh"},{"type":"tableCell","position":{"start":{"line":3401,"column":1},"end":{"line":3401,"column":1}},"children":[{"type":"text","value":"Sort in-place","position":{"start":{"line":3401,"column":1},"end":{"line":3401,"column":1}},"key":"e8OfA7twdo"}],"key":"AR42pjzp1q"},{"type":"tableCell","position":{"start":{"line":3401,"column":1},"end":{"line":3401,"column":1}},"children":[{"type":"inlineCode","value":"arr.sort()","position":{"start":{"line":3401,"column":1},"end":{"line":3401,"column":1}},"key":"NuS2N6KGjP"}],"key":"sT4BwZUcJf"}],"key":"jB96nS29WA"},{"type":"tableRow","position":{"start":{"line":3402,"column":1},"end":{"line":3402,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3402,"column":1},"end":{"line":3402,"column":1}},"children":[{"type":"inlineCode","value":".copy()","position":{"start":{"line":3402,"column":1},"end":{"line":3402,"column":1}},"key":"Y8vWNIZVTB"}],"key":"cun734oTqk"},{"type":"tableCell","position":{"start":{"line":3402,"column":1},"end":{"line":3402,"column":1}},"children":[{"type":"text","value":"Deep copy","position":{"start":{"line":3402,"column":1},"end":{"line":3402,"column":1}},"key":"fuOiLUMElO"}],"key":"XdcgPwdsPD"},{"type":"tableCell","position":{"start":{"line":3402,"column":1},"end":{"line":3402,"column":1}},"children":[{"type":"inlineCode","value":"arr.copy()","position":{"start":{"line":3402,"column":1},"end":{"line":3402,"column":1}},"key":"RsalXNiB4e"}],"key":"VGUObHIRjD"}],"key":"NrckEeQ2RI"}],"key":"SZcrrRVpwR"},{"type":"heading","depth":3,"position":{"start":{"line":3404,"column":1},"end":{"line":3404,"column":1}},"children":[{"type":"text","value":"Mathematical Functions","position":{"start":{"line":3404,"column":1},"end":{"line":3404,"column":1}},"key":"bOqRbq7Jpt"}],"identifier":"mathematical-functions","label":"Mathematical Functions","html_id":"mathematical-functions","implicit":true,"key":"QSTMjT8wxf"},{"type":"table","position":{"start":{"line":3406,"column":1},"end":{"line":3417,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3406,"column":1},"end":{"line":3406,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3406,"column":1},"end":{"line":3406,"column":1}},"children":[{"type":"text","value":"Function","position":{"start":{"line":3406,"column":1},"end":{"line":3406,"column":1}},"key":"sjP8Ymxyk0"}],"key":"A7xur0sjA4"},{"type":"tableCell","header":true,"position":{"start":{"line":3406,"column":1},"end":{"line":3406,"column":1}},"children":[{"type":"text","value":"Purpose","position":{"start":{"line":3406,"column":1},"end":{"line":3406,"column":1}},"key":"mgb3NViLnL"}],"key":"JJ2w5aei4k"},{"type":"tableCell","header":true,"position":{"start":{"line":3406,"column":1},"end":{"line":3406,"column":1}},"children":[{"type":"text","value":"Example","position":{"start":{"line":3406,"column":1},"end":{"line":3406,"column":1}},"key":"laOVFCouNT"}],"key":"pVEmcCSqxy"}],"key":"aQSXDzHsGi"},{"type":"tableRow","position":{"start":{"line":3408,"column":1},"end":{"line":3408,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3408,"column":1},"end":{"line":3408,"column":1}},"children":[{"type":"inlineCode","value":"np.add()","position":{"start":{"line":3408,"column":1},"end":{"line":3408,"column":1}},"key":"mkbNMSsWfW"}],"key":"KY4lx3bu82"},{"type":"tableCell","position":{"start":{"line":3408,"column":1},"end":{"line":3408,"column":1}},"children":[{"type":"text","value":"Addition","position":{"start":{"line":3408,"column":1},"end":{"line":3408,"column":1}},"key":"ayHxl2pCS5"}],"key":"ZnGouSy396"},{"type":"tableCell","position":{"start":{"line":3408,"column":1},"end":{"line":3408,"column":1}},"children":[{"type":"inlineCode","value":"np.add(a, b)","position":{"start":{"line":3408,"column":1},"end":{"line":3408,"column":1}},"key":"Fwjieuhdck"},{"type":"text","value":" or ","position":{"start":{"line":3408,"column":1},"end":{"line":3408,"column":1}},"key":"qfoH2jRDWk"},{"type":"inlineCode","value":"a + b","position":{"start":{"line":3408,"column":1},"end":{"line":3408,"column":1}},"key":"P8VQbhRCZu"}],"key":"QfyJqMsTSn"}],"key":"nfXDY0oZMj"},{"type":"tableRow","position":{"start":{"line":3409,"column":1},"end":{"line":3409,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3409,"column":1},"end":{"line":3409,"column":1}},"children":[{"type":"inlineCode","value":"np.multiply()","position":{"start":{"line":3409,"column":1},"end":{"line":3409,"column":1}},"key":"HNIqfGJotr"}],"key":"zHgbw5c6Hu"},{"type":"tableCell","position":{"start":{"line":3409,"column":1},"end":{"line":3409,"column":1}},"children":[{"type":"text","value":"Element-wise multiply","position":{"start":{"line":3409,"column":1},"end":{"line":3409,"column":1}},"key":"j7rZmsvQQi"}],"key":"VlB5Syppci"},{"type":"tableCell","position":{"start":{"line":3409,"column":1},"end":{"line":3409,"column":1}},"children":[{"type":"inlineCode","value":"np.multiply(a, b)","position":{"start":{"line":3409,"column":1},"end":{"line":3409,"column":1}},"key":"CBOIYsg9oY"},{"type":"text","value":" or ","position":{"start":{"line":3409,"column":1},"end":{"line":3409,"column":1}},"key":"WndH29Umd4"},{"type":"inlineCode","value":"a * b","position":{"start":{"line":3409,"column":1},"end":{"line":3409,"column":1}},"key":"J7qiSDS6QF"}],"key":"SE1EmsWhbj"}],"key":"DNbwMf7DXb"},{"type":"tableRow","position":{"start":{"line":3410,"column":1},"end":{"line":3410,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3410,"column":1},"end":{"line":3410,"column":1}},"children":[{"type":"inlineCode","value":"np.dot()","position":{"start":{"line":3410,"column":1},"end":{"line":3410,"column":1}},"key":"SyofD1N5cA"}],"key":"Cd5dCs7BQK"},{"type":"tableCell","position":{"start":{"line":3410,"column":1},"end":{"line":3410,"column":1}},"children":[{"type":"text","value":"Dot product","position":{"start":{"line":3410,"column":1},"end":{"line":3410,"column":1}},"key":"hspxbtTrZg"}],"key":"xIrrh1g2Wi"},{"type":"tableCell","position":{"start":{"line":3410,"column":1},"end":{"line":3410,"column":1}},"children":[{"type":"inlineCode","value":"np.dot(a, b)","position":{"start":{"line":3410,"column":1},"end":{"line":3410,"column":1}},"key":"BfL3UYscHK"}],"key":"mc8Y4gsB0V"}],"key":"VwISYq05u2"},{"type":"tableRow","position":{"start":{"line":3411,"column":1},"end":{"line":3411,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3411,"column":1},"end":{"line":3411,"column":1}},"children":[{"type":"inlineCode","value":"np.matmul()","position":{"start":{"line":3411,"column":1},"end":{"line":3411,"column":1}},"key":"qJPfHVStL5"}],"key":"LCUqqJ77s6"},{"type":"tableCell","position":{"start":{"line":3411,"column":1},"end":{"line":3411,"column":1}},"children":[{"type":"text","value":"Matrix multiply","position":{"start":{"line":3411,"column":1},"end":{"line":3411,"column":1}},"key":"EHae5YkFLP"}],"key":"H7RVtmmmoN"},{"type":"tableCell","position":{"start":{"line":3411,"column":1},"end":{"line":3411,"column":1}},"children":[{"type":"inlineCode","value":"np.matmul(a, b)","position":{"start":{"line":3411,"column":1},"end":{"line":3411,"column":1}},"key":"CUyoAKGxNN"},{"type":"text","value":" or ","position":{"start":{"line":3411,"column":1},"end":{"line":3411,"column":1}},"key":"TAIjJNgq0F"},{"type":"inlineCode","value":"a @ b","position":{"start":{"line":3411,"column":1},"end":{"line":3411,"column":1}},"key":"GXHyeJRfNu"}],"key":"CamAdLUG26"}],"key":"mYYhm874gj"},{"type":"tableRow","position":{"start":{"line":3412,"column":1},"end":{"line":3412,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3412,"column":1},"end":{"line":3412,"column":1}},"children":[{"type":"inlineCode","value":"np.sqrt()","position":{"start":{"line":3412,"column":1},"end":{"line":3412,"column":1}},"key":"Y8IQAFuDxB"}],"key":"ggXWCyoxSd"},{"type":"tableCell","position":{"start":{"line":3412,"column":1},"end":{"line":3412,"column":1}},"children":[{"type":"text","value":"Square root","position":{"start":{"line":3412,"column":1},"end":{"line":3412,"column":1}},"key":"go1K84FZvr"}],"key":"jAij8mnpov"},{"type":"tableCell","position":{"start":{"line":3412,"column":1},"end":{"line":3412,"column":1}},"children":[{"type":"inlineCode","value":"np.sqrt(arr)","position":{"start":{"line":3412,"column":1},"end":{"line":3412,"column":1}},"key":"FDns9bBC4G"}],"key":"zQAqnwOAcM"}],"key":"n9GX13BvzT"},{"type":"tableRow","position":{"start":{"line":3413,"column":1},"end":{"line":3413,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3413,"column":1},"end":{"line":3413,"column":1}},"children":[{"type":"inlineCode","value":"np.exp()","position":{"start":{"line":3413,"column":1},"end":{"line":3413,"column":1}},"key":"HQlGRKz852"}],"key":"mlvfgpCCpE"},{"type":"tableCell","position":{"start":{"line":3413,"column":1},"end":{"line":3413,"column":1}},"children":[{"type":"text","value":"Exponential","position":{"start":{"line":3413,"column":1},"end":{"line":3413,"column":1}},"key":"qJnJeLlKbn"}],"key":"h7sDBu76RA"},{"type":"tableCell","position":{"start":{"line":3413,"column":1},"end":{"line":3413,"column":1}},"children":[{"type":"inlineCode","value":"np.exp(arr)","position":{"start":{"line":3413,"column":1},"end":{"line":3413,"column":1}},"key":"o0KR3SR9iG"}],"key":"KpDAI9KV6I"}],"key":"U7VokkqRCV"},{"type":"tableRow","position":{"start":{"line":3414,"column":1},"end":{"line":3414,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3414,"column":1},"end":{"line":3414,"column":1}},"children":[{"type":"inlineCode","value":"np.log()","position":{"start":{"line":3414,"column":1},"end":{"line":3414,"column":1}},"key":"oG6jsGrijj"}],"key":"obAyXlIqjV"},{"type":"tableCell","position":{"start":{"line":3414,"column":1},"end":{"line":3414,"column":1}},"children":[{"type":"text","value":"Natural log","position":{"start":{"line":3414,"column":1},"end":{"line":3414,"column":1}},"key":"BxwP2lYKjb"}],"key":"lY8KZHGQRJ"},{"type":"tableCell","position":{"start":{"line":3414,"column":1},"end":{"line":3414,"column":1}},"children":[{"type":"inlineCode","value":"np.log(arr)","position":{"start":{"line":3414,"column":1},"end":{"line":3414,"column":1}},"key":"inu9nXk4nN"}],"key":"HH8RDRnjXB"}],"key":"Hh6AYiHtCW"},{"type":"tableRow","position":{"start":{"line":3415,"column":1},"end":{"line":3415,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3415,"column":1},"end":{"line":3415,"column":1}},"children":[{"type":"inlineCode","value":"np.sin()/.cos()","position":{"start":{"line":3415,"column":1},"end":{"line":3415,"column":1}},"key":"HBlUTbS647"}],"key":"aldDOMh9U7"},{"type":"tableCell","position":{"start":{"line":3415,"column":1},"end":{"line":3415,"column":1}},"children":[{"type":"text","value":"Trigonometric","position":{"start":{"line":3415,"column":1},"end":{"line":3415,"column":1}},"key":"OUhcZIQFJD"}],"key":"lkVCYWStd4"},{"type":"tableCell","position":{"start":{"line":3415,"column":1},"end":{"line":3415,"column":1}},"children":[{"type":"inlineCode","value":"np.sin(arr)","position":{"start":{"line":3415,"column":1},"end":{"line":3415,"column":1}},"key":"t5SgSt11Xp"}],"key":"hhB8mCIkeJ"}],"key":"FyxzNGSKAx"},{"type":"tableRow","position":{"start":{"line":3416,"column":1},"end":{"line":3416,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3416,"column":1},"end":{"line":3416,"column":1}},"children":[{"type":"inlineCode","value":"np.abs()","position":{"start":{"line":3416,"column":1},"end":{"line":3416,"column":1}},"key":"w3ru7d1ccG"}],"key":"cuBKVPfITN"},{"type":"tableCell","position":{"start":{"line":3416,"column":1},"end":{"line":3416,"column":1}},"children":[{"type":"text","value":"Absolute value","position":{"start":{"line":3416,"column":1},"end":{"line":3416,"column":1}},"key":"lNJhQh3gPO"}],"key":"JBnoNXzDna"},{"type":"tableCell","position":{"start":{"line":3416,"column":1},"end":{"line":3416,"column":1}},"children":[{"type":"inlineCode","value":"np.abs(arr)","position":{"start":{"line":3416,"column":1},"end":{"line":3416,"column":1}},"key":"TZIoIrV7a1"}],"key":"QqfNI8BI7n"}],"key":"QzwcrsONQe"},{"type":"tableRow","position":{"start":{"line":3417,"column":1},"end":{"line":3417,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3417,"column":1},"end":{"line":3417,"column":1}},"children":[{"type":"inlineCode","value":"np.round()","position":{"start":{"line":3417,"column":1},"end":{"line":3417,"column":1}},"key":"sGkYXB1tyB"}],"key":"zeSca6T1UQ"},{"type":"tableCell","position":{"start":{"line":3417,"column":1},"end":{"line":3417,"column":1}},"children":[{"type":"text","value":"Round to nearest","position":{"start":{"line":3417,"column":1},"end":{"line":3417,"column":1}},"key":"DPTE8RnQ0f"}],"key":"zp0vOUSjS3"},{"type":"tableCell","position":{"start":{"line":3417,"column":1},"end":{"line":3417,"column":1}},"children":[{"type":"inlineCode","value":"np.round(arr, 2)","position":{"start":{"line":3417,"column":1},"end":{"line":3417,"column":1}},"key":"cENdkVRZYI"}],"key":"Brhp47bgSJ"}],"key":"tEQGndCROW"}],"key":"EYZntCr1vD"},{"type":"heading","depth":3,"position":{"start":{"line":3419,"column":1},"end":{"line":3419,"column":1}},"children":[{"type":"text","value":"Broadcasting Rules Quick Reference","position":{"start":{"line":3419,"column":1},"end":{"line":3419,"column":1}},"key":"CBUmZrKBmc"}],"identifier":"broadcasting-rules-quick-reference","label":"Broadcasting Rules Quick Reference","html_id":"broadcasting-rules-quick-reference-1","implicit":true,"key":"tOMvCulUCE"},{"type":"table","position":{"start":{"line":3421,"column":1},"end":{"line":3428,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3421,"column":1},"end":{"line":3421,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3421,"column":1},"end":{"line":3421,"column":1}},"children":[{"type":"text","value":"Shape A","position":{"start":{"line":3421,"column":1},"end":{"line":3421,"column":1}},"key":"MlOET2tJYI"}],"key":"mJ0GgvaEhI"},{"type":"tableCell","header":true,"position":{"start":{"line":3421,"column":1},"end":{"line":3421,"column":1}},"children":[{"type":"text","value":"Shape B","position":{"start":{"line":3421,"column":1},"end":{"line":3421,"column":1}},"key":"UGA7yqfJie"}],"key":"Zr90u0kaDK"},{"type":"tableCell","header":true,"position":{"start":{"line":3421,"column":1},"end":{"line":3421,"column":1}},"children":[{"type":"text","value":"Result","position":{"start":{"line":3421,"column":1},"end":{"line":3421,"column":1}},"key":"M0i5K5yUk2"}],"key":"Tm3mBSs92R"},{"type":"tableCell","header":true,"position":{"start":{"line":3421,"column":1},"end":{"line":3421,"column":1}},"children":[{"type":"text","value":"Rule Applied","position":{"start":{"line":3421,"column":1},"end":{"line":3421,"column":1}},"key":"zsdZC3X4cM"}],"key":"ii46gUehPq"}],"key":"Q8Rh38ijFA"},{"type":"tableRow","position":{"start":{"line":3423,"column":1},"end":{"line":3423,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3423,"column":1},"end":{"line":3423,"column":1}},"children":[{"type":"inlineCode","value":"(3,)","position":{"start":{"line":3423,"column":1},"end":{"line":3423,"column":1}},"key":"PUI7663YMq"}],"key":"QMknNSic4S"},{"type":"tableCell","position":{"start":{"line":3423,"column":1},"end":{"line":3423,"column":1}},"children":[{"type":"inlineCode","value":"()","position":{"start":{"line":3423,"column":1},"end":{"line":3423,"column":1}},"key":"XTjrJJ3jj9"}],"key":"Osa0pyxeu0"},{"type":"tableCell","position":{"start":{"line":3423,"column":1},"end":{"line":3423,"column":1}},"children":[{"type":"inlineCode","value":"(3,)","position":{"start":{"line":3423,"column":1},"end":{"line":3423,"column":1}},"key":"IbhGuXzjOc"}],"key":"kL22RK7vFZ"},{"type":"tableCell","position":{"start":{"line":3423,"column":1},"end":{"line":3423,"column":1}},"children":[{"type":"text","value":"Scalar broadcasts","position":{"start":{"line":3423,"column":1},"end":{"line":3423,"column":1}},"key":"cek7ZlEs06"}],"key":"Az4D1htbDX"}],"key":"SbY2lDN5YF"},{"type":"tableRow","position":{"start":{"line":3424,"column":1},"end":{"line":3424,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3424,"column":1},"end":{"line":3424,"column":1}},"children":[{"type":"inlineCode","value":"(3, 4)","position":{"start":{"line":3424,"column":1},"end":{"line":3424,"column":1}},"key":"lEMVXRsWyO"}],"key":"Ae00KRzwcI"},{"type":"tableCell","position":{"start":{"line":3424,"column":1},"end":{"line":3424,"column":1}},"children":[{"type":"inlineCode","value":"(4,)","position":{"start":{"line":3424,"column":1},"end":{"line":3424,"column":1}},"key":"Z9zSgmBuQ3"}],"key":"lw51UQTYMs"},{"type":"tableCell","position":{"start":{"line":3424,"column":1},"end":{"line":3424,"column":1}},"children":[{"type":"inlineCode","value":"(3, 4)","position":{"start":{"line":3424,"column":1},"end":{"line":3424,"column":1}},"key":"H6h9QSrDEe"}],"key":"JDDMJpTuf3"},{"type":"tableCell","position":{"start":{"line":3424,"column":1},"end":{"line":3424,"column":1}},"children":[{"type":"text","value":"1D broadcasts to rows","position":{"start":{"line":3424,"column":1},"end":{"line":3424,"column":1}},"key":"TPlcE0koEz"}],"key":"Ln4GfATexC"}],"key":"HhOt7gyNwp"},{"type":"tableRow","position":{"start":{"line":3425,"column":1},"end":{"line":3425,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3425,"column":1},"end":{"line":3425,"column":1}},"children":[{"type":"inlineCode","value":"(3, 4)","position":{"start":{"line":3425,"column":1},"end":{"line":3425,"column":1}},"key":"cYVbcfgGRc"}],"key":"dUT6CIGnac"},{"type":"tableCell","position":{"start":{"line":3425,"column":1},"end":{"line":3425,"column":1}},"children":[{"type":"inlineCode","value":"(3, 1)","position":{"start":{"line":3425,"column":1},"end":{"line":3425,"column":1}},"key":"fpIhiPULqX"}],"key":"ngibKx2E9a"},{"type":"tableCell","position":{"start":{"line":3425,"column":1},"end":{"line":3425,"column":1}},"children":[{"type":"inlineCode","value":"(3, 4)","position":{"start":{"line":3425,"column":1},"end":{"line":3425,"column":1}},"key":"ml2pZQmWY7"}],"key":"uMZdGIs9Gw"},{"type":"tableCell","position":{"start":{"line":3425,"column":1},"end":{"line":3425,"column":1}},"children":[{"type":"text","value":"Column broadcasts","position":{"start":{"line":3425,"column":1},"end":{"line":3425,"column":1}},"key":"tzqEmpSOke"}],"key":"ToGQOAg5ZS"}],"key":"j8AFF6a4mB"},{"type":"tableRow","position":{"start":{"line":3426,"column":1},"end":{"line":3426,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3426,"column":1},"end":{"line":3426,"column":1}},"children":[{"type":"inlineCode","value":"(3, 1, 4)","position":{"start":{"line":3426,"column":1},"end":{"line":3426,"column":1}},"key":"SbOAeoGgsq"}],"key":"DpBmiJYUQT"},{"type":"tableCell","position":{"start":{"line":3426,"column":1},"end":{"line":3426,"column":1}},"children":[{"type":"inlineCode","value":"(1, 5, 4)","position":{"start":{"line":3426,"column":1},"end":{"line":3426,"column":1}},"key":"u1ynN9hy9g"}],"key":"riqAl94dlw"},{"type":"tableCell","position":{"start":{"line":3426,"column":1},"end":{"line":3426,"column":1}},"children":[{"type":"inlineCode","value":"(3, 5, 4)","position":{"start":{"line":3426,"column":1},"end":{"line":3426,"column":1}},"key":"OHjLuL5lHG"}],"key":"jfjbsv1CC9"},{"type":"tableCell","position":{"start":{"line":3426,"column":1},"end":{"line":3426,"column":1}},"children":[{"type":"text","value":"Both broadcast","position":{"start":{"line":3426,"column":1},"end":{"line":3426,"column":1}},"key":"zlXmx8PJSS"}],"key":"Mv323ntijs"}],"key":"yE2QzuBQrZ"},{"type":"tableRow","position":{"start":{"line":3427,"column":1},"end":{"line":3427,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3427,"column":1},"end":{"line":3427,"column":1}},"children":[{"type":"inlineCode","value":"(3, 4)","position":{"start":{"line":3427,"column":1},"end":{"line":3427,"column":1}},"key":"ItGggYY2eO"}],"key":"MY4NwluFER"},{"type":"tableCell","position":{"start":{"line":3427,"column":1},"end":{"line":3427,"column":1}},"children":[{"type":"inlineCode","value":"(2, 3, 4)","position":{"start":{"line":3427,"column":1},"end":{"line":3427,"column":1}},"key":"NgIcMymD9P"}],"key":"jE4ZnlGLqh"},{"type":"tableCell","position":{"start":{"line":3427,"column":1},"end":{"line":3427,"column":1}},"children":[{"type":"inlineCode","value":"(2, 3, 4)","position":{"start":{"line":3427,"column":1},"end":{"line":3427,"column":1}},"key":"tC3E12eKSR"}],"key":"ZIvepkiuba"},{"type":"tableCell","position":{"start":{"line":3427,"column":1},"end":{"line":3427,"column":1}},"children":[{"type":"text","value":"Smaller adds dimensions","position":{"start":{"line":3427,"column":1},"end":{"line":3427,"column":1}},"key":"gdquvLcCQg"}],"key":"kojoGPJoBX"}],"key":"y9jmBMTtC3"},{"type":"tableRow","position":{"start":{"line":3428,"column":1},"end":{"line":3428,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3428,"column":1},"end":{"line":3428,"column":1}},"children":[{"type":"inlineCode","value":"(3, 4)","position":{"start":{"line":3428,"column":1},"end":{"line":3428,"column":1}},"key":"M4y9NpzIRk"}],"key":"T9uNk5dumd"},{"type":"tableCell","position":{"start":{"line":3428,"column":1},"end":{"line":3428,"column":1}},"children":[{"type":"inlineCode","value":"(5, 4)","position":{"start":{"line":3428,"column":1},"end":{"line":3428,"column":1}},"key":"mGAkyqiHbN"}],"key":"hNc7Acimcw"},{"type":"tableCell","position":{"start":{"line":3428,"column":1},"end":{"line":3428,"column":1}},"children":[{"type":"text","value":"Error!","position":{"start":{"line":3428,"column":1},"end":{"line":3428,"column":1}},"key":"YQIKIRqbP2"}],"key":"LnGxEM2h7a"},{"type":"tableCell","position":{"start":{"line":3428,"column":1},"end":{"line":3428,"column":1}},"children":[{"type":"text","value":"Incompatible","position":{"start":{"line":3428,"column":1},"end":{"line":3428,"column":1}},"key":"uXNPGoZmjH"}],"key":"RuNUfhwLrO"}],"key":"UK8vr3nauW"}],"key":"bk5JfqE74d"},{"type":"heading","depth":3,"position":{"start":{"line":3430,"column":1},"end":{"line":3430,"column":1}},"children":[{"type":"text","value":"Linear Algebra Functions","position":{"start":{"line":3430,"column":1},"end":{"line":3430,"column":1}},"key":"KxBvadCGeV"}],"identifier":"linear-algebra-functions","label":"Linear Algebra Functions","html_id":"linear-algebra-functions","implicit":true,"key":"fBgasEFzrs"},{"type":"table","position":{"start":{"line":3432,"column":1},"end":{"line":3441,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3432,"column":1},"end":{"line":3432,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3432,"column":1},"end":{"line":3432,"column":1}},"children":[{"type":"text","value":"Function","position":{"start":{"line":3432,"column":1},"end":{"line":3432,"column":1}},"key":"jmHTxdqy43"}],"key":"Lpkxmrr15Y"},{"type":"tableCell","header":true,"position":{"start":{"line":3432,"column":1},"end":{"line":3432,"column":1}},"children":[{"type":"text","value":"Purpose","position":{"start":{"line":3432,"column":1},"end":{"line":3432,"column":1}},"key":"odq0zoBMx8"}],"key":"C1VVAw8xXX"},{"type":"tableCell","header":true,"position":{"start":{"line":3432,"column":1},"end":{"line":3432,"column":1}},"children":[{"type":"text","value":"Example","position":{"start":{"line":3432,"column":1},"end":{"line":3432,"column":1}},"key":"Vgzjzoxlfx"}],"key":"SSg6Czj9VA"}],"key":"MWUiPylzQx"},{"type":"tableRow","position":{"start":{"line":3434,"column":1},"end":{"line":3434,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3434,"column":1},"end":{"line":3434,"column":1}},"children":[{"type":"inlineCode","value":"np.linalg.inv()","position":{"start":{"line":3434,"column":1},"end":{"line":3434,"column":1}},"key":"lfQl2FpyuR"}],"key":"tXYcJJ6OIS"},{"type":"tableCell","position":{"start":{"line":3434,"column":1},"end":{"line":3434,"column":1}},"children":[{"type":"text","value":"Matrix inverse","position":{"start":{"line":3434,"column":1},"end":{"line":3434,"column":1}},"key":"Ta9QfWdbqN"}],"key":"zS1QaYTxHg"},{"type":"tableCell","position":{"start":{"line":3434,"column":1},"end":{"line":3434,"column":1}},"children":[{"type":"inlineCode","value":"np.linalg.inv(A)","position":{"start":{"line":3434,"column":1},"end":{"line":3434,"column":1}},"key":"pZD3mH9r9H"}],"key":"dc1NEK330v"}],"key":"XpGSBgJ2HQ"},{"type":"tableRow","position":{"start":{"line":3435,"column":1},"end":{"line":3435,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3435,"column":1},"end":{"line":3435,"column":1}},"children":[{"type":"inlineCode","value":"np.linalg.det()","position":{"start":{"line":3435,"column":1},"end":{"line":3435,"column":1}},"key":"IvnCiicUHN"}],"key":"w1ZviA5rT3"},{"type":"tableCell","position":{"start":{"line":3435,"column":1},"end":{"line":3435,"column":1}},"children":[{"type":"text","value":"Determinant","position":{"start":{"line":3435,"column":1},"end":{"line":3435,"column":1}},"key":"kUOXShyi55"}],"key":"xUN1q4jzXL"},{"type":"tableCell","position":{"start":{"line":3435,"column":1},"end":{"line":3435,"column":1}},"children":[{"type":"inlineCode","value":"np.linalg.det(A)","position":{"start":{"line":3435,"column":1},"end":{"line":3435,"column":1}},"key":"AH8MmkYl7M"}],"key":"qIBjaxF1KT"}],"key":"vpbaNtjVs0"},{"type":"tableRow","position":{"start":{"line":3436,"column":1},"end":{"line":3436,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3436,"column":1},"end":{"line":3436,"column":1}},"children":[{"type":"inlineCode","value":"np.linalg.eig()","position":{"start":{"line":3436,"column":1},"end":{"line":3436,"column":1}},"key":"JuNToLfuDp"}],"key":"CzXofsud6h"},{"type":"tableCell","position":{"start":{"line":3436,"column":1},"end":{"line":3436,"column":1}},"children":[{"type":"text","value":"Eigenvalues/vectors","position":{"start":{"line":3436,"column":1},"end":{"line":3436,"column":1}},"key":"ZN4jXP3o8e"}],"key":"ORswJIYDjF"},{"type":"tableCell","position":{"start":{"line":3436,"column":1},"end":{"line":3436,"column":1}},"children":[{"type":"inlineCode","value":"vals, vecs = np.linalg.eig(A)","position":{"start":{"line":3436,"column":1},"end":{"line":3436,"column":1}},"key":"Fvt4WHjNi5"}],"key":"FIdEd3t7F7"}],"key":"T3co8PRCo9"},{"type":"tableRow","position":{"start":{"line":3437,"column":1},"end":{"line":3437,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3437,"column":1},"end":{"line":3437,"column":1}},"children":[{"type":"inlineCode","value":"np.linalg.solve()","position":{"start":{"line":3437,"column":1},"end":{"line":3437,"column":1}},"key":"SpfprfiQUk"}],"key":"hUMGjDvt5O"},{"type":"tableCell","position":{"start":{"line":3437,"column":1},"end":{"line":3437,"column":1}},"children":[{"type":"text","value":"Solve Ax = b","position":{"start":{"line":3437,"column":1},"end":{"line":3437,"column":1}},"key":"GWj7SiDPIw"}],"key":"D4Y7myxwbS"},{"type":"tableCell","position":{"start":{"line":3437,"column":1},"end":{"line":3437,"column":1}},"children":[{"type":"inlineCode","value":"np.linalg.solve(A, b)","position":{"start":{"line":3437,"column":1},"end":{"line":3437,"column":1}},"key":"nuS7JmBHta"}],"key":"Zs9RUVtLC2"}],"key":"MHt8HFAvHJ"},{"type":"tableRow","position":{"start":{"line":3438,"column":1},"end":{"line":3438,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3438,"column":1},"end":{"line":3438,"column":1}},"children":[{"type":"inlineCode","value":"np.linalg.lstsq()","position":{"start":{"line":3438,"column":1},"end":{"line":3438,"column":1}},"key":"kThzrnjg9z"}],"key":"h9UYGGeXrM"},{"type":"tableCell","position":{"start":{"line":3438,"column":1},"end":{"line":3438,"column":1}},"children":[{"type":"text","value":"Least squares","position":{"start":{"line":3438,"column":1},"end":{"line":3438,"column":1}},"key":"mXF8MHW7PR"}],"key":"ugRuWCMUpF"},{"type":"tableCell","position":{"start":{"line":3438,"column":1},"end":{"line":3438,"column":1}},"children":[{"type":"inlineCode","value":"np.linalg.lstsq(A, b)","position":{"start":{"line":3438,"column":1},"end":{"line":3438,"column":1}},"key":"FwyCRgj1J1"}],"key":"SkmwRRqSoA"}],"key":"B4enZnp13d"},{"type":"tableRow","position":{"start":{"line":3439,"column":1},"end":{"line":3439,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3439,"column":1},"end":{"line":3439,"column":1}},"children":[{"type":"inlineCode","value":"np.linalg.norm()","position":{"start":{"line":3439,"column":1},"end":{"line":3439,"column":1}},"key":"fUz1eZKXGS"}],"key":"Jcjjo5KePe"},{"type":"tableCell","position":{"start":{"line":3439,"column":1},"end":{"line":3439,"column":1}},"children":[{"type":"text","value":"Matrix/vector norm","position":{"start":{"line":3439,"column":1},"end":{"line":3439,"column":1}},"key":"jJB454xU1P"}],"key":"MDc56noJkT"},{"type":"tableCell","position":{"start":{"line":3439,"column":1},"end":{"line":3439,"column":1}},"children":[{"type":"inlineCode","value":"np.linalg.norm(A)","position":{"start":{"line":3439,"column":1},"end":{"line":3439,"column":1}},"key":"IvpH752Nzh"}],"key":"DHzM1fyBhO"}],"key":"KQsmxuTCMP"},{"type":"tableRow","position":{"start":{"line":3440,"column":1},"end":{"line":3440,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3440,"column":1},"end":{"line":3440,"column":1}},"children":[{"type":"inlineCode","value":"np.linalg.svd()","position":{"start":{"line":3440,"column":1},"end":{"line":3440,"column":1}},"key":"NwUzMb9vWW"}],"key":"bx6fhtChwk"},{"type":"tableCell","position":{"start":{"line":3440,"column":1},"end":{"line":3440,"column":1}},"children":[{"type":"text","value":"Singular value decomp","position":{"start":{"line":3440,"column":1},"end":{"line":3440,"column":1}},"key":"INhTGDUAjZ"}],"key":"BNV8fiXTio"},{"type":"tableCell","position":{"start":{"line":3440,"column":1},"end":{"line":3440,"column":1}},"children":[{"type":"inlineCode","value":"U, s, Vh = np.linalg.svd(A)","position":{"start":{"line":3440,"column":1},"end":{"line":3440,"column":1}},"key":"u7YkGOfCWx"}],"key":"mUmPKQYZcm"}],"key":"zWcKZiLlA7"},{"type":"tableRow","position":{"start":{"line":3441,"column":1},"end":{"line":3441,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3441,"column":1},"end":{"line":3441,"column":1}},"children":[{"type":"inlineCode","value":"np.linalg.qr()","position":{"start":{"line":3441,"column":1},"end":{"line":3441,"column":1}},"key":"ZASOfdlAaJ"}],"key":"mRTGY1KFur"},{"type":"tableCell","position":{"start":{"line":3441,"column":1},"end":{"line":3441,"column":1}},"children":[{"type":"text","value":"QR decomposition","position":{"start":{"line":3441,"column":1},"end":{"line":3441,"column":1}},"key":"QRjDomu857"}],"key":"UV7rNHSuFH"},{"type":"tableCell","position":{"start":{"line":3441,"column":1},"end":{"line":3441,"column":1}},"children":[{"type":"inlineCode","value":"Q, R = np.linalg.qr(A)","position":{"start":{"line":3441,"column":1},"end":{"line":3441,"column":1}},"key":"JLdFquMMCU"}],"key":"v0Dgiri25A"}],"key":"KTOaonl22F"}],"key":"a5Jdjyx098"},{"type":"heading","depth":2,"position":{"start":{"line":3443,"column":1},"end":{"line":3443,"column":1}},"children":[{"type":"text","value":"Common Patterns Reference","position":{"start":{"line":3443,"column":1},"end":{"line":3443,"column":1}},"key":"i4XqnVprKM"}],"identifier":"common-patterns-reference","label":"Common Patterns Reference","html_id":"common-patterns-reference","implicit":true,"key":"iXm5zRzkMp"},{"type":"heading","depth":3,"position":{"start":{"line":3445,"column":1},"end":{"line":3445,"column":1}},"children":[{"type":"text","value":"Pattern: Normalize Data","position":{"start":{"line":3445,"column":1},"end":{"line":3445,"column":1}},"key":"zP19ErBXDo"}],"identifier":"pattern-normalize-data","label":"Pattern: Normalize Data","html_id":"pattern-normalize-data","implicit":true,"key":"LwTnZ5ReFI"},{"type":"code","lang":"python","value":"# Min-max normalization to [0, 1]\nnormalized = (data - data.min()) / (data.max() - data.min())\n\n# Z-score normalization (standardization)\nstandardized = (data - data.mean()) / data.std()\n\n# Normalize each column independently\ncol_normalized = (data - data.mean(axis=0)) / data.std(axis=0)","position":{"start":{"line":3446,"column":1},"end":{"line":3455,"column":1}},"key":"Ifq0kpEWM2"},{"type":"heading","depth":3,"position":{"start":{"line":3457,"column":1},"end":{"line":3457,"column":1}},"children":[{"type":"text","value":"Pattern: Find Indices","position":{"start":{"line":3457,"column":1},"end":{"line":3457,"column":1}},"key":"BcF2an1ze6"}],"identifier":"pattern-find-indices","label":"Pattern: Find Indices","html_id":"pattern-find-indices","implicit":true,"key":"MPx9jk0DTp"},{"type":"code","lang":"python","value":"# Find indices where condition is true\nindices = np.where(arr \u003e threshold)\n\n# Find first/last occurrence\nfirst_idx = np.argmax(arr \u003e threshold)  # First True\nlast_idx = len(arr) - np.argmax((arr \u003e threshold)[::-1]) - 1\n\n# Find N largest/smallest indices\nn_largest_idx = np.argpartition(arr, -n)[-n:]\nn_smallest_idx = np.argpartition(arr, n)[:n]","position":{"start":{"line":3458,"column":1},"end":{"line":3469,"column":1}},"key":"iBlHcuR83z"},{"type":"heading","depth":3,"position":{"start":{"line":3471,"column":1},"end":{"line":3471,"column":1}},"children":[{"type":"text","value":"Pattern: Sliding Window","position":{"start":{"line":3471,"column":1},"end":{"line":3471,"column":1}},"key":"CE45QfBJ4d"}],"identifier":"pattern-sliding-window","label":"Pattern: Sliding Window","html_id":"pattern-sliding-window","implicit":true,"key":"UvA336j6ax"},{"type":"code","lang":"python","value":"# Using stride tricks for sliding windows\nfrom numpy.lib.stride_tricks import sliding_window_view\n\n# Sliding window of size 3\nwindows = sliding_window_view(arr, window_shape=3)\n\n# Manual approach with as_strided (advanced)\nfrom numpy.lib.stride_tricks import as_strided\nwindow_size = 3\nshape = (len(arr) - window_size + 1, window_size)\nstrides = (arr.strides[0], arr.strides[0])\nwindows = as_strided(arr, shape=shape, strides=strides)","position":{"start":{"line":3472,"column":1},"end":{"line":3485,"column":1}},"key":"yXb2YihfWJ"},{"type":"heading","depth":3,"position":{"start":{"line":3487,"column":1},"end":{"line":3487,"column":1}},"children":[{"type":"text","value":"Pattern: Batch Processing","position":{"start":{"line":3487,"column":1},"end":{"line":3487,"column":1}},"key":"nyLCyL5bwW"}],"identifier":"pattern-batch-processing","label":"Pattern: Batch Processing","html_id":"pattern-batch-processing","implicit":true,"key":"X8RFEtdP1Y"},{"type":"code","lang":"python","value":"# Process large array in batches\nbatch_size = 1000\nn_samples = len(data)\n\nfor start_idx in range(0, n_samples, batch_size):\n    end_idx = min(start_idx + batch_size, n_samples)\n    batch = data[start_idx:end_idx]\n    # Process batch\n    result[start_idx:end_idx] = process(batch)","position":{"start":{"line":3488,"column":1},"end":{"line":3498,"column":1}},"key":"Wm6AE3wmKn"},{"type":"heading","depth":2,"position":{"start":{"line":3500,"column":1},"end":{"line":3500,"column":1}},"children":[{"type":"text","value":"Debugging Checklist","position":{"start":{"line":3500,"column":1},"end":{"line":3500,"column":1}},"key":"d022xo8f3W"}],"identifier":"debugging-checklist","label":"Debugging Checklist","html_id":"debugging-checklist-1","implicit":true,"key":"FfavkR2wqk"},{"type":"paragraph","position":{"start":{"line":3502,"column":1},"end":{"line":3502,"column":1}},"children":[{"type":"text","value":"When NumPy code doesn’t work as expected, check:","position":{"start":{"line":3502,"column":1},"end":{"line":3502,"column":1}},"key":"csUYeRdMhV"}],"key":"dCDOL6L4v3"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":3504,"column":1},"end":{"line":3535,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3504,"column":1},"end":{"line":3508,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3504,"column":1},"end":{"line":3504,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3504,"column":1},"end":{"line":3504,"column":1}},"children":[{"type":"text","value":"Shape mismatch","position":{"start":{"line":3504,"column":1},"end":{"line":3504,"column":1}},"key":"dzEUctUluH"}],"key":"UJFdHOfeRf"},{"type":"text","value":": Print shapes of all arrays","position":{"start":{"line":3504,"column":1},"end":{"line":3504,"column":1}},"key":"gUhc87VN9a"}],"key":"m2ypKrEGXI"},{"type":"code","lang":"python","value":"print(f\"A shape: {A.shape}, B shape: {B.shape}\")","position":{"start":{"line":3505,"column":1},"end":{"line":3507,"column":1}},"key":"hV2sfFYCoD"}],"key":"k5baT1DUp2"},{"type":"listItem","spread":true,"position":{"start":{"line":3509,"column":1},"end":{"line":3514,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3509,"column":1},"end":{"line":3509,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3509,"column":1},"end":{"line":3509,"column":1}},"children":[{"type":"text","value":"Data type issues","position":{"start":{"line":3509,"column":1},"end":{"line":3509,"column":1}},"key":"IhUinnUeO4"}],"key":"Vwzcps2W89"},{"type":"text","value":": Check and convert if needed","position":{"start":{"line":3509,"column":1},"end":{"line":3509,"column":1}},"key":"ET5gaK3Emr"}],"key":"LBt15M7ndh"},{"type":"code","lang":"python","value":"print(f\"dtype: {arr.dtype}\")\narr = arr.astype(np.float64)","position":{"start":{"line":3510,"column":1},"end":{"line":3513,"column":1}},"key":"tc2YANo4Ia"}],"key":"zJaYaWf8ZC"},{"type":"listItem","spread":true,"position":{"start":{"line":3515,"column":1},"end":{"line":3519,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3515,"column":1},"end":{"line":3515,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3515,"column":1},"end":{"line":3515,"column":1}},"children":[{"type":"text","value":"View vs copy","position":{"start":{"line":3515,"column":1},"end":{"line":3515,"column":1}},"key":"x1FCU92vcZ"}],"key":"JA51CT9fgn"},{"type":"text","value":": Check if modification affects original","position":{"start":{"line":3515,"column":1},"end":{"line":3515,"column":1}},"key":"GtAOsd7q1b"}],"key":"M7fTachR8y"},{"type":"code","lang":"python","value":"print(f\"Is view: {arr.base is not None}\")","position":{"start":{"line":3516,"column":1},"end":{"line":3518,"column":1}},"key":"FUtnVwOouL"}],"key":"K0nTTxOKbg"},{"type":"listItem","spread":true,"position":{"start":{"line":3520,"column":1},"end":{"line":3524,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3520,"column":1},"end":{"line":3520,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3520,"column":1},"end":{"line":3520,"column":1}},"children":[{"type":"text","value":"Broadcasting","position":{"start":{"line":3520,"column":1},"end":{"line":3520,"column":1}},"key":"bNfxfnf2YK"}],"key":"dVYkA2b3iB"},{"type":"text","value":": Verify broadcast behavior","position":{"start":{"line":3520,"column":1},"end":{"line":3520,"column":1}},"key":"JAcXHWAyAO"}],"key":"bGefb5Xtvh"},{"type":"code","lang":"python","value":"result_shape = np.broadcast_shapes(A.shape, B.shape)","position":{"start":{"line":3521,"column":1},"end":{"line":3523,"column":1}},"key":"YoFcdp4n06"}],"key":"wjzb5j9gXa"},{"type":"listItem","spread":true,"position":{"start":{"line":3525,"column":1},"end":{"line":3529,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3525,"column":1},"end":{"line":3525,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3525,"column":1},"end":{"line":3525,"column":1}},"children":[{"type":"text","value":"Memory layout","position":{"start":{"line":3525,"column":1},"end":{"line":3525,"column":1}},"key":"WDs88chNci"}],"key":"wygBdzKt02"},{"type":"text","value":": Check for performance issues","position":{"start":{"line":3525,"column":1},"end":{"line":3525,"column":1}},"key":"GBsxz0n9o5"}],"key":"hCCsIwOyhE"},{"type":"code","lang":"python","value":"print(f\"C-contiguous: {arr.flags['C_CONTIGUOUS']}\")","position":{"start":{"line":3526,"column":1},"end":{"line":3528,"column":1}},"key":"EhcXzqahIe"}],"key":"zlZ7Lagbwy"},{"type":"listItem","spread":true,"position":{"start":{"line":3530,"column":1},"end":{"line":3535,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3530,"column":1},"end":{"line":3530,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3530,"column":1},"end":{"line":3530,"column":1}},"children":[{"type":"text","value":"NaN/Inf values","position":{"start":{"line":3530,"column":1},"end":{"line":3530,"column":1}},"key":"ATnj2zMhMe"}],"key":"E2DzRO2tM4"},{"type":"text","value":": Check for numerical issues","position":{"start":{"line":3530,"column":1},"end":{"line":3530,"column":1}},"key":"cLqVtHYYBf"}],"key":"X34PGPhWxh"},{"type":"code","lang":"python","value":"print(f\"Has NaN: {np.isnan(arr).any()}\")\nprint(f\"Has Inf: {np.isinf(arr).any()}\")","position":{"start":{"line":3531,"column":1},"end":{"line":3534,"column":1}},"key":"OqAr9WniN1"}],"key":"HDVYXlTKW4"}],"key":"uGH1NQBh81"},{"type":"heading","depth":2,"position":{"start":{"line":3536,"column":1},"end":{"line":3536,"column":1}},"children":[{"type":"text","value":"Further Resources","position":{"start":{"line":3536,"column":1},"end":{"line":3536,"column":1}},"key":"yLAmZvLzxB"}],"identifier":"further-resources","label":"Further Resources","html_id":"further-resources-1","implicit":true,"key":"IebkhpoZuN"},{"type":"heading","depth":3,"position":{"start":{"line":3538,"column":1},"end":{"line":3538,"column":1}},"children":[{"type":"text","value":"Official Documentation","position":{"start":{"line":3538,"column":1},"end":{"line":3538,"column":1}},"key":"U0FFK7eywZ"}],"identifier":"official-documentation","label":"Official Documentation","html_id":"official-documentation","implicit":true,"key":"pmirslCxyl"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3539,"column":1},"end":{"line":3542,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3539,"column":1},"end":{"line":3539,"column":1}},"children":[{"type":"link","url":"https://numpy.org/doc/stable/user/index.html","position":{"start":{"line":3539,"column":1},"end":{"line":3539,"column":1}},"children":[{"type":"text","value":"NumPy User Guide","position":{"start":{"line":3539,"column":1},"end":{"line":3539,"column":1}},"key":"Yeu8ALQvUL"}],"urlSource":"https://numpy.org/doc/stable/user/index.html","key":"NAKdDZdBNz"},{"type":"text","value":" - Comprehensive user guide","position":{"start":{"line":3539,"column":1},"end":{"line":3539,"column":1}},"key":"PBfyCGHNsr"}],"key":"v9wisIHTKu"},{"type":"listItem","spread":true,"position":{"start":{"line":3540,"column":1},"end":{"line":3540,"column":1}},"children":[{"type":"link","url":"https://numpy.org/doc/stable/reference/index.html","position":{"start":{"line":3540,"column":1},"end":{"line":3540,"column":1}},"children":[{"type":"text","value":"NumPy Reference","position":{"start":{"line":3540,"column":1},"end":{"line":3540,"column":1}},"key":"UiPRGbQ94K"}],"urlSource":"https://numpy.org/doc/stable/reference/index.html","key":"ftgzr2m5nq"},{"type":"text","value":" - Complete API reference","position":{"start":{"line":3540,"column":1},"end":{"line":3540,"column":1}},"key":"f4u4Jsndp9"}],"key":"lkALCFHwzL"},{"type":"listItem","spread":true,"position":{"start":{"line":3541,"column":1},"end":{"line":3542,"column":1}},"children":[{"type":"link","url":"https://numpy.org/doc/stable/user/numpy-for-matlab-users.html","position":{"start":{"line":3541,"column":1},"end":{"line":3541,"column":1}},"children":[{"type":"text","value":"NumPy for MATLAB users","position":{"start":{"line":3541,"column":1},"end":{"line":3541,"column":1}},"key":"DPKTc9NTco"}],"urlSource":"https://numpy.org/doc/stable/user/numpy-for-matlab-users.html","key":"tZV3UkehHR"},{"type":"text","value":" - Transition guide","position":{"start":{"line":3541,"column":1},"end":{"line":3541,"column":1}},"key":"B6bc1YKozo"}],"key":"GyDlvQkemv"}],"key":"klWmgSospd"},{"type":"heading","depth":3,"position":{"start":{"line":3543,"column":1},"end":{"line":3543,"column":1}},"children":[{"type":"text","value":"Advanced Topics","position":{"start":{"line":3543,"column":1},"end":{"line":3543,"column":1}},"key":"AcplGCwiNw"}],"identifier":"advanced-topics","label":"Advanced Topics","html_id":"advanced-topics","implicit":true,"key":"GVVwMyHlLJ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3544,"column":1},"end":{"line":3547,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3544,"column":1},"end":{"line":3544,"column":1}},"children":[{"type":"link","url":"https://numpy.org/doc/stable/reference/internals.html","position":{"start":{"line":3544,"column":1},"end":{"line":3544,"column":1}},"children":[{"type":"text","value":"NumPy’s internals","position":{"start":{"line":3544,"column":1},"end":{"line":3544,"column":1}},"key":"uvkO2eakvw"}],"urlSource":"https://numpy.org/doc/stable/reference/internals.html","key":"c0Kbdly1lk"},{"type":"text","value":" - How NumPy works under the hood","position":{"start":{"line":3544,"column":1},"end":{"line":3544,"column":1}},"key":"ARo3D2mRTK"}],"key":"TSH5UtzhFh"},{"type":"listItem","spread":true,"position":{"start":{"line":3545,"column":1},"end":{"line":3545,"column":1}},"children":[{"type":"link","url":"https://numpy.org/doc/stable/reference/arrays.interface.html","position":{"start":{"line":3545,"column":1},"end":{"line":3545,"column":1}},"children":[{"type":"text","value":"Array interface","position":{"start":{"line":3545,"column":1},"end":{"line":3545,"column":1}},"key":"uJvA33RR4Q"}],"urlSource":"https://numpy.org/doc/stable/reference/arrays.interface.html","key":"ReK64zdlu2"},{"type":"text","value":" - For creating NumPy-compatible objects","position":{"start":{"line":3545,"column":1},"end":{"line":3545,"column":1}},"key":"o7JOrkAJpQ"}],"key":"e5P6KtJj0G"},{"type":"listItem","spread":true,"position":{"start":{"line":3546,"column":1},"end":{"line":3547,"column":1}},"children":[{"type":"link","url":"https://numpy.org/doc/stable/reference/c-api/index.html","position":{"start":{"line":3546,"column":1},"end":{"line":3546,"column":1}},"children":[{"type":"text","value":"C-API","position":{"start":{"line":3546,"column":1},"end":{"line":3546,"column":1}},"key":"nrXup8oIWB"}],"urlSource":"https://numpy.org/doc/stable/reference/c-api/index.html","key":"etCWRrPSIt"},{"type":"text","value":" - For extending NumPy with C","position":{"start":{"line":3546,"column":1},"end":{"line":3546,"column":1}},"key":"bKucKRlXKV"}],"key":"WkdjrrgAUc"}],"key":"uoVU7o4Evh"},{"type":"heading","depth":3,"position":{"start":{"line":3548,"column":1},"end":{"line":3548,"column":1}},"children":[{"type":"text","value":"Performance Resources","position":{"start":{"line":3548,"column":1},"end":{"line":3548,"column":1}},"key":"R3g0N8e0ZR"}],"identifier":"performance-resources","label":"Performance Resources","html_id":"performance-resources","implicit":true,"key":"W6NppKcz7E"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3549,"column":1},"end":{"line":3551,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3549,"column":1},"end":{"line":3549,"column":1}},"children":[{"type":"link","url":"https://numpy.org/doc/stable/user/c-info.how-to-extend.html","position":{"start":{"line":3549,"column":1},"end":{"line":3549,"column":1}},"children":[{"type":"text","value":"Performance tips","position":{"start":{"line":3549,"column":1},"end":{"line":3549,"column":1}},"key":"cIpQx3WwcO"}],"urlSource":"https://numpy.org/doc/stable/user/c-info.how-to-extend.html","key":"Jgp3wC98zp"},{"type":"text","value":" - Official optimization guide","position":{"start":{"line":3549,"column":1},"end":{"line":3549,"column":1}},"key":"Lj26sFmwAU"}],"key":"T1XPHrkAug"},{"type":"listItem","spread":true,"position":{"start":{"line":3550,"column":1},"end":{"line":3551,"column":1}},"children":[{"type":"link","url":"https://numpy.org/doc/stable/reference/arrays.ndarray.html#internal-memory-layout-of-an-ndarray","position":{"start":{"line":3550,"column":1},"end":{"line":3550,"column":1}},"children":[{"type":"text","value":"Memory layout","position":{"start":{"line":3550,"column":1},"end":{"line":3550,"column":1}},"key":"iQ4Hum1pFb"}],"urlSource":"https://numpy.org/doc/stable/reference/arrays.ndarray.html#internal-memory-layout-of-an-ndarray","key":"s7QGD10hxY"},{"type":"text","value":" - Understanding strides and memory","position":{"start":{"line":3550,"column":1},"end":{"line":3550,"column":1}},"key":"sGtQau5GxY"}],"key":"C6pVZHSfc7"}],"key":"Ya7gspAgYa"},{"type":"heading","depth":2,"position":{"start":{"line":3552,"column":1},"end":{"line":3552,"column":1}},"children":[{"type":"text","value":"Next Chapter Preview","position":{"start":{"line":3552,"column":1},"end":{"line":3552,"column":1}},"key":"huBzT0w29n"}],"identifier":"next-chapter-preview","label":"Next Chapter Preview","html_id":"next-chapter-preview-1","implicit":true,"key":"bqOaEM64N1"},{"type":"paragraph","position":{"start":{"line":3554,"column":1},"end":{"line":3554,"column":1}},"children":[{"type":"text","value":"With NumPy mastery achieved, Chapter 8 introduces Matplotlib for visualization. You’ll discover how Matplotlib’s object-oriented design (building on Chapter 6) works seamlessly with NumPy arrays. You’ll learn to create publication-quality figures, from simple line plots to complex multi-panel visualizations, understanding how every plot element is an object you can customize.","position":{"start":{"line":3554,"column":1},"end":{"line":3554,"column":1}},"key":"cNC5ljolji"}],"key":"fJsiu3exMo"},{"type":"paragraph","position":{"start":{"line":3556,"column":1},"end":{"line":3556,"column":1}},"children":[{"type":"text","value":"The NumPy-Matplotlib connection is fundamental: every data point you plot is a NumPy array, every image you display is a NumPy array, and every transformation you apply uses NumPy operations. Understanding NumPy deeply means you can manipulate plot data directly, create custom colormaps as arrays, and even implement your own visualization algorithms.","position":{"start":{"line":3556,"column":1},"end":{"line":3556,"column":1}},"key":"s2mllqHn3Y"}],"key":"KY42iBMwO0"},{"type":"paragraph","position":{"start":{"line":3558,"column":1},"end":{"line":3558,"column":1}},"children":[{"type":"text","value":"Get ready to make your data sing through visualization!","position":{"start":{"line":3558,"column":1},"end":{"line":3558,"column":1}},"key":"hBcxaW8ZXP"}],"key":"hQUsNGM3Ak"}],"key":"ugPJMZ4PSA"}],"key":"BPGvNM3uXM"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Chapter 6: Object-Oriented Programming - Organizing Scientific Code","url":"/python-oop-orig","group":"Python Fundamentals"},"next":{"title":"Chapter 8: Matplotlib - Creating Publication-Quality Scientific Visualizations","url":"/python-matplotlib-scientific-orig","group":"Scientific Computing Core"}}},"domain":"http://localhost:3001"},"project":{"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"subject":"Modeling the Universe","title":"ASTR 596: Modeling the Universe","description":"Graduate-level computational astrophysics course emphasizing glass-box modeling and modern computational frameworks","authors":[{"nameParsed":{"literal":"Anna Rosen","given":"Anna","family":"Rosen"},"name":"Anna Rosen","orcid":"0000-0003-4423-0660","email":"alrosen@sdsu.edu","affiliations":["San Diego State University"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"venue":{"title":"ASTR 596 - Fall 2025","url":"https://www.anna-rosen.com"},"github":"https://github.com/astrobytes-edu/astr596-modeling-universe","keywords":["computational astrophysics","python","numerical methods","machine learning","monte carlo","neural networks","radiative transfer","bayesian inference","JAX"],"affiliations":[{"id":"San Diego State University","name":"San Diego State University"}],"id":"76c4875f-ba4c-4a35-bc58-52304ee2705e","thebe":{"kernelName":"python3"},"exports":[],"bibliography":[],"index":"index","pages":[{"title":"Course Info","level":1},{"slug":"syllabus","title":"Syllabus - ASTR 596: Modeling the Universe","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"schedule","title":"Course Schedule \u0026 Important Dates","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"ai-guidelines-final","title":"ASTR 596 AI Policy \u0026 Learning Framework","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"learning-guide-final","title":"Troubleshooting \u0026 Learning Guide","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"course-overview-final","title":"Understanding Your Learning Journey in ASTR 596","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"why-different-final","title":"Why ASTR 596 is Designed This Way","description":"","date":"","thumbnail":"/build/growth-mindset-f09d688b3b9e3cf1880effa6bda2802e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Getting Started","level":1},{"slug":"software-setup-guide-orig","title":"Software Setup Guide","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"git-intro-guide-orig","title":"Introduction to Git and GitHub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"cli-intro-guide-orig","title":"Introduction to the Command Line Interface (CLI)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Python","level":1},{"title":"Python Fundamentals","level":2},{"slug":"python-enrivonment-revised","title":"Chapter 1: Computational Environments \u0026 Scientific Workflows","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-calculator-orig","title":"Chapter 2: Python as a Calculator \u0026 Basic Data Types","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-control-flow-orig","title":"Chapter 3: Control Flow \u0026 Logic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-data-structures-orig","title":"Chapter 4: Data Structures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-functions-modules-orig","title":"Chapter 5: Functions \u0026 Modules - Building Reusable Scientific Code","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-oop-orig","title":"Chapter 6: Object-Oriented Programming - Organizing Scientific Code","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Scientific Computing Core","level":2},{"slug":"python-numpy-scientific-orig","title":"Chapter 7: NumPy - The Foundation of Scientific Computing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-matplotlib-scientific-orig","title":"Chapter 8: Matplotlib - Creating Publication-Quality Scientific Visualizations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"python-robust-computing-orig","title":"Chapter 9: Robust Computing Fundamentals - Error Handling and Best Practices","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Computational Methods","level":1},{"slug":"index-1","title":"Computational Methods","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Machine Learning","level":2},{"slug":"index-2","title":"Machine Learning","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Modern Frameworks","level":2},{"slug":"index-3","title":"Modern Frameworks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Numerical Methods","level":2},{"slug":"index-4","title":"Numerical Methods","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Python Fundamentals V1","level":2},{"title":"Python Fundamentals","level":3},{"slug":"index-5","title":"Python Fundamentals","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"chapter1-python-calculator","title":"Chapter 1: Python as a Scientific Calculator","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"chapter2-control-flow","title":"Chapter 2: Control Flow \u0026 Logic - Teaching Computers to Think","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"chapter3-functions","title":"Chapter 3: Functions - The Art of Abstraction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Astrophysics","level":1},{"slug":"index-6","title":"Astrophysics Applications","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Advanced Topics","level":2},{"slug":"index-7","title":"Advanced Topics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Gravitational Dynamics","level":2},{"slug":"index-8","title":"Gravitational Dynamics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Radiative Transfer","level":2},{"slug":"index-9","title":"Radiative Transfer","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Stellar Physics","level":2},{"slug":"index-10","title":"Stellar Physics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Short Projects","level":1},{"slug":"index-11","title":"Short Projects Overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"project-submission-guide","title":"ASTR 596: Project Submission Guide","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"project1-description","title":"ASTR 596 Project 1: Python Fundamentals + Numerical Analysis + Stellar Physics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"project2-description","title":"ASTR 596 Project 2: N-Body Dynamics + Statistical Sampling + Stellar Systems","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"project3-description","title":"ASTR 596 Project 3: Monte Carlo Radiative Transfer + MCMC + Bayesian Statistics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Final Project","level":1},{"slug":"index-12","title":"Final Project: Neural Networks \u0026 JAX","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"astr596-project-outline","title":"ASTR596: Modeling the Universe - Complete Scaffolded Project Progression","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"final-project-guide","title":"ASTR 596: Final Project Guide","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"Reference","level":1},{"slug":"index-13","title":"Reference Materials","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"cli-advanced-guide","title":"Advanced CLI Guide (Optional)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"title":"External Resources","level":2},{"slug":"index-14","title":"External Resources","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Quick References","level":2},{"slug":"index-15","title":"Quick References","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Troubleshooting","level":2},{"slug":"index-16","title":"Troubleshooting","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/build/manifest-B2B2E6A5.js";
import * as route0 from "/build/root-IB5726YR.js";
import * as route1 from "/build/routes/$-LXLHKVOR.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/build/entry.client-UNPC4GT3.js");</script></body></html>