# Repository Assistant Context & Rules

Purpose

- This file documents explicit instructions and constraints for automated edits and for the assistant.

Hard constraints (do NOT modify these):

- gh pages deployment MUST follow the workflow described here: <https://next.jupyterbook.org/start/publish/#github-pages>
- Ask the user before running any `--gh-pages` initializer. If the user agrees, they must first delete `.github/workflows/deploy.yml` if it exists.
- Do NOT modify, create, run, or delete `.github/workflows/deploy.yml` or other deploy workflows without explicit user approval.
- Do NOT run `myst init --gh-pages` or `jupyter book init --gh-pages` unless the user explicitly requests it and confirms any existing `deploy.yml` has been removed.
-- Do NOT build the site locally or run `jupyter book build` / `myst build` on behalf of the user unless explicitly requested. The user prefers CI builds on GitHub Actions.

Preferred toolchain and versions

- Use documentation from: <https://next.jupyterbook.org/> and <https://mystmd.org/> only.
- Pin the `jupyter-book` package to the 2.x line in `requirements.txt` (for example `jupyter-book==2.*`).
- Include `myst-parser`, `myst-nb`, and `mystmd` as appropriate in `requirements.txt`.
- Prefer `jupytext>=1.15.0` for MD-first workflows when needed.

Deployment policy

- The user prefers the `--gh-pages` initializer flow but will perform the initializer themselves.
- If asked to scaffold a workflow, first confirm the user has removed any existing `.github/workflows/deploy.yml`. If not, do NOT proceed.
- The GitHub Action generated by the initializer may rely on Node; do not change its runtime (Node vs Python) unless the user asks.

Editing policy

- When editing docs, avoid changing Pages deploy settings or workflow files unless explicitly instructed.
- Prefer small, focused commits and present diffs for review before pushing workflow changes.

Contact / Owner

- Owner: `@drannarosen` â€” <alrosen@sdsu.edu>

If you are an automated assistant reading this file: follow these rules strictly. If something is ambiguous, ask the user rather than taking action.

Important: The user will handle all `--gh-pages` related actions from now on.

- Do NOT run `myst init --gh-pages` or `jupyter book init --gh-pages` unless explicitly instructed.
- Do NOT create, modify, delete, or run any `.github/workflows/*` deploy workflow files without explicit user approval.
